; Constants and state file.
; There are comments scattered through this file, so you may like to
; take a look if would like to learn more about the cns.

[Data]
life = 1000			;Amount of life to start with
attack = 100		;attack power (more is stronger)
defence = 100		;defensive power (more is stronger)
fall.defence_up = 50	;Percentage to increase defense everytime player is knocked down
liedown.time = 60		;Time which player lies down for, before getting up
airjuggle = 15		;Number of points for juggling
sparkno = 2			;Default hit spark number for HitDefs
guard.sparkno = 40	;Default guard spark number
KO.echo = 0			;1 to enable echo on KO
volume = 0			;Volume offset (negative for softer)
;IntPersistIndex = 59	;Variables with this index and above will not have their values
;FloatPersistIndex = 0  ;reset to 0 between rounds or matches. There are 60 int variables,
  				;indexed from 0 to 59, and 40 float variables, indexed from 0 to 39.
  				;If omitted, then it defaults to 60 and 40 for integer and float
  				;variables repectively, meaning that none are persistent, i.e. all
  				;are reset. If you want your variables to persist between matches,
  				;you need to override state 5900 from common1.cns.


[Size]
xscale = 1			;Horizontal scaling factor.
yscale = 1			;Vertical scaling factor.
ground.back = 45		;Player width (back, ground)
ground.front = 35		;Player width (front, ground)
air.back = 30		;Player width (back, air)
air.front = 30		;Player width (front, air)
height = 60			;Height of player (for opponent to jump over)
attack.dist = 160		;Default attack distance
proj.attack.dist = 90	;Default attack distance for projectiles
proj.doscale = 0		;Set to 1 to scale projectiles too   
head.pos = -5, -105	;Approximate position of head
mid.pos = -5, -70		;Approximate position of midsection
shadowoffset = 0		;Number of pixels to vertically offset the shadow
draw.offset = 0,0		;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 2.5		;Walk forward
walk.back = -1.85	      ;Walk backward
run.fwd  = 5, 0		;Run forward (x, y)
run.back = -4.5,-3.8	;Hop backward (x, y)
jump.neu = 0,-10.9     	;Neutral jumping velocity (x, y)
jump.back = -2.9		;Jump back Speed (x, y)
jump.fwd = 2.9		;Jump forward Speed (x, y)
runjump.back = -2.55,-8.1;Running jump speeds (opt)
runjump.fwd = 4.7,-8.1	;.
airjump.neu = 0,-8.1	;.
airjump.back = -2.55	;Air jump speeds (opt)
airjump.fwd = 3.5		;.

[Movement]
airjump.num = 0		;Number of air jumps allowed (opt)
airjump.height = 35	;Minimum distance from ground before you can air jump (opt)
yaccel = .63		;Vertical acceleration
stand.friction = .8
crouch.friction = .8


[Quotes]
; Up to 100 victory quotes can be specified per language (victory0 - victory99)
victory1 = "Don't bother getting up. I'll show myself out."
victory2 = "HULK SMASH!!! Sorry, I just had to say it."
victory3 = "I hope your medical insurance is paid up."
victory4 = "Some days it just doesn't pay to get out of bed, does it?"
victory5 = "Have you ever considered gamma radiation? It did wonders for me."
victory6 = "Good fight! I might even have bruises from this!"
victory7 = "I said you wouldn't like you when I'm angry. Maybe you'll listen next time"
victory8 = "Brains and a body, what a perfect combo."
victory9 = "Don't ever call me Banner!"
victory10= "Don't make me angry! You wouldn't like me..."
victory11= "Hulk Smash! Smash! Smash! Only kidding..."
victory12 = "I am a mean, green, fighting machine."
victory13 = "I beat the Thing. You are no Thing!"
victory14= "I do not care about the fight, only your pain!"
victory15 = "What do you think? Green or Gray?"
victory16= "All this, and I can tote babes too!"
victory17= "Barely flexed a bicep that time. Who's next?"
victory18 = "Come back later; I've got some research to do!"
victory19 = "Gamma-charged and ready for the next match-up!"
victory20= "Hey, quit hitting my fists with your head."
victory21= "I've had a harder time swatting mosquitoes."
victory22= "Still the strongest in this or any other world!"
victory23 = "That was pathetic. Are you trying to be funny?"
victory24 = "No one stops Hulk!"
;---------------------------------------------------------------------------
; Format:
; [Statedef STATENO]
; type = ?      S/C/A/L  stand/crouch/air/liedown
; movetype = ?  I/A/H    idle/attack/gethit
; physics = ?   S/C/A/N  stand/crouch/air/none
; juggle = ?             air juggle points move requires
;
; [State STATENO, ?]     ? - any number you choose
; type = ?
; ...

;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
[Statedef 180]
type = S

[State 180, Randomizer]
type = VarRandom
trigger1 = Time = 0
v = 2
range = 0,2

[State 180, 1]
type = ChangeState
trigger1 = Time = 0 && var(2)=1
value = 181

[State 180, 1]
type = ChangeState
trigger1 = Time = 0 && var(2)=0
value = 182

[State 180, 1]
type = ChangeState
trigger1 = Time = 0 && var(2)=2
value = 183

; CNS difficulty: basic
[statedef 181]
type = s
ctrl = 0
anim = 180
velset = 0,0

[State 180, Randomizer]
type = VarRandom
trigger1 = Time > 0
trigger1 = Time < 10
v = 5
range = 0,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,7

[state 181, 1]
type = nothitby
trigger1 = 1
value = sca
time = 1






[statedef 182]
type = s
ctrl = 0
anim = 181
velset = 0,0

[State 180, Randomizer]
type = VarRandom
trigger1 = Time = 0
v = 5
range = 0,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8

[state 181, 1]
type = nothitby
trigger1 = 1
value = sca
time = 1


[statedef 183]
type = s
ctrl = 0
anim = 181
velset = 0,0

[State 180, Randomizer]
type = VarRandom
trigger1 = Time = 0
v = 5
range = 0,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,7

[state 181, 1]
type = nothitby
trigger1 = 1
value = sca
time = 1


;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
[Statedef 190]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 191, 10]
type = ScreenBound
trigger1 = 1
movecamera = 0,0


[State 191, Explod]
type = Explod
trigger1 = Time = 0
anim = 190
postype = P1
pos = 0,-300
id = 11190
;bindtime = -1
removetime = -1
sprpriority = 1
ownpal = 1
scale = 1,1
vel = 0,11


[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 52, Explod]
type = Explod
trigger1 = time = 28;Pos Y >= -15
trigger1 = RoundNo = 1
anim = 192
pos = 0, 0
time = -2
ignorehitpause = 0
ontop = 1

[State 52, Explod]
type = Explod
trigger1 = time = 28;RoundNo = 1
anim = 193
pos = 0, 0
time = -2
sprpriority = -5
ignorehitpause = 0

[State 190, 1]
type = PlaySnd
trigger1 = Time = 28
value = 40, 0

[State 190, 1]
type = PlaySnd
trigger1 = Animelem = 3
value = 0, 2

[State 810, 12]
type = EnvShake
trigger1 = Time = 28
time = 10
freq = 90
ampl = -10

[State 191, RemoveExplod]
type = RemoveExplod
trigger1 = time = 28;(Pos Y >= 0) && (Vel Y > 0)
id = 8190

[State 191, RemoveExplod]
type = RemoveExplod
trigger1 = time = 28;(Pos Y >= 0) && (Vel Y > 0)
id = 11190

[State 0, ChangeAnim]
type = ChangeState
trigger1 =  animtime = 0
value = 0
;elem = 1
;ignorehitpause =
;persistent =
;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
[Statedef 191]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 190, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 191

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 1]
type = PlaySnd
trigger1 = Time = 0
value = 40, 0

[State 190, 1]
type = PlaySnd
trigger1 = Animelem = 3
value = 0, 2

[State 810, 12]
type = EnvShake
trigger1 = Time = 0
time = 10
freq = 90
ampl = -10

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
[Statedef 192]
type = S
ctrl = 0
anim = 0
velset = 0,0

[State 190, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 0

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 0
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 195

[State 190, 1] 
type = PlaySnd
trigger1 = Time = 12
value = 0, 7

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Light Punch
; CNS difficulty: easy
[Statedef 200]
type    = S				;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A				;Move-type: A-attack, I-idle, H-gethit
physics = S				;Physics: S-stand, C-crouch, A-air
juggle  = 1				;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0			;Set velocity (x,y) (Def: no change)
ctrl = 0				;Set ctrl (Def: no change)
poweradd = ifelse(PrevStateNo = 9000, 0, 20)  ;Power to add (Def: 0)
sprpriority = 2			;Set layering priority to 2 (in front)
hitcountpersist = 1

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 3
value = 0, 1

[State 195, a]
type = ChangeAnim
trigger1 = Anim != 200
value = 200

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA			;Attribute: Standing, Normal Attack
damage = 25,1;(1000.0/144.0)*(8.0),(1000.0/144.0)*(1.0) ;Damage that move inflicts, guard damage
animtype = Light			;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 3, Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8			;Time attacker pauses, time opponent shakes
sparkno = S9103				;Spark anim no (Def: set above)
sparkxy = -10, -76		;X-offset for the "hit spark" rel. to p2,
guard.sparkno = s9101
hitsound = S5544,0			;Sound to play on hit
guardsound = S120, 0			;Sound to play on guard
ground.type = High		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5		;Time that the opponent slides back
ground.hittime  = 12		;Time opponent is in hit state
ground.velocity = -4		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3		;X-velocity at which opponent is pushed,
					;Y-velocity at which opponent is pushed
air.hittime = 12			;Time before opponent regains control in air

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 300
ctrl = 1

;---------------------------------------------------------------------------
; Standing Medium Punch
; CNS difficulty: easy
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= ifelse(PrevStateNo = 9000, 0, 40)   
ctrl = 0
velset = 0,0

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 210

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 3
value = 0, 0

[State 220, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = !MoveContact
attr = S, NA
damage = 29,2;(1000.0/144.0)*(14.0),(1000.0/144.0)*(1.0)
getpower = 20
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = s9104
guard.sparkno = s9101
hitsound = S5544,1
sparkxy = -3, -70
guardsound = S120, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 20
ground.velocity = -10, -3
guard.velocity = -10
air.type = High
air.velocity = -4,-3
air.hittime = 15
airguard.velocity = -3

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 300
ctrl = 1

;---------------------------------------------------------------------------
; Standing Strong Punch
; CNS difficulty: easy
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = ifelse(PrevStateNo = 9000, 0, 60)   
ctrl = 0
velset = 0,0

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 220

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 2

[State 220, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = !MoveContact
attr = S, NA
damage = 33,3;(1000.0/144.0)*(20.0),(1000.0/144.0)*(1.0)
getpower = 20
animtype = Up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
guard.sparkno = s9101
hitsound = S5544,2
sparkxy = -3, -70
sparkno = s9105
guardsound = S120, 0
ground.type = High
ground.slidetime = 11
ground.velocity = -17,-17
guard.velocity = -10
air.type = High
air.velocity = -15,-12
air.hittime = 65
ground.hittime = 40
airguard.velocity = -3
yaccel = .8
fall.recovertime = 65
fall = 0

[State 220, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 300
ctrl = 1

; Hitstate decider
[Statedef 221]
type = U
movetype = H
physics = N
ctrl = 0

[State 221, 1]
type = ChangeState
trigger1 = StateType = A
value = 222

[State 221, 2]
type = Selfstate
trigger1 = StateType != A
value = ifelse(StateType = C, 5010, 5000)

;-------------------------------------------------------------------

; Get Hit
[Statedef 222]
type = A
movetype = H
physics = N
ctrl = 0
facep2 = 1
velset = 0, 0

[State 222, 1]
type = ChangeAnim
trigger1 = Time < 9
value = IfElse(SelfAnimExist(5052),5052,(IfElse(SelfAnimExist(5051),5051,5050)))

[State 222, 2]
type = VelSet
trigger1 = time = 11
x = -1.6
y = -8

[State 222, 3]
type = VelAdd
trigger1 = time > 11
y = .39

[State 222, 4]
type = VelSet
trigger1 = !Alive
x = -8
y = -15

[State 222, 5]
type = SelfState
trigger1 = !Alive
value = 5050

[State 222, 6]
type = SelfState
trigger1 = Vel Y > 0
value = 5040
ctrl = 1

;---------------------------------------------------------------------------
; Standing Light Kick
; CNS difficulty: easy
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= ifelse(PrevStateNo = 9000, 0, 20)   
ctrl = 0
velset = 0,0

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 230

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 3
value = 0, 0

[State 220, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = !MoveContact
attr = S, NA
damage = 22,7;(1000.0/144.0)*(6.0),(1000.0/144.0)*(1.0)
getpower = 20
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = S6102
guard.sparkno = s9101
hitsound = S5545,0
sparkxy = -3, -70
guardsound = S120, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 20
ground.velocity = -10
guard.velocity = -10
air.type = High
air.velocity = -4,-3
air.hittime = 15
airguard.velocity = -3

[State 230, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 300
ctrl = 1

;---------------------------------------------------------------------------
; Standing Medium Kick
; CNS difficulty: easy
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 40)   
ctrl = 0
velset = 0,0

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 240

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 3
value = 0, 1

[State 220, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = !MoveContact
attr = S, NA
damage = 25,7;(1000.0/144.0)*(12.0),(1000.0/144.0)*(1.0)
getpower = 20
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = S6103
;guard.sparkno = S6050
sparkxy = -3, -70
guard.sparkno = s9101
hitsound = S5545,1
guardsound = S120, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 20
ground.velocity = -10, -4
guard.velocity = -10
air.type = High
air.velocity = -9,-4
air.hittime = 15
airguard.velocity = -3

[State 240, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 300
ctrl = 1

;---------------------------------------------------------------------------
; Standing Strong Kick
; CNS difficulty: easy
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 60)   
ctrl = 0
velset = 0,0

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 250

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 5
value = 0, 2

[State 220, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = !MoveContact
attr = S, NA
damage = 30,2;(1000.0/144.0)*(22.0),(1000.0/144.0)*(1.0)
getpower = 20
animtype = Up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = S6104
;guard.sparkno = S6050
sparkxy = -3, -70
guard.sparkno = s9101
hitsound = S5545,2
guardsound = S120, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 20
ground.velocity = -12, -10
guard.velocity = -10
air.type = High
air.velocity = -4,-3
air.hittime = 15
airguard.velocity = -3
p2stateno = 221

[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 300
ctrl = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
[Statedef 300]
type    = S
movetype= I
physics = S
ctrl = 0

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 300

[State 250, 5]
type = VarSet
trigger1 = 1
value = var(31) = 0

[State 250, 5]
type = CtrlSet
trigger1 = Time = 7
value = 1

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Crouching Light Punch
; CNS difficulty: easy
; Description: Simple crouching attack. The HitDef's guardflag parameter
;     is set to "L", meaning that the move can only be guarded low
;     (crouching), and not by standing or jumping opponents.
;     Like for all light attacks, it's a good idea to keep the slidetime
;     and hittime parameters at a smaller number, so the opponent isn't
;     stunned for too long. For all crouching attacks you have to
;     remember to set the attr parameter to indicate that it is crouching
;     attack. In this case, "C, NA" stands for "crouching, normal attack".
;     The HitDef's priority is set at 3, instead of the default of 4,
;     so this attack has a lower priority than most others, meaning the
;     player will get hit instead of trading hits with the opponent if
;     their attack collision boxes (Clsn1) intersect each other's Clsn2
;     boxes at the same time.
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 20)   
ctrl = 0

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 400

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 0

[State 220, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = !MoveContact
attr = C, NA
damage = 24,3;(1000.0/144.0)*(9.0),(1000.0/144.0)*(1.0)
getpower = 20
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 10, 10
sparkno = S6102
guard.sparkno = S9101
sparkxy = -3, -70
hitsound = S5544,0
guardsound = S120, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 20
ground.velocity = -10
guard.velocity = -10
air.type = High
air.velocity = -4,-3
air.hittime = 15
airguard.velocity = -3
down.velocity = -1.8, -5

[State 400, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Medium Punch
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= ifelse(PrevStateNo = 9000, 0, 40)   
ctrl = 0

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 410

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 3
value = 0, 1

[State 220, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = !MoveContact
attr = C, NA
damage = 27,0;(1000.0/144.0)*(12.0),(1000.0/144.0)*(1.0)
getpower = 20
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = S6104
guard.sparkno = S9101
sparkxy = -3, -70
hitsound = S5544,1
guardsound = S120, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 20
ground.velocity = -10
guard.velocity = -10
air.type = High
air.velocity = -4,-3
air.hittime = 15
airguard.velocity = -3

[State 410, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Strong Punch
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= ifelse(PrevStateNo = 9000, 0, 60)   
ctrl = 0

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 420

[State 220, 2]
type = HitDef
trigger1 = Animelem = 3
attr = C, NA
damage = 25,4;(1000.0/144.0)*(10.0),(1000.0/144.0)*(1.0)
getpower = 20
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8,8
sparkno = S6104
guard.sparkno = S9101
sparkxy = -3, -70
hitsound = S5544,2
guardsound = S120, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 20
ground.velocity = 2,-7
guard.velocity = -10
air.type = High
air.velocity = -4,-3
air.hittime = 15
airguard.velocity = -3
yaccel = .8


[State 420, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 421
ctrl = 0















; Crouching Strong Punch
[Statedef 421]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= ifelse(PrevStateNo = 9000, 0, 60)
ctrl = 0

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 421

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 1
value = 0, 2

[State 220, 2]
type = HitDef
trigger1 = Animelem = 1
attr = C, NA
damage = 45,2
getpower = 20
animtype = Up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = s9106
guard.sparkno = S6050
sparkxy = -3, -70
hitsound = S5544,2
guardsound = S120, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 20
ground.velocity = 0, -15
guard.velocity = -10
air.type = High
air.velocity = 0, -15
air.hittime = 15
airguard.velocity = -3
yaccel = .8
p2stateno = 6100

[state 240, 4]
type = changestate
trigger1 = movehit
trigger1 = command = "holdup"
value = 40

[State 420, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


;---------------------------------------------------------------------------
; Crouching Light Kick
; CNS difficulty: easy
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 20)   
ctrl = 0

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 430

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 3
value = 0, 0

[State 220, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = !MoveContact
attr = C, NA
damage = 21,4;(1000.0/144.0)*(6.0),(1000.0/144.0)*(1.0)
getpower = 20
animtype = Light
guardflag = L
hitflag = MAFD
priority = 3, Hit
pausetime = 10, 10
sparkno = S6102
guard.sparkno = S9101
sparkxy = -3, -70
hitsound = S5545,0
guardsound = S120, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 20
ground.velocity = -10
guard.velocity = -10
air.type = High
air.velocity = -4,-3
air.hittime = 15
airguard.velocity = -3
down.velocity = -1.8, -5

[State 430, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Medium Kick
; CNS difficulty: easy
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 40)   
ctrl = 0

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 440

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 1

[State 220, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = !MoveContact
attr = C, NA
damage = 27,3;(1000.0/144.0)*(13.0),(1000.0/144.0)*(1.0)
getpower = 20
animtype = Medium
guardflag = MA
hitflag = MA
priority = 3, Hit
pausetime = 10, 10
sparkno = S6103
guard.sparkno = S9101
sparkxy = -3, -70
hitsound = S5545,1
guardsound = S120, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 20
ground.velocity = -10
guard.velocity = -10
air.type = High
air.velocity = -4,-3
air.hittime = 15
airguard.velocity = -3

[State 440, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouch Strong Kick
; CNS difficulty: easy
; Description: This move uses "Trip" for the "ground.type" parameter in
;     its HitDef. It's a special type that puts the opponent in a tripped
;     animation as he falls. Also, the hitflag parameter in the HitDef
;     is set to "MAFD". The "D" indicates that a downed opponent can be
;     hit by the attack.
[Statedef 450]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= ifelse(PrevStateNo = 9000, 0, 60)   
ctrl = 0

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 450

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 2

[State 220, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = !MoveContact
attr = C, NA
damage = 30,5;(1000.0/144.0)*(19.0),(1000.0/144.0)*(1.0)
getpower = 20
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = S6104
guard.sparkno = S9101
sparkxy = -3, -70
hitsound = S5545,2
guardsound = S120, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 20
ground.velocity = -10, -4
guard.velocity = -10
air.type = High
air.velocity = -4,-3
air.hittime = 15
airguard.velocity = -3
p2stateno = 221

[State 450, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Jump Light Punch
; CNS difficulty: easy
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= ifelse(PrevStateNo = 9000, 0, 20)   
ctrl = 0
anim = 600

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 600

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 1

[state 701, 5]
type = VelAdd
trigger1 = var(8) = 1
trigger1 = command = "holdback"
trigger1 = command != "holdfwd"
trigger1 = time >= 0
trigger1 = vel x <= 0
trigger1 = vel x > -2
x = -.2

[state 701, 5]
type = VelAdd
trigger1 = var(8) = 1
trigger1 = command = "holdfwd"
trigger1 = command !="holdback"
trigger1 = vel x < 5
trigger1 = time >= 0
x = .3

[State 220, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = !MoveContact
attr = A, NA
damage = 24,3;(1000.0/144.0)*(7.0),(1000.0/144.0)*(1.0)
getpower = 20
animtype = Light
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = S6102
guard.sparkno = S9101
sparkxy = -3, -70
hitsound = S5544,0
guardsound = S120, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 20
ground.velocity = -10
guard.velocity = -10
air.type = High
air.velocity = -4,-3
air.hittime = 15
airguard.velocity = -3

[State 600, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 460
ctrl = 1

;---------------------------------------------------------------------------
; Jump Medium Punch
; CNS difficulty: easy
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= ifelse(PrevStateNo = 9000, 0, 40)   
ctrl = 0
hitcountpersist = 1

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 610

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 0

[state 701, 5]
type = VelAdd
trigger1 = var(8) = 1
trigger1 = command = "holdback"
trigger1 = command != "holdfwd"
trigger1 = time >= 0
trigger1 = vel x <= 0
trigger1 = vel x > -2
x = -.2

[state 701, 5]
type = VelAdd
trigger1 = var(8) = 1
trigger1 = command = "holdfwd"
trigger1 = command !="holdback"
trigger1 = vel x < 5
trigger1 = time >= 0
x = .3

[state 640, 3]
type = hitdef
trigger1 = prevstateno != [600,640]
trigger1 = time = 0
attr = a, na
damage  = 45
guarDFlag = ha
hitflag = mafd
priority = 4
pausetime = 9,9
sparkno = s9104
guard.sparkno = s9101
hitsound = s5544,1
guardsound = s120,0
guard.sparkno = 0
sparkxy = -10,-40
animtype = hard
ground.type = high
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -5
air.velocity = -8, 8
;p2stateno = 6010

[state 640, 3]
type = hitdef
trigger1 = prevstateno = [600,640]
trigger1 = time = 0
attr = a, na
damage  = 45
guarDFlag = ha
priority = 4
pausetime = 9,9
sparkno = s9104
guard.sparkno = s9101
hitsound = s5544,1
guardsound = s120,0
sparkxy = -10,-40
animtype = hard
ground.type = high
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -5
air.velocity = -19, 11
p2stateno = 7715

[state 451,6]
type = screenbound
triggerall = movehit
trigger1 = var(3) = 1
trigger1 = prevstateno != 50
value = 0

[state 451,6]
type = posfreeze
triggerall = movehit
triggerall = pos Y < -210
trigger1 = var(3) = 1
trigger1 = prevstateno != 50

[state 451,3]
type = veladd
trigger1 = var(3) = 1
y = -0.09

[state 451,6]
type = changestate
triggerall = var(3) = 1
triggerall = prevstateno != 50
trigger1 = backedgebodydist <= -20
value = 7710
ctrl = 1

[state 451,6]
type = changestate
trigger1 = animtime = 0
value = 460
ctrl = 1

;---------------------------------------------------------------------------
; Jump Strong Punch
; CNS difficulty: easy
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd = ifelse(PrevStateNo = 9000, 0, 60)   
ctrl = 0
hitcountpersist = 1

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 620

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 2

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 620, 0

[state 701, 5]
type = VelAdd
trigger1 = var(8) = 1
trigger1 = command = "holdback"
trigger1 = command != "holdfwd"
trigger1 = time >= 0
trigger1 = vel x <= 0
trigger1 = vel x > -2
x = -.2

[state 701, 5]
type = VelAdd
trigger1 = var(8) = 1
trigger1 = command = "holdfwd"
trigger1 = command !="holdback"
trigger1 = vel x < 5
trigger1 = time >= 0
x = .3

[state 640, 3]
type = hitdef
trigger1 = prevstateno != [600,640]
trigger1 = time = 0
attr = a, na
damage  = 45
guarDFlag = ha
hitflag = mafd
priority = 4
pausetime = 9,9
sparkno = s9105
guard.sparkno = s9101
hitsound = s5545,2
guardsound = s120,0
guard.sparkno = 0
sparkxy = -10,-40
animtype = hard
ground.type = high
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -5
air.velocity = -8, 8
;p2stateno = 6010

[state 640, 3]
type = hitdef
trigger1 = prevstateno = [600,640]
trigger1 = time = 0
attr = a, na
damage  = 45
guarDFlag = ha
priority = 4
pausetime = 9,9
sparkno = s9105
guard.sparkno = s9101
hitsound = s5545,2
guardsound = s120,0
sparkxy = -10,-40
animtype = hard
ground.type = high
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -5
air.velocity = -24, 7
yaccel = .8
p2stateno = 7715

[State 620, 5]
type = VelSet
trigger1 = Animelem = 2
y = -3.5

[State 620, Explod] 
type = Explod
triggerall = NumExplod(621) = 0
trigger1 = Animelem = 2
id = 621
anim = 621
pos = 0, 0
ontop = 1
bindtime = -1
removetime = -2
[State 620, Explod] 
type = Explod
triggerall = NumExplod(622) = 0
trigger1 = Animelem = 2
id = 622
anim = 622
pos = 0, 0
sprpriority = -5
bindtime = -1
removetime = -2

[state 451,6]
type = screenbound
triggerall = movehit
trigger1 = var(3) = 1
trigger1 = prevstateno != 50
value = 0

[state 451,6]
type = posfreeze
triggerall = movehit
triggerall = pos Y < -210
trigger1 = var(3) = 1
trigger1 = prevstateno != 50

[state 451,3]
type = veladd
trigger1 = var(3) = 1
y = -0.09

[state 451,6]
type = changestate
triggerall = var(3) = 1
triggerall = prevstateno != 50
trigger1 = backedgebodydist <= -20
value = 7710
ctrl = 1

[state 451,6]
type = changestate
trigger1 = animtime = 0
value = 460
ctrl = 1


;-------------------------------------------------------------------
; Hitstate decider
[Statedef 621]
type = U
movetype = H
physics = N
ctrl = 0

[State 221, 1]
type = ChangeState
trigger1 = StateType = A
value = 622

[State 221, 2]
type = Selfstate
trigger1 = StateType != A
value = ifelse(StateType = C, 5010, 5000)

;-------------------------------------------------------------------
; Get Hit
[Statedef 622]
type = A
movetype = H
physics = N
ctrl = 0
facep2 = 1
velset = 0, 0

[State 222, 1]
type = ChangeAnim
trigger1 = Time < 9
value = IfElse(SelfAnimExist(5052),5052,(IfElse(SelfAnimExist(5051),5051,5050)))

[State 222, 2]
type = VelSet
trigger1 = time = 11
x = -4
y = 9

[State 222, 3]
type = VelAdd
trigger1 = time > 11
y = .39

[State 222, 4]
type = VelSet
trigger1 = !Alive
x = -8
y = -15

[State 222, 5]
type = SelfState
trigger1 = !Alive
value = 5050

[State 222, 6]
type = SelfState
trigger1 = Vel Y > 0
value = 5040
ctrl = 1

;---------------------------------------------------------------------------
; Jump Light Kick
; CNS difficulty: easy
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= ifelse(PrevStateNo = 9000, 0, 20)   
ctrl = 0

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 630

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 3
value = 0, 0

[state 701, 5]
type = VelAdd
trigger1 = var(8) = 1
trigger1 = command = "holdback"
trigger1 = command != "holdfwd"
trigger1 = time >= 0
trigger1 = vel x <= 0
trigger1 = vel x > -2
x = -.2

[state 701, 5]
type = VelAdd
trigger1 = var(8) = 1
trigger1 = command = "holdfwd"
trigger1 = command !="holdback"
trigger1 = vel x < 5
trigger1 = time >= 0
x = .3

[State 220, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = !MoveContact
attr = A, NA
damage = 25,7;(1000.0/144.0)*(6.0),(1000.0/144.0)*(1.0)
getpower = 20
animtype = Light
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = S6102
guard.sparkno = S9100
sparkxy = -3, -70
hitsound = S5545,0
guardsound = S120, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 20
ground.velocity = -10
guard.velocity = -10
air.type = High
air.velocity = -4,-5
air.hittime = 15
airguard.velocity = -3

[State 630, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 460
ctrl = 1

;---------------------------------------------------------------------------
; Jump Medium Kick
; CNS difficulty: easy
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= ifelse(PrevStateNo = 9000, 0, 40)   
ctrl = 0

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 640

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 3
value = 0, 1

[state 701, 5]
type = VelAdd
trigger1 = var(8) = 1
trigger1 = command = "holdback"
trigger1 = command != "holdfwd"
trigger1 = time >= 0
trigger1 = vel x <= 0
trigger1 = vel x > -2
x = -.2

[state 701, 5]
type = VelAdd
trigger1 = var(8) = 1
trigger1 = command = "holdfwd"
trigger1 = command !="holdback"
trigger1 = vel x < 5
trigger1 = time >= 0
x = .3

[State 220, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = !MoveContact
attr = A, NA
damage = 28,3;(1000.0/144.0)*(12.0),(1000.0/144.0)*(1.0)
getpower = 20
animtype = Medium
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = S6103
guard.sparkno = S6050
sparkxy = -3, -70
hitsound = S5545,1
guardsound = S120, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 20
ground.velocity = -10
guard.velocity = -10
air.type = High
air.velocity = -4,-3
air.hittime = 15
airguard.velocity = -3

[State 640, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 460
ctrl = 1

;---------------------------------------------------------------------------
; Jump Strong Kick
; CNS difficulty: easy
[Statedef 650]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= ifelse(PrevStateNo = 9000, 0, 60)   
ctrl = 0
hitcountpersist = 1

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 650

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 3
value = 0, 2

[state 701, 5]
type = VelAdd
trigger1 = var(8) = 1
trigger1 = command = "holdback"
trigger1 = command != "holdfwd"
trigger1 = time >= 0
trigger1 = vel x <= 0
trigger1 = vel x > -2
x = -.2

[state 701, 5]
type = VelAdd
trigger1 = var(8) = 1
trigger1 = command = "holdfwd"
trigger1 = command !="holdback"
trigger1 = vel x < 5
trigger1 = time >= 0
x = .3

[state 640, 3]
type = hitdef
trigger1 = prevstateno != [600,640]
trigger1 = time = 0
attr = a, na
damage  = 45
guarDFlag = ha
hitflag = mafd
priority = 4
pausetime = 9,9
sparkno = s9105
guard.sparkno = s9101
hitsound = s5545,2
guardsound = s120,0
guard.sparkno = 0
sparkxy = -10,-40
animtype = hard
ground.type = high
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -5
air.velocity = -8, 8
;p2stateno = 6010

[state 640, 3]
type = hitdef
trigger1 = prevstateno = [600,640]
trigger1 = time = 0
attr = a, na
damage  = 45
guarDFlag = ha
priority = 4
pausetime = 9,9
sparkno = s9105
guard.sparkno = s9101
hitsound = s5545,2
guardsound = s120,0
sparkxy = -10,-40
animtype = hard
ground.type = high
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -5
air.velocity = -19, 11
p2stateno = 7715

[state 451,6]
type = screenbound
triggerall = movehit
trigger1 = var(3) = 1
trigger1 = prevstateno != 50
value = 0

[state 451,6]
type = posfreeze
triggerall = movehit
triggerall = pos Y < -210
trigger1 = var(3) = 1
trigger1 = prevstateno != 50

[state 451,3]
type = veladd
trigger1 = var(3) = 1
y = -0.09

[state 451,6]
type = changestate
triggerall = var(3) = 1
triggerall = prevstateno != 50
trigger1 = backedgebodydist <= -20
value = 7710
ctrl = 1

[state 451,6]
type = changestate
trigger1 = animtime = 0
value = 460
ctrl = 1


;---------------------------------------------------------------------------
[Statedef 660]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 70

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 660

[state 701, 5]
type = VelAdd
trigger1 = var(8) = 1
trigger1 = command = "holdback"
trigger1 = command != "holdfwd"
trigger1 = time >= 0
trigger1 = vel x <= 0
trigger1 = vel x > -2
x = -.2

[state 701, 5]
type = VelAdd
trigger1 = var(8) = 1
trigger1 = command = "holdfwd"
trigger1 = command !="holdback"
trigger1 = vel x < 5
trigger1 = time >= 0
x = .3

[State 650, 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 1

;---------------------------------------------------------------------------
; Super Jump
[statedef 700]
physics = S
type = S
ctrl = 0
anim = 40 + 10000*(var(9))

[State 1100, 0]
type = ChangeAnim
trigger1 = Anim != 40 + 10000*(var(9))
trigger1 = Time = 0
value = 40 + 10000*(var(9))

[state 700, 1]
type = varset
trigger1 = time = 0
sysvar(1) = 0

[state 700, 2]
type = varset
trigger1 = command = "holdfwd"
sysvar(1) = 1

[state 700, 3]
type = varset
trigger1 = command = "holdback"
sysvar(1) = -1

[state 700, 5]
type = velset
trigger1 = (animtime = 0) && (prevstateno = 100) && (sysvar(1) = 1)
x = const(velocity.runjump.fwd.x)

[state 700, 4]
type = velset
trigger1 = animtime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = -14

[state 700, 2]
type = PlaySnd
trigger1 = time = 0
value = 710,0

[state 700, 6]
type = changestate
trigger1 = animtime = 0
value = 701
ctrl = 1

;---------------------------------------------------------------------------
; Super Jump Up
[statedef 701]
physics = a
type = a
ctrl = 1

[State 701, Explod] 
type = Explod
trigger1 = Time = 0
anim = 6100
pos = 0, 20
time = -2
sprpriority = -3
ignorehitpause = 1

[State 701, Explod] 
type = Explod
trigger1 = Time = 1
anim = 6118
postype = p1
pos = 0,-20
bindtime = 35
removetime = 35
sprpriority = 2
ignorehitpause = 1

[State 701, Helper]
type = Helper
triggerall = !NumHelper(1315)
triggerall = var(9)
trigger1 = Time = 0
id = 1315
stateno = 1315
pos = 0, 0
ignorehitpause = 0
bindtime = -1

[State 1100, 0]
type = ChangeAnim
trigger1 = Anim != 700 + 9341*(var(9))
trigger1 = Time = 0
value = 700 + 9341*(var(9))

[state 701, 1]
type = varset
trigger1 = time = 0
sysvar(1) = 0

[state 701, 5]
type = veladd
trigger1 = command = "holdback"
trigger1 = command != "holdfwd"
trigger1 = time >= 0
trigger1 = vel x <= 0
trigger1 = vel x > -2
x = -.05

[state 701, 5]
type = veladd
trigger1 = command = "holdfwd"
trigger1 = command !="holdback"
trigger1 = vel x < 5
trigger1 = time >= 0
x = .10

[state 701, 5]
type = velset
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = time >= 0
trigger1 = vel x = 0
x = 0

[State 180, Varset]
type = VarSet
trigger1 = 1
var(8) = 1

[State X, VelSet for Superjump]
type = VarSet
trigger1 = AnimElemNo(0) = 1
fvar(4) = -14

[State X, VelSet for Superjump]
type = VelSet
trigger1 = AnimElemNo(0) != 1
trigger1 = Time = 0
Y = FVar(4)

;---------------------------------------------------------------------------
; Super Jump 2
[statedef 702]
physics = S
type = S
ctrl = 0
anim = 40 + 10000*(var(9))

[State 1100, 0]
type = ChangeAnim
trigger1 = Anim != 40 + 10000*(var(9))
trigger1 = Time = 0
value = 40 + 10000*(var(9))

[state 700, 1]
type = varset
trigger1 = time = 0
sysvar(1) = 0

[state 700, 2]
type = varset
trigger1 = command = "holdfwd"
sysvar(1) = 1

[state 700, 3]
type = varset
trigger1 = command = "holdback"
sysvar(1) = -1

[state 700, 5]
type = velset
trigger1 = (animtime = 0) && (prevstateno = 100) && (sysvar(1) = 1)
x = const(velocity.runjump.fwd.x)

[state 700, 4]
type = velset
trigger1 = animtime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = -14

[state 700, 2]
type = PlaySnd
trigger1 = time = 0
value = 710,0

[state 700, 6]
type = changestate
trigger1 = animtime = 0
value = 703
ctrl = 1

;---------------------------------------------------------------------------
; Super Jump Forward
[statedef 703]
physics = a
type = a
ctrl = 1

[State 701, Explod] 
type = Explod
trigger1 = Time = 0
anim = 6100
pos = 0, 20
time = -2
sprpriority = -3
ignorehitpause = 1

[State 701, Explod] 
type = Explod
trigger1 = Time = 1
anim = 6118
postype = p1
pos = 0,-20
bindtime = 35
removetime = 35
sprpriority = 2
ignorehitpause = 1

[State 703, Helper]
type = Helper
triggerall = !NumHelper(1315)
triggerall = var(9)
trigger1 = Time = 0
id = 1315
stateno = 1315
pos = 0, 0
ignorehitpause = 0
bindtime = -1


[State 1100, 0]
type = ChangeAnim
trigger1 = Anim != 701 + 9340*(var(9))
trigger1 = Time = 0
value = 701 + 9340*(var(9))

[state 701, 1]
type = varset
trigger1 = time = 0
sysvar(1) = 0

[state 701, 5]
type = veladd
trigger1 = command = "holdback"
trigger1 = command != "holdfwd"
trigger1 = time >= 0
trigger1 = vel x <= 0
trigger1 = vel x > -2
x = -.05

[state 701, 5]
type = veladd
trigger1 = command = "holdfwd"
trigger1 = command !="holdback"
trigger1 = vel x < 5
trigger1 = time >= 0
x = .10

[state 701, 5]
type = velset
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = time >= 0
trigger1 = vel x = 0
x = 0

[State 180, Varset]
type = VarSet
trigger1 = 1
var(8) = 1

[State X, VelSet for Superjump]
type = Null;VarSet
trigger1 = AnimElemNo(0) = 1
fvar(4) = -14

[State X, VelSet for Superjump]
type = Null;VelSet
trigger1 = AnimElemNo(0) != 1
trigger1 = Time = 0
Y = FVar(4)

;---------------------------------------------------------------------------
; Super Jump 3
[statedef 704]
physics = S
type = S
ctrl = 0
anim = 40 + 10000*(var(9))

[State 1100, 0]
type = ChangeAnim
trigger1 = Anim != 40 + 10000*(var(9))
trigger1 = Time = 0
value = 40 + 10000*(var(9))

[state 700, 1]
type = varset
trigger1 = time = 0
sysvar(1) = 0

[state 700, 2]
type = varset
trigger1 = command = "holdfwd"
sysvar(1) = 1

[state 700, 3]
type = varset
trigger1 = command = "holdback"
sysvar(1) = -1

[state 700, 5]
type = velset
trigger1 = (animtime = 0) && (prevstateno = 100) && (sysvar(1) = 1)
x = const(velocity.runjump.fwd.x)

[state 700, 4]
type = velset
trigger1 = animtime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = -14

[state 700, 2]
type = PlaySnd
trigger1 = time = 0
value = 710,0

[state 700, 6]
type = changestate
trigger1 = animtime = 0
value = 705
ctrl = 1

;---------------------------------------------------------------------------
; Super Jump Backward
[statedef 705]
physics = a
type = a
ctrl = 1

[State 701, Explod] 
type = Explod
trigger1 = Time = 0
anim = 6100
pos = 0, 20
time = -2
sprpriority = -3
ignorehitpause = 1

[State 701, Explod] 
type = Explod
trigger1 = Time = 1
anim = 6118
postype = p1
pos = 0,-20
bindtime = 35
removetime = 35
sprpriority = 2
ignorehitpause = 1

[State 705, Helper]
type = Helper
triggerall = !NumHelper(1315)
triggerall = var(9)
trigger1 = Time = 0
id = 1315
stateno = 1315
pos = 0, 0
ignorehitpause = 0
bindtime = -1

[State 1100, 0]
type = ChangeAnim
trigger1 = Anim != 702 + 9339*(var(9))
trigger1 = Time = 0
value = 702 + 9339*(var(9))

[state 701, 1]
type = varset
trigger1 = time = 0
sysvar(1) = 0

[state 701, 5]
type = veladd
trigger1 = command = "holdback"
trigger1 = command != "holdfwd"
trigger1 = time >= 0
trigger1 = vel x <= 0
trigger1 = vel x > -2
x = -.05

[state 701, 5]
type = veladd
trigger1 = command = "holdfwd"
trigger1 = command !="holdback"
trigger1 = vel x < 5
trigger1 = time >= 0
x = .10

[state 701, 5]
type = velset
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = time >= 0
trigger1 = vel x = 0
x = 0

[State 180, Varset]
type = VarSet
trigger1 = 1
var(8) = 1

[State X, VelSet for Superjump]
type = Null;VarSet
trigger1 = AnimElemNo(0) = 1
fvar(4) = -14

[State X, VelSet for Superjump]
type = Null;VelSet
trigger1 = AnimElemNo(0) != 1
trigger1 = Time = 0
Y = FVar(4)

;---------------------------------------------------------------------------
; Recovery Roll
[Statedef 708]
type = L
movetype = I
physics = N
ctrl = 0
anim = 708
sprpriority = 1
facep2 = 1
velset = 0, 0

[State 708, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 4
value = 40, 0

[State 850, VarSet]
type = VarSet
trigger1 = Time >= 1
v = 7
value = 0

[State 690, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 690, VelSet]
type = VelSet
triggerall = var(7) = 1
trigger1 = AnimElem = 1
x = 8

[State 690, VelSet]
type = VelSet
triggerall = var(7) = 2
trigger1 = AnimElem = 1
x = 13

[State 690, VelSet]
type = VelSet
triggerall = var(7) = 3
trigger1 = AnimElem = 1
x = 18

[state 690, playerpush]
type = playerpush
trigger1 = 1
value = 0
time = -1

[State 690, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, AA, AP

[State 690, ChangeAnim]
type = VelSet
trigger1 = AnimTime = 0
x = 0

[State 850, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 5120
ctrl = 1

;---------------------------------------------------------------------------
; Adv Guard (Stand)
[Statedef 710]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 123
ctrl = 0

[State 710, NotHitBy]
Type = NotHitBy
trigger1 = Time = 0
Value = SCA
Time = 20

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 700,0

[State 710, Push Block]
type = Helper
trigger1 = Time = 0
ID = 6600
name = "ADV Guard"
pos = 0,0
postype = p1
stateno = 714
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 710, Push Block]
type = Helper
trigger1 = Time = 0
ID = 6601
name = "ADV Guard"
pos = 0,0
postype = p1
stateno = 713
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 160, Explod] 
type = Explod
trigger1 = Time = 0
anim = 6105
pos = 116, -71
time = -2
bindtime = -1
sprpriority = 2
ignorehitpause = 0

[State 710, Stop]
type = Velset
trigger1 = Time = [0,30]
x = 0
y = 0

[State 710, Done]
type = ChangeState
trigger1 = AnimTime = 0
value = 130
ctrl = 1

;---------------------------------------------------------------------------
; Guard Push (Crouch)
[Statedef 711]
type    = C
movetype= I
physics = C
velset = 0,0
anim = 124
ctrl = 0

[State 560, NotHitBy]
Type = NotHitBy
trigger1 = Time = 0
Value = SCA
Time = 20

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 700,0

[State 710, Push Block]
type = Helper
trigger1 = Time = 0
ID = 6600
name = "ADV Guard"
pos = 0,0
postype = p1
stateno = 714
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 710, Push Block]
type = Helper
trigger1 = Time = 0
ID = 6601
name = "ADV Guard"
pos = 0,0
postype = p1
stateno = 713
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 160, Explod] 
type = Explod
trigger1 = Time = 0
anim = 6105
pos = 110, -46
time = -2
bindtime = -1
sprpriority = 2
ignorehitpause = 0

[State 560, Stop]
type = Velset
trigger1 = Time = [0,30]
x = 0
y = 0

[State 560, Done]
type = ChangeState
trigger1 = AnimTime = 0
value = 131
ctrl = 1

;---------------------------------------------------------------------------
; Guard Push (Air)
[Statedef 712]
type    = A
movetype= I
physics = A
velset = 0,0
anim = 125
ctrl = 0

[State 570, NotHitBy]
Type = NotHitBy
trigger1 = Time = 0
Value = SCA
Time = 20

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 700,0

[State 710, Push Block]
type = Helper
trigger1 = Time = 0
ID = 6600
name = "ADV Guard"
pos = 0,0
postype = p1
stateno = 714
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 710, Push Block]
type = Helper
trigger1 = Time = 0
ID = 6601
name = "ADV Guard"
pos = 0,0
postype = p1
stateno = 713
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 160, Explod] 
type = Explod
trigger1 = Time = 0
anim = 6105
pos = 65, -120
time = -2
bindtime = -1
sprpriority = 2
ignorehitpause = 0

[State 570, Stop]
type = Velset
trigger1 = Time = [0,30]
x = 0
y = 0

[State 570, Done]
type = ChangeState
trigger1 = AnimTime = 0
value = 132
ctrl = 1

;---------------------------------------------------------------------------
; Guard Push Fwd
[Statedef 713]
type    = A
movetype= I 
physics = N
velset = 0,0
anim = 715

[State 580, Not Get Hit]
type = NotHitBy
Trigger1 = Time >= 0
value = , AA ,AP ,AT
Time = 1

[State 580, Push]
type = PlayerPush
trigger1 = Time >= 0
value = 1

[State 580, Shove]
type = VelSet
trigger1 = Time >= 0
x = 15

[State 580, Done]
type = DestroySelf
trigger1 = Time = 15

;---------------------------------------------------------------------------
; Guard Push Back
[Statedef 714]
type    = A
movetype= I 
physics = N
velset = 0,0
anim = 715

[State 590, Not Get Hit]
type = NotHitBy
Trigger1 = Time >= 0
value = , AA ,AP ,AT
Time = 1

[State 590, Push]
type = PlayerPush
trigger1 = Time >= 0
value = 1

[State 590, Shove]
type = VelSet
trigger1 = Time >= 0
x = -15

[State 590, Done]
type = DestroySelf
trigger1 = Time = 15

;---------------------------------------------------------------------------
; Throw - Attempt
; CNS difficulty: medium-advanced
; Description: Throws are not difficult to make, although then can be
;     tedious at times. Throw attempt states have a HitDef of a
;     special format. The key parameters in a throw are p1stateno
;     and p2stateno. If the HitDef successfully connects, then
;     the attacker will change to the state number specified by
;     p1stateno, and the opponent will be change to the state
;     number assigned to p2stateno. The special thing about p2stateno
;     is that the opponent will be temporarily brought into the
;     attacker's state file. In this case, no matter who the
;     opponent is, he will be taken to state 820 of this file (kfm.cns)
;     and remain here until the end of the throw (look at his debug
;     information when he is being thrown; the text changes to yellow
;     to mean that he is in another player's state file).
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800

; Notes: The '-' symbol in the hitflag field means that it only affects
;   players who are not in a hit state. This prevents the player from combo-ing
;   into the throw. The priority should be set to a low number, such as
;   1 or 2, so that the throw does not take precedence over normal attacks.
;   The type of priority must always be set to "Miss" or "Dodge" for throws,
;   otherwise strange behavior can result.
[State 800, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, NT          ;Attributes: Standing, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
sprpriority = 1       ;Draw in front of p2
p1facing = ifelse (command = "holdfwd", -1, 1) ;Turn if holding forwards
p2facing = 1          ;Force p2 to face player
p1stateno = 801       ;On success, player changes to state 810
p2stateno = 805       ;If hit, p2 changes to state 820 in player's cns
fall = 1              ;Force p2 into falling down

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Throwing the opponent
; Description: In this state, the player throws the opponent by binding him to
;     various offsets based on his current frame of animation. For
;     example, [State 810, Bind 1] binds the opponent to an offset of
;     28 pixels in front of the player. That puts him around where the hand
;     is at. Is is important to keep the opponent bound using a
;     TargetBind controller at all times, until you let him go. This
;     is especially important if your player has a Clsn2 box that
;     allows him to get hit while throwing someone. Each time a player
;     gets hit, all his bound targets will be set to a fall state. If
;     the opponent is not bound, then he might get stuck in his thrown
;     state when his attacker is knocked out of the throw halfway.
; Notes: There is a TargetLifeAdd controller to decrease the opponent's
;     life, and a TargetState controller to change his state to a
;     falling state when KFM lets go of him.
[Statedef 801]
type    = S
movetype= A
physics = N
anim = 801
poweradd = 60

[state 700, 2]
type = PlaySnd
trigger1 = Time = 0
value = 800, 0

[state 800, 3] 
type = SprPriority
trigger1 = Animelem = 1
value = -2
[state 800, 3] 
type = SprPriority
trigger1 = Animelem = 2
value = 1

[State 810, Holding fwd?]
type = VarSet
trigger1 = Time = 0
var(3) = command = "holdback"

[State 810, holdfwd - Turn Target 6] ;If was holding fwd before, turn target too
type = TargetFacing
trigger1 = var(3)
trigger1 = AnimElem = 1
value = -1

[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 1
pos = 150, 0

[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 2
pos = 130, -50

[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 3
pos = 10, -165

[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 4
pos = -90, 0

[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 5
pos = -90, 0

[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 5
pos = -130, 0

[State 810, Bind 11]
type = TargetVelSet
trigger1 = AnimElem = 6
x = 15
y = -7

[State 810, Bind 5]
type = TargetLifeAdd
trigger1 = Animelem = 5
value = -110;(1000.0/144.0)*(21.0)

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 2
[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 810, 1

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 805]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 821, 1] ;Gravity
type = ChangeAnim2
trigger1 = Time = 0
value = 805

[State 810, Gravity]
type = VelAdd
trigger1 = Animelem = 7, >= 0
;x = 1
y = 1.1

[State 810, Bind 11]
type = Turn
trigger1 = AnimTime = 0

[State 821, 4] ;Hit ground
type = SelfState
trigger1 = Animtime = 0
value = 5040

;---------------------------------------------------------------------------
; Air Throw Attempt
[statedef 810] 
type = A
movetype = A 
physics = S
ctrl = 0 
anim = 810
VelSet = 0,0 

[state 800, 1] 
type = HitDef
trigger1 = Time = 0
attr = A, NT 
hitflag = MAF 
priority = 1, miss 
sparkno = -1 
p1facing = ifelse (command = "holdback", -1, 1)
p2facing = 1
p1stateno = 811
p2stateno = 815

[state 800, 3] 
type = ChangeState
trigger1 = AnimTime = 0 
value = 660
ctrl = 1 

;---------------------------------------------------------------------------
; Throw Success
[statedef 811] 
type = A 
movetype = A 
physics = S
anim = 811
sprpriority = 1

[state 700, 2]
type = PlaySnd
trigger1 = Time = 0
value = 800, 0

[State 240, Explod] 
type = Explod
trigger1 = Animelem = 2
anim = 812
id = 812
pos = 0, 0
bindtime = -1
removetime = -2
sprpriority = -2

[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 1
pos = 90, -100

[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 2
pos = -60, -170

[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 3
pos = 10, -165

[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 4
pos = 40, -20

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 2

[State 810, Bind 11]
type = TargetVelSet
trigger1 = AnimElem = 4, = 3
x = 0
y = 25

[State 1140, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 660
ctrl = 1

;---------------------------------------------------------------------------
; Opponent get thrown
[statedef 815] 
type = A 
movetype = H 
physics = N
ctrl = 0 
velSet = 0,0
sprpriority = -1

[State 821, 1] ;Gravity
type = ChangeAnim2
trigger1 = Time = 0
value = 815

[State 810, Bind 5]
type = LifeAdd
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = -85;(1000.0/144.0)*(20.0)

[State 821, 4] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground

;---------------------------------------------------------------------------
; Gamma Slam
[Statedef 1000]
type    = S
movetype= I
physics = S
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 60)   
ctrl = 0
velset = 0,0
sprpriority = -1

[state 750]
type = envshake
trigger1 = animelem = 3
persistent = 0
time = 35
freq = 90
ampl = -4

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1000

[State 750, Dust]
type = Explod
trigger1 = time = 0
anim = 9110
pos = 0,0
postype = p1
sprpriority = 5
supermove = 0
bindtime = 1
shadow = -1


[State 1000, Explod] 
type = Explod
trigger1 = AnimElem = 3
anim = 1004
pos = 0, 0
removetime = -2
ontop = 1

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 9
value = 0, 2

[State 220, Helper] 
type = Helper
trigger1 = Animelem = 7
pos = 60, -15
Stateno = 1005
id = 1000

[State 220, Helper] 
type = Helper
trigger1 = Animelem = 9
pos = 140, -15
Stateno = 1005
id = 1001

[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 300
ctrl = 1

;---------------------------------------------------------------------------
; Gamma
[Statedef 1005]
type    = A
movetype= A
physics = S
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 60)   
ctrl = 0
velset = 0,0
anim = 1003
sprpriority = 1

[state 700, 2]
type = PlaySnd
trigger1 = Time = 0
value = 1000,0

[State 250, 5]
type = SprPriority
trigger1 = IsHelper(1000)
value = 1
[State 250, 5]
type = SprPriority
trigger1 = IsHelper(1001)
value = 2
[State 250, 5]
type = SprPriority
trigger1 = IsHelper(1002)
value = 3
[State 250, 5]
type = SprPriority
trigger1 = IsHelper(1003)
value = 4

[State 220, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = !MoveContact
attr = A, SP
damage = 17,3;(1000.0/144.0)*(7.0),(1000.0/144.0)*(1.0)
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 9,9
sparkno = S9107
guard.sparkno = S9101
sparkxy = -3, -10
hitsound = -1;S250, 0
guardsound = S120, 0
ground.type = Low
ground.slidetime = 11
ground.hittime  = 20
ground.velocity = -15
guard.velocity = -10
air.type = High
air.velocity = -3,-5
air.hittime = 15
airguard.velocity = -3
p2stateno = 1003

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit
value = S5544,2
channel = 0
persistent = 0


[State 250, 5]
type = DestroySelf
trigger1 = Animtime = 0

;---------------------------------------------------------------------------
; Hitstate decider
[Statedef 1003]
type = U
movetype = H
physics = N
ctrl = 0

[State 221, 2]
type = Selfstate
trigger1 = 1
value = ifelse(StateType = C, 5010, 5000)

;---------------------------------------------------------------------------
; Gamma
[Statedef 1001]
type    = S
movetype= I
physics = S
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 60)   
ctrl = 0
velset = 0,0

[State 750, Dust]
type = Explod
trigger1 = time = 0
anim = 9110
pos = 0,0
postype = p1
sprpriority = 5
supermove = 0
bindtime = 1
shadow = -1


[state 750]
type = envshake
trigger1 = animelem = 3
persistent = 0
time = 35
freq = 90
ampl = -4

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1001

[State 1000, Explod] 
type = Explod
trigger1 = AnimElem = 3
anim = 1004
pos = 0, 0
removetime = -2
ontop = 1

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 9
value = 0, 2

[State 220, Helper] 
type = Helper
trigger1 = Animelem = 7
pos = 60, -15
Stateno = 1005
id = 1000

[State 220, Helper] 
type = Helper
trigger1 = Animelem = 9
pos = 140, -15
Stateno = 1005
id = 1001

[State 220, Helper] 
type = Helper
trigger1 = Animelem = 11, = 7
pos = 220, -15
Stateno = 1005
id = 1002

[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 300
ctrl = 1

;---------------------------------------------------------------------------
; Gamma
[Statedef 1002]
type    = S
movetype= I
physics = S
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 60)   
ctrl = 0
velset = 0,0

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1002


[State 750, Dust]
type = Explod
trigger1 = time = 0
anim = 9110
pos = 0,0
postype = p1
sprpriority = 5
supermove = 0
bindtime = 1
shadow = -1


[state 750]
type = envshake
trigger1 = animelem = 3
persistent = 0
time = 35
freq = 90
ampl = -4


[State 1000, Explod] 
type = Explod
trigger1 = AnimElem = 3
anim = 1004
pos = 0, 0
removetime = -2
ontop = 1

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 9
value = 0, 2

[State 220, Helper] 
type = Helper
trigger1 = Animelem = 7
pos = 60, -15
Stateno = 1005
id = 1000

[State 220, Helper] 
type = Helper
trigger1 = Animelem = 9
pos = 140, -15
Stateno = 1005
id = 1001

[State 220, Helper] 
type = Helper
trigger1 = Animelem = 11, = 7
pos = 220, -15
Stateno = 1005
id = 1002

[State 220, Helper] 
type = Helper
trigger1 = Animelem = 11, = 17
pos = 300, -15
Stateno = 1005
id = 1003

[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 300
ctrl = 1







;Avalanche Leap

;--------------------------------------------
[Statedef 123]; Wall Jump from back
type = A
physics = A
anim = 2430
ctrl = 0
velset = 0,0

[State 123, 2]
type = VelSet
trigger1 = Time = [0,15]
y = 0
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S800,0


[State 123, Turn]
type = Turn
trigger1 = ((frontEdgeDist) > -10 && (frontEdgeDist) < 2)

[State 123, 3]
type = ChangeState
trigger1 = time = 15
value= 2540
ctrl = 1


[Statedef 2540]; Wall Jump from back
type = A
physics = A
anim = 2540
ctrl = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,7

[State 123, 1]
type = VelSet
trigger1 = Time = [0,25]
x = 8.8
y = 0

[State 123, 3]
type = ChangeState
trigger1 = time = 25
value= 460
ctrl = 1








;---------------------------------------------------------------------------
; Gamma Charge
; Gamma Charge
[Statedef 1100]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 56
ctrl = 0
velset = 0,0
sprpriority = -1

[State 3001]
type = NotHitBy
trigger1 = Animelem = 1, >= 0
trigger1 = Animelem = 7, < 0
value = ,AT,AP

[State 750, Dust]
type = Explod
trigger1 = time = 0
anim = 9110
pos = 0,0
postype = p1
sprpriority = 5
supermove = 0
bindtime = 1
shadow = -1

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1100

[State 100, dust]
type = explod
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 3
volumescale = 170

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 13
volumescale = 170

[State 240, Explod]
type = Explod
trigger1 = Animelem = 4
anim = 1118
id = 1118
pos = 0, 0
ontop = 1
bindtime = -1
removetime = 14

[State 250, 5]
type = VelSet
trigger1 = Animelem = 3, >= 0
trigger1 = Animelem = 9, < 0
x = 10

[State 250, 5]
type = VelSet
trigger1 = Animelem = 9, >= 0
x = 4.8

[State 220, 2]
type = HitDef
trigger1 = Time = 0
;trigger1 = !MoveContact
attr = S, SA
damage =  7*ifelse(21*fvar(0)>=1,floor(21*fvar(0)),1),21
animtype = up
air.animtype = up
guardflag = MA
hitflag = MAFD
priority = 6, Hit
pausetime = 12, 13
sparkno = S8002
guard.sparkno = S8050
sparkxy = -3, -50
hitsound = S5544,2
guardsound = S6, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 25
ground.velocity = -1.7,-11.6
yaccel = 0.78
guard.velocity = -10
air.type = High
air.velocity = -1,-11
air.hittime = 25
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
airguard.velocity = -3
;p2stateno = 1120
guard.hittime = 15
guard.slidetime = 15
down.velocity = 2, -5
p2facing = 1
id = 1

[State 250, 5]
type = VarSet
trigger1 = Command = "up_a" || Command = "up_b" || Command = "up_c"
var(31) = 2

[State 250, 5]
type = VarSet
trigger1 = Command = "uf_a" || Command = "uf_b" || Command = "uf_c"
var(31) = 3

[State 250, 5]
type = VarSet
trigger1 = Command = "ub_a" || Command = "ub_b" || Command = "ub_c"
var(31) = 1

[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 1
trigger1 = Animelem = 8, = 2
value = 1103
ctrl = 1

[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 2
trigger1 = Animelem = 8, = 2
value = 1104
ctrl = 1

[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 3
trigger1 = Animelem = 8, = 2
value = 1105
ctrl = 1

[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 300
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Charge
[Statedef 1101]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 56
ctrl = 0
velset = 0,0
sprpriority = -1

[State 3001]
type = NotHitBy
trigger1 = Animelem = 1, >= 0
trigger1 = Animelem = 7, < 0
value = ,AT,AP

[State 750, Dust]
type = Explod
trigger1 = time = 0
anim = 9110
pos = 0,0
postype = p1
sprpriority = 5
supermove = 0
bindtime = 1
shadow = -1

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1101

[State 100, dust]
type = explod
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 3
volumescale = 170

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 13
volumescale = 170

[State 240, Explod]
type = Explod
trigger1 = Animelem = 4
anim = 1118
id = 1118
pos = 0, 0
ontop = 1
bindtime = -1
removetime = 20

[State 250, 5]
type = VelSet
trigger1 = Animelem = 4, >= 0
trigger1 = Animelem = 11, < 0
x = 13

[State 250, 5]
type = VelSet
trigger1 = Animelem = 11, >= 0
x = 1.6

[State 220, 2]
type = HitDef
trigger1 = Time = 0
;trigger1 = !MoveContact
attr = S, SA
damage =  7*ifelse(21*fvar(0)>=1,floor(21*fvar(0)),1),21
animtype = up
air.animtype = up
guardflag = MA
hitflag = MAFD
priority = 6, Hit
pausetime = 12, 13
sparkno = S8002
guard.sparkno = S8050
sparkxy = -3, -50
hitsound = S5, 3
guardsound = S6, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 25
ground.velocity = -1.7,-11.6
yaccel = 0.78
guard.velocity = -10
air.type = High
air.velocity = -1,-11
air.hittime = 25
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
airguard.velocity = -3
;p2stateno = 1120
guard.hittime = 15
guard.slidetime = 15
down.velocity = 2, -5
p2facing = 1
id = 1

[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Command = "up_a" || Command = "up_b" || Command = "up_c"
var(31) = 2
[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Command = "uf_a" || Command = "uf_b" || Command = "uf_c"
var(31) = 3
[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Command = "ub_a" || Command = "ub_b" || Command = "ub_c"
var(31) = 1

[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 1
trigger1 = AnimelemNo(0) = [8,10]
value = 1103
[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 2
trigger1 = AnimelemNo(0) = [8,10]
value = 1104
[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 3
trigger1 = AnimelemNo(0) = [8,10]
value = 1105

[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 300
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Charge
[Statedef 1102]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 56
ctrl = 0
velset = 0,0
sprpriority = -1

[State 3001]
type = NotHitBy
trigger1 = Animelem = 1, >= 0
trigger1 = Animelem = 7, < 0
value = ,AT,AP

[State 750, Dust]
type = Explod
trigger1 = time = 0
anim = 9110
pos = 0,0
postype = p1
sprpriority = 5
supermove = 0
bindtime = 1
shadow = -1

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1102

[State 100, dust]
type = explod
trigger1 = Time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 3
volumescale = 170

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 13
volumescale = 170

[State 240, Explod]
type = Explod
trigger1 = Animelem = 4
anim = 1118
id = 1118
pos = 0, 0
ontop = 1
bindtime = -1
removetime = 26

[State 250, 5]
type = VelSet
trigger1 = Animelem = 4, >= 0
trigger1 = Animelem = 10, < 0
x = 16

[State 250, 5]
type = VelSet
trigger1 = Animelem = 10, >= 0
x = 5

[State 220, 2]
type = HitDef
trigger1 = Time = 0
;trigger1 = !MoveContact
attr = S, SA
damage =  7*ifelse(21*fvar(0)>=1,floor(21*fvar(0)),1),21
animtype = up
air.animtype = up
guardflag = MA
hitflag = MAFD
priority = 6, Hit
pausetime = 12, 13
sparkno = S8002
guard.sparkno = S8050
sparkxy = -3, -50
hitsound = S5, 3
guardsound = S6, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 25
ground.velocity = 4,-13.6
yaccel = 0.78
guard.velocity = -10
air.type = High
air.velocity = 4,-13
air.hittime = 25
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall = 1
fall.recover = 0
airguard.velocity = -3
;p2stateno = 1120
guard.hittime = 15
guard.slidetime = 15
down.velocity = 2, -5
p2facing = 1

[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Command = "up_a" || Command = "up_b" || Command = "up_c"
var(31) = 2
[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Command = "uf_a" || Command = "uf_b" || Command = "uf_c"
var(31) = 3
[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Command = "ub_a" || Command = "ub_b" || Command = "ub_c"
var(31) = 1

[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 1
trigger1 = AnimelemNo(0) = [9,11]
value = 1103
[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 2
trigger1 = AnimelemNo(0) = [9,11]
value = 1104
[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 3
trigger1 = AnimelemNo(0) = [9,11]
value = 1105

[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 300
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Charge
[Statedef 1103]
type    = A
movetype= A
physics = S
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 56)
ctrl = 0
velset = 0,0
sprpriority = -1

[State 3001]
type = NotHitBy
trigger1 = Animelem = 4, >= 0
trigger1 = Animelem = 14, < 0
value = ,AT,AP

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1103

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 3
volumescale = 170

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 13
volumescale = 170

[State 240, Explod]
type = Explod
trigger1 = Animelem = 4
anim = 1119
id = 1119
pos = 0, 0
ontop = 1
bindtime = -1
removetime = 25

[State 250, 5]
type = VelSet
trigger1 = Animelem = 4, >= 0
trigger1 = Animelem = 14, < 0
x = -10
y = -9

[State 250, 5]
type = Gravity
trigger1 = Animelem = 14, >= 0

[State 220, 2]
type = HitDef
trigger1 = Time = 0
;trigger1 = !MoveContact
attr = S, SA
damage =  7*ifelse(10*fvar(0)>=1,floor(10*fvar(0)),1),7
animtype = up
air.animtype = up
guardflag = MA
hitflag = MAFD
priority = 6, Hit
pausetime = 13, 14
sparkno = S8002
guard.sparkno = S8050
sparkxy = -3, -80
hitsound = S5, 3
guardsound = S6, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 25
ground.velocity = 5.7,-29.6
ground.cornerpush.veloff = -11.5
yaccel = 0.88
guard.velocity = -10
air.type = High
air.velocity = 5,-29
air.hittime = 25
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
airguard.velocity = -3
;p2stateno = 1120
guard.hittime = 15
guard.slidetime = 15
down.velocity = 2, -5
p2facing = 1
id = 1


[State 250, 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Charge
[Statedef 1104]
type    = A
movetype= A
physics = S
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 56)
ctrl = 0
velset = 0,0
sprpriority = -1

[State 3001]
type = NotHitBy
trigger1 = Animelem = 4, >= 0
trigger1 = Animelem = 12, < 0
value = ,AT,AP

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1104

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 3
volumescale = 170

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 13
volumescale = 170

[State 240, Explod]
type = Explod
trigger1 = Animelem = 4
anim = 1120
id = 1120
pos = 0, 0
ontop = 1
bindtime = -1
removetime = 26

[State 250, 5]
type = VelSet
trigger1 = Animelem = 3, >= 0
trigger1 = Animelem = 11, < 2
x = 0
y = -7

[State 0, VelAdd]
type = VelAdd
trigger1 = Animelem = 2, >= 0
trigger1 = Animelem = 10, < 0
y = -4.66

[State 250, 5]
type = Gravity
trigger1 = Animelem = 12, >= 0

[State 220, 2]
type = HitDef
trigger1 = Time = 0
;trigger1 = !MoveContact
attr = S, SA
damage =  7*ifelse(10*fvar(0)>=1,floor(10*fvar(0)),1),7
animtype = up
air.animtype = up
guardflag = MA
hitflag = MAFD
priority = 6, Hit
pausetime = 13, 14
sparkno = S8002
guard.sparkno = S8050
sparkxy = -3, -80
hitsound = S5, 3
guardsound = S6, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 25
ground.velocity = -5.7,-29.6
ground.cornerpush.veloff = -11.5
yaccel = 0.88
guard.velocity = -10
air.type = High
air.velocity = -5,-29
air.hittime = 25
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
airguard.velocity = -3
;p2stateno = 1120
guard.hittime = 15
guard.slidetime = 15
down.velocity = 2, -5
p2facing = 1
id = 1

[State 250, 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Charge
[Statedef 1105]
type    = A
movetype= A
physics = S
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 56)
ctrl = 0
velset = 0,0
sprpriority = -1

[State 3001]
type = NotHitBy
trigger1 = Animelem = 4, >= 0
trigger1 = Animelem = 14, < 0
value = ,AT,AP

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1105

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 3
volumescale = 170

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 13
volumescale = 170

[State 240, Explod]
type = Explod
trigger1 = Animelem = 4
anim = 1121
id = 1121
pos = 0, 0
ontop = 1
bindtime = -1
removetime = 25

[State 250, 5]
type = VelSet
trigger1 = Animelem = 4, >= 0
trigger1 = Animelem = 14, < 0
x = 10
y = -9

[State 250, 5]
type = Gravity
trigger1 = Animelem = 14, >= 0

[State 220, 2]
type = HitDef
trigger1 = Time = 0
;trigger1 = !MoveContact
attr = S, SA
damage =  7*ifelse(10*fvar(0)>=1,floor(10*fvar(0)),1),7
animtype = up
air.animtype = up
guardflag = MA
hitflag = MAFD
priority = 6, Hit
pausetime = 13, 14
sparkno = S8002
guard.sparkno = S8050
sparkxy = -3, -80
hitsound = S5, 3
guardsound = S6, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 25
ground.velocity = -5.7,-29.6
ground.cornerpush.veloff = -11.5
yaccel = 0.88
guard.velocity = -10
air.type = High
air.velocity = -5,-29
air.hittime = 25
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
airguard.velocity = -3
;p2stateno = 1120
guard.hittime = 15
guard.slidetime = 15
down.velocity = 2, -5
p2facing = 1
id = 1

[State 250, 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Charge
[Statedef 1106]
type    = A
movetype= A
physics = S
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 56)
ctrl = 0
velset = 0,0
sprpriority = -1

[State 3001]
type = NotHitBy
trigger1 = Animelem = 2, >= 0
trigger1 = Animelem = 6, < 0
value = ,AT,AP

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1106

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 1, = 1
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 3
volumescale = 170

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 13
volumescale = 170

[State 240, Explod]
type = Explod
trigger1 = Animelem = 2
anim = 1120
id = 1120
pos = 0, 0
ontop = 1
bindtime = -1
removetime = 13

[State 250, 5]
type = VelSet
trigger1 = Animelem = 2, >= 0
trigger1 = Animelem = 5, < 2
x = 2
y = -5

[State 0, VelAdd]
type = VelAdd
trigger1 = Animelem = 2, >= 0
trigger1 = Animelem = 4, < 0
y = -4.66

[State 250, 5]
type = Gravity
trigger1 = Animelem = 6, >= 0

[State 220, 2]
type = HitDef
trigger1 = Time = 0
;trigger1 = !MoveContact
attr = A, SA
damage =  7*ifelse(20*fvar(0)>=1,floor(20*fvar(0)),1),21
animtype = up
air.animtype = up
guardflag = MA
hitflag = MAFD
priority = 6, Hit
pausetime = 12, 13
sparkno = S8002
guard.sparkno = S8050
sparkxy = -3, -50
hitsound = S5, 3
guardsound = S6, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 25
ground.velocity = -1.7,-13.6
ground.cornerpush.veloff = -12.5
yaccel = 0.78
guard.velocity = -10
air.type = High
air.velocity = -1,-13
air.hittime = 25
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
airguard.velocity = -3
;p2stateno = 1120
guard.hittime = 15
guard.slidetime = 15
down.velocity = 2, -5
p2facing = 1
id = 1

[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Command = "fwd_a"
var(31) = 1
[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Command = "fwd_b"
var(31) = 2
[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Command = "fwd_c"
var(31) = 3
[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Time > 3
trigger1 = Command = "up_a"
var(31) = 4
[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Time > 3
trigger1 = Command = "up_b"
var(31) = 5
[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Time > 3
trigger1 = Command = "up_c"
var(31) = 6
[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Command = "uf_a"
var(31) = 7
[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Command = "uf_b"
var(31) = 8
[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Command = "uf_c"
var(31) = 9

[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 1
trigger1 = AnimelemNo(0) =[3,5]
value = 1109
[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 2
trigger1 = AnimelemNo(0) =[3,5]
value = 1110
[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 3
trigger1 = AnimelemNo(0) =[3,5]
value = 1111
[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 4
trigger1 = AnimelemNo(0) =[3,5]
value = 1112
[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 5
trigger1 = AnimelemNo(0) =[3,5]
value = 1113
[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 6
trigger1 = AnimelemNo(0) =[3,5]
value = 1114
[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 7
trigger1 = AnimelemNo(0) =[3,5]
value = 1115
[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 8
trigger1 = AnimelemNo(0) =[3,5]
value = 1116
[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 9
trigger1 = AnimelemNo(0) =[3,5]
value = 1117

[State 250, 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Charge
[Statedef 1107]
type    = A
movetype= A
physics = S
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 56)
ctrl = 0
velset = 0,0
sprpriority = -1

[State 3001]
type = NotHitBy
trigger1 = Animelem = 2, >= 0
trigger1 = Animelem = 8, < 0
value = ,AT,AP

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1107

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 3
volumescale = 170

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 13
volumescale = 170

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 1, = 1
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 240, Explod]
type = Explod
trigger1 = Animelem = 2
anim = 1120
id = 1120
pos = 0, 0
ontop = 1
bindtime = -1
removetime = 20

[State 250, 5]
type = VelSet
trigger1 = Animelem = 2, >= 0
trigger1 = Animelem = 7, < 2
x = 2
y = -8

[State 0, VelAdd]
type = VelAdd
trigger1 = Animelem = 2, >= 0
trigger1 = Animelem = 6, < 0
y = -4.66

[State 250, 5]
type = Gravity
trigger1 = Animelem = 8, >= 0

[State 220, 2]
type = HitDef
trigger1 = Time = 0
;trigger1 = !MoveContact
attr = A, SA
damage =  7*ifelse(20*fvar(0)>=1,floor(20*fvar(0)),1),21
animtype = up
air.animtype = up
guardflag = MA
hitflag = MAFD
priority = 6, Hit
pausetime = 12, 13
sparkno = S8002
guard.sparkno = S8050
sparkxy = -3, -50
hitsound = S5, 3
guardsound = S6, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 25
ground.velocity = -1.7,-19.6
ground.cornerpush.veloff = -12.5
yaccel = 0.78
guard.velocity = -10
air.type = High
air.velocity = -1,-19
air.hittime = 25
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
airguard.velocity = -3
;p2stateno = 1120
guard.hittime = 15
guard.slidetime = 15
down.velocity = 2, -5
p2facing = 1
id = 1

[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Command = "fwd_a"
var(31) = 1
[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Command = "fwd_b"
var(31) = 2
[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Command = "fwd_c"
var(31) = 3
[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Time > 3
trigger1 = Command = "up_a"
var(31) = 4
[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Time > 3
trigger1 = Command = "up_b"
var(31) = 5
[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Time > 3
trigger1 = Command = "up_c"
var(31) = 6
[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Command = "uf_a"
var(31) = 7
[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Command = "uf_b"
var(31) = 8
[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Command = "uf_c"
var(31) = 9

[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 1
trigger1 = AnimelemNo(0) =[3,7]
value = 1109
[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 2
trigger1 = AnimelemNo(0) =[3,7]
value = 1110
[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 3
trigger1 = AnimelemNo(0) =[3,7]
value = 1111
[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 4
trigger1 = AnimelemNo(0) =[3,7]
value = 1112
[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 5
trigger1 = AnimelemNo(0) =[3,7]
value = 1113
[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 6
trigger1 = AnimelemNo(0) =[3,7]
value = 1114
[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 7
trigger1 = AnimelemNo(0) =[3,7]
value = 1115
[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 8
trigger1 = AnimelemNo(0) =[3,7]
value = 1116
[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 9
trigger1 = AnimelemNo(0) =[3,7]
value = 1117

[State 250, 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Charge
[Statedef 1108]
type    = A
movetype= A
physics = S
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 56)
ctrl = 0
velset = 0,0
sprpriority = -1

[State 3001]
type = NotHitBy
trigger1 = Animelem = 2, >= 0
trigger1 = Animelem = 10, < 0
value = ,AT,AP

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1108

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 1, = 1
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1
removeongethit = 1

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 3
volumescale = 170

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 13
volumescale = 170

[State 240, Explod]
type = Explod
trigger1 = Animelem = 2
anim = 1120
id = 1120
pos = 0, 0
ontop = 1
bindtime = -1
removetime = 28

[State 250, 5]
type = VelSet
trigger1 = Animelem = 2, >= 0
trigger1 = Animelem = 9, < 2
x = 2
y = -10

[State 0, VelAdd]
type = VelAdd
trigger1 = Animelem = 2, >= 0
trigger1 = Animelem = 8, < 0
y = -4.66

[State 250, 5]
type = Gravity
trigger1 = Animelem = 10, >= 0

[State 220, 2]
type = HitDef
trigger1 = Time = 0
;trigger1 = !MoveContact
attr = A, SA
damage =  7*ifelse(20*fvar(0)>=1,floor(20*fvar(0)),1),21
animtype = up
air.animtype = up
guardflag = MA
hitflag = MAFD
priority = 6, Hit
pausetime = 12, 13
sparkno = S8002
guard.sparkno = S8050
sparkxy = -3, -50
hitsound = S5, 3
guardsound = S6, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 25
ground.velocity = -1.7,-23
ground.cornerpush.veloff = -12.5
yaccel = 0.78
guard.velocity = -10
air.type = High
air.velocity = -1,-23.5
air.hittime = 25
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
airguard.velocity = -3
;p2stateno = 1120
guard.hittime = 15
guard.slidetime = 15
down.velocity = 2, -5
p2facing = 1
id = 1

[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Command = "fwd_a"
var(31) = 1
[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Command = "fwd_b"
var(31) = 2
[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Command = "fwd_c"
var(31) = 3
[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Time > 3
trigger1 = Command = "up_a"
var(31) = 4
[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Time > 3
trigger1 = Command = "up_b"
var(31) = 5
[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Time > 3
trigger1 = Command = "up_c"
var(31) = 6
[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Command = "uf_a"
var(31) = 7
[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Command = "uf_b"
var(31) = 8
[State 250, 5]
type = VarSet
triggerall = var(59) <=0
trigger1 = Command = "uf_c"
var(31) = 9

[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 1
trigger1 = AnimelemNo(0) =[3,9]
value = 1109
[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 2
trigger1 = AnimelemNo(0) =[3,9]
value = 1110
[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 3
trigger1 = AnimelemNo(0) =[3,9]
value = 1111
[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 4
trigger1 = AnimelemNo(0) =[3,9]
value = 1112
[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 5
trigger1 = AnimelemNo(0) =[3,9]
value = 1113
[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 6
trigger1 = AnimelemNo(0) =[3,9]
value = 1114
[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 7
trigger1 = AnimelemNo(0) =[3,9]
value = 1115
[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 8
trigger1 = AnimelemNo(0) =[3,9]
value = 1116
[State 250, 5]
type = ChangeState
triggerall = var(59) <=0
trigger1 = var(31) = 9
trigger1 = AnimelemNo(0) =[3,9]
value = 1117

[State 250, 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Charge
[Statedef 1109]
type    = A
movetype= A
physics = S
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 56)
ctrl = 0
velset = 0,0
sprpriority = -1

[State 3001]
type = NotHitBy
trigger1 = Animelem = 2, >= 0
trigger1 = Animelem = 7, < 0
value = ,AT,AP

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1109

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 3
volumescale = 170

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 13
volumescale = 170

[State 240, Explod]
type = Explod
trigger1 = Animelem = 3
anim = 1118
id = 1118
pos = 0, 0
ontop = 1
bindtime = -1
removetime = 13

[State 250, 5]
type = VelSet
trigger1 = Animelem = 3, >= 0
trigger1 = Animelem = 7, < 0
x = 5

[State 250, 5]
type = VelSet
trigger1 = Animelem = 7, >= 0
x = 0

[State 250, 5]
type = Gravity
trigger1 = Animelem = 7, >= 0

[State 220, 2]
type = HitDef
trigger1 = Time = 0
;trigger1 = !MoveContact
attr = A, SA
damage =  7*ifelse(10*fvar(0)>=1,floor(10*fvar(0)),1),7
animtype = back
air.animtype = back
guardflag = MA
hitflag = MAFD
priority = 6, Hit
pausetime = 12, 13
sparkno = S8002
guard.sparkno = S8050
sparkxy = -3, -50
hitsound = S5, 3
guardsound = S6, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 25
ground.velocity = -17,-11
yaccel = 0.88
guard.velocity = -10
air.type = High
air.velocity = -17,-8
air.hittime = 25
fall.xvelocity = 0
fall.yvelocity = -1
fall = 1
fall.recover = 0
airguard.velocity = -3
;p2stateno = 1120
guard.hittime = 15
guard.slidetime = 15
down.velocity = 2, -5
p2facing = 1

[State 250, 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Charge
[Statedef 1110]
type    = A
movetype= A
physics = S
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 56)
ctrl = 0
velset = 0,0
sprpriority = -1

[State 3001]
type = NotHitBy
trigger1 = Animelem = 2, >= 0
trigger1 = Animelem = 9, < 0
value = ,AT,AP

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1110

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 3
volumescale = 170

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 13
volumescale = 170

[State 240, Explod]
type = Explod
trigger1 = Animelem = 3
anim = 1118
id = 1118
pos = 0, 0
ontop = 1
bindtime = -1
removetime = 20

[State 250, 5]
type = VelSet
trigger1 = Animelem = 3, >= 0
trigger1 = Animelem = 9, < 0
x = 8

[State 250, 5]
type = VelSet
trigger1 = Animelem = 9, >= 0
x = 0

[State 250, 5]
type = Gravity
trigger1 = Animelem = 9, >= 0

[State 220, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = !MoveContact
attr = A, SA
damage =  7*ifelse(10*fvar(0)>=1,floor(10*fvar(0)),1),7
animtype = back
air.animtype = back
guardflag = MA
hitflag = MAFD
priority = 6, Hit
pausetime = 12, 13
sparkno = S8002
guard.sparkno = S8050
sparkxy = -3, -50
hitsound = S5, 3
guardsound = S6, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 25
ground.velocity = -17,-11
yaccel = 0.88
guard.velocity = -10
air.type = High
air.velocity = -17,-8
air.hittime = 25
fall.xvelocity = 0
fall.yvelocity = -1
fall = 1
fall.recover = 0
airguard.velocity = -3
;p2stateno = 1120
guard.hittime = 15
guard.slidetime = 15
down.velocity = 2, -5
p2facing = 1


[State 250, 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Charge
[Statedef 1111]
type    = A
movetype= A
physics = S
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 56)
ctrl = 0
velset = 0,0
sprpriority = -1

[State 3001]
type = NotHitBy
trigger1 = Animelem = 2, >= 0
trigger1 = Animelem = 10, < 0
value = ,AT,AP

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1111

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 3
volumescale = 170

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 13
volumescale = 170

[State 240, Explod]
type = Explod
trigger1 = Animelem = 3
anim = 1118
id = 1118
pos = 0, 0
ontop = 1
bindtime = -1
removetime = 27

[State 250, 5]
type = VelSet
trigger1 = Animelem = 3, >= 0
trigger1 = Animelem = 11, < 0
x = 11

[State 250, 5]
type = VelSet
trigger1 = Animelem = 11, >= 0
x = 0

[State 250, 5]
type = Gravity
trigger1 = Animelem = 11, >= 0

[State 220, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = !MoveContact
attr = A, SA
damage =  7*ifelse(10*fvar(0)>=1,floor(10*fvar(0)),1),7
animtype = back
air.animtype = back
guardflag = MA
hitflag = MAFD
priority = 6, Hit
pausetime = 12, 13
sparkno = S8002
guard.sparkno = S8050
sparkxy = -3, -50
hitsound = S5, 3
guardsound = S6, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 25
ground.velocity = -18,-11
yaccel = 0.88
guard.velocity = -10
air.type = High
air.velocity = -18,-8
air.hittime = 25
fall.xvelocity = 0
fall.yvelocity = -1
fall = 1
fall.recover = 0
airguard.velocity = -3
;p2stateno = 1120
guard.hittime = 15
guard.slidetime = 15
down.velocity = 2, -5
p2facing = 1

[State 250, 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Charge
[Statedef 1112]
type    = A
movetype= A
physics = S
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 56)
ctrl = 0
velset = 0,0
sprpriority = -1

[State 3001]
type = NotHitBy
trigger1 = Animelem = 3, >= 0
trigger1 = Animelem = 8, < 0
value = ,AT,AP

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1112

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 3
volumescale = 170

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 13
volumescale = 170

[State 240, Explod]
type = Explod
trigger1 = Animelem = 3
anim = 1120
id = 1122
pos = 0, 0
ontop = 1
bindtime = -1
removetime = 13

[State 250, 5]
type = VelSet
trigger1 = Animelem = 3, >= 0
trigger1 = Animelem = 6, < 2
y = -6
x=0

[State 0, VelAdd]
type = VelAdd
trigger1 = Animelem = 2, >= 0
trigger1 = Animelem = 5, < 0
y = -4.66

[State 250, 5]
type = Gravity
trigger1 = Animelem = 7, >= 0

[State 220, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = !MoveContact
attr = A, SA
damage =  7*ifelse(10*fvar(0)>=1,floor(10*fvar(0)),1),7
animtype = back
air.animtype = back
guardflag = MA
hitflag = MAFD
priority = 6, Hit
pausetime = 12, 13
sparkno = S8002
guard.sparkno = S8050
sparkxy = -3, -50
hitsound = S5, 3
guardsound = S6, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 25
ground.velocity = -2,-18
ground.cornerpush.veloff = -12.5
yaccel = 0.88
guard.velocity = -10
air.type = High
air.velocity = -2,-18
air.hittime = 25
fall.xvelocity = 0
fall.yvelocity = -1
fall = 1
fall.recover = 0
airguard.velocity = -3
;p2stateno = 1120
guard.hittime = 15
guard.slidetime = 15
down.velocity = 2, -5
p2facing = 1

[State 250, 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Charge
[Statedef 1113]
type    = A
movetype= A
physics = S
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 56)
ctrl = 0
velset = 0,0
sprpriority = -1

[State 3001]
type = NotHitBy
trigger1 = Animelem = 3, >= 0
trigger1 = Animelem = 9, < 0
value = ,AT,AP

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1113

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 3
volumescale = 170

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 13
volumescale = 170

[State 240, Explod]
type = Explod
trigger1 = Animelem = 3
anim = 1120
id = 1122
pos = 0, 0
ontop = 1
bindtime = -1
removetime = 20

[State 250, 5]
type = VelSet
trigger1 = Animelem = 3, >= 0
trigger1 = Animelem = 8, < 2
y = -8
x=0

[State 0, VelAdd]
type = VelAdd
trigger1 = Animelem = 2, >= 0
trigger1 = Animelem = 7, < 0
y = -4.66

[State 250, 5]
type = Gravity
trigger1 = Animelem = 9, >= 0

[State 220, 2]
type = HitDef
trigger1 = Time = 0
;trigger1 = !MoveContact
attr = A, SA
damage =  7*ifelse(10*fvar(0)>=1,floor(10*fvar(0)),1),7
animtype = back
air.animtype = back
guardflag = MA
hitflag = MAFD
priority = 6, Hit
pausetime = 12, 13
sparkno = S8002
guard.sparkno = S8050
sparkxy = -3, -50
hitsound = S5, 3
guardsound = S6, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 25
ground.velocity = -2,-23
ground.cornerpush.veloff = -12.5
yaccel = 0.88
guard.velocity = -10
air.type = High
air.velocity = -2,-23
air.hittime = 25
fall.xvelocity = 0
fall.yvelocity = -1
fall = 1
fall.recover = 0
airguard.velocity = -3
;p2stateno = 1120
guard.hittime = 15
guard.slidetime = 15
down.velocity = 2, -5
p2facing = 1

[State 250, 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Charge
[Statedef 1114]
type    = A
movetype= A
physics = S
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 56)
ctrl = 0
velset = 0,0
sprpriority = -1

[State 3001]
type = NotHitBy
trigger1 = Animelem = 3, >= 0
trigger1 = Animelem = 11, < 0
value = ,AT,AP

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1114

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 3
volumescale = 170

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 13
volumescale = 170

[State 240, Explod]
type = Explod
trigger1 = Animelem = 3
anim = 1120
id = 1122
pos = 0, 0
ontop = 1
bindtime = -1
removetime = 28

[State 250, 5]
type = VelSet
trigger1 = Animelem = 3, >= 0
trigger1 = Animelem = 10, < 2
y = -11
x=0

[State 0, VelAdd]
type = VelAdd
trigger1 = Animelem = 2, >= 0
trigger1 = Animelem = 9, < 0
y = -4.66

[State 250, 5]
type = Gravity
trigger1 = Animelem = 11, >= 0

[State 220, 2]
type = HitDef
trigger1 = Time = 0
;trigger1 = !MoveContact
attr = A, SA
damage =  7*ifelse(10*fvar(0)>=1,floor(10*fvar(0)),1),7
animtype = back
air.animtype = back
guardflag = MA
hitflag = MAFD
priority = 6, Hit
pausetime = 12, 13
sparkno = S8002
guard.sparkno = S8050
sparkxy = -3, -50
hitsound = S5, 3
guardsound = S6, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 25
ground.velocity = -2,-28
ground.cornerpush.veloff = -12.5
yaccel = 0.88
guard.velocity = -10
air.type = High
air.velocity = -2,-28
air.hittime = 25
fall.xvelocity = 0
fall.yvelocity = -1
fall = 1
fall.recover = 0
airguard.velocity = -3
;p2stateno = 1120
guard.hittime = 15
guard.slidetime = 15
down.velocity = 2, -5
p2facing = 1

[State 250, 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Charge
[Statedef 1115]
type    = A
movetype= A
physics = S
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 56)
ctrl = 0
velset = 0,0
sprpriority = -1

[State 3001]
type = NotHitBy
trigger1 = Animelem = 4, >= 0
trigger1 = Animelem = 10, < 0
value = ,AT,AP

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1115

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 3
volumescale = 170

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 13
volumescale = 170

[State 240, Explod]
type = Explod
trigger1 = Animelem = 4
anim = 1121
id = 1121
pos = 0, 0
ontop = 1
bindtime = -1
removetime = 14

[State 250, 5]
type = VelSet
trigger1 = Animelem = 4, >= 0
trigger1 = Animelem = 9, < 0
x = 5
y = -6

[State 250, 5]
type = Gravity
trigger1 = Animelem = 9, >= 0

[State 220, 2]
type = HitDef
trigger1 = Time = 0
;trigger1 = !MoveContact
attr = A, SA
damage =  7*ifelse(10*fvar(0)>=1,floor(10*fvar(0)),1),7
animtype = back
air.animtype = back
guardflag = MA
hitflag = MAFD
priority = 6, Hit
pausetime = 12, 13
sparkno = S8002
guard.sparkno = S8050
sparkxy = -3, -50
hitsound = S5, 3
guardsound = S6, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 25
ground.velocity = -13,-18
ground.cornerpush.veloff = -12.5
yaccel = 0.88
guard.velocity = -10
air.type = High
air.velocity = -13,-18
air.hittime = 25
fall.xvelocity = 0
fall.yvelocity = -1
fall = 1
fall.recover = 0
airguard.velocity = -3
;p2stateno = 1120
guard.hittime = 15
guard.slidetime = 15
down.velocity = 2, -5
p2facing = 1

[State 250, 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Charge
[Statedef 1116]
type    = A
movetype= A
physics = S
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 56)
ctrl = 0
velset = 0,0
sprpriority = -1

[State 3001]
type = NotHitBy
trigger1 = Animelem = 4, >= 0
trigger1 = Animelem = 12, < 0
value = ,AT,AP

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1116

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 3
volumescale = 170

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 13
volumescale = 170

[State 240, Explod]
type = Explod
trigger1 = Animelem = 4
anim = 1121
id = 1121
pos = 0, 0
ontop = 1
bindtime = -1
removetime = 21

[State 250, 5]
type = VelSet
trigger1 = Animelem = 4, >= 0
trigger1 = Animelem = 12, < 0
x = 8
y = -6

[State 250, 5]
type = Gravity
trigger1 = Animelem = 12, >= 0

[State 220, 2]
type = HitDef
trigger1 = Time = 0
;trigger1 = !MoveContact
attr = A, SA
damage =  7*ifelse(10*fvar(0)>=1,floor(10*fvar(0)),1),7
animtype = back
air.animtype = back
guardflag = MA
hitflag = MAFD
priority = 6, Hit
pausetime = 12, 13
sparkno = S8002
guard.sparkno = S8050
sparkxy = -3, -50
hitsound = S5, 3
guardsound = S6, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 25
ground.velocity = -13,-23
ground.cornerpush.veloff = -12.5
yaccel = 0.88
guard.velocity = -10
air.type = High
air.velocity = -13,-23
air.hittime = 25
fall.xvelocity = 0
fall.yvelocity = -1
fall = 1
fall.recover = 0
airguard.velocity = -3
;p2stateno = 1120
guard.hittime = 15
guard.slidetime = 15
down.velocity = 2, -5
p2facing = 1

[State 250, 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Charge
[Statedef 1117]
type    = A
movetype= A
physics = S
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 56)
ctrl = 0
velset = 0,0
sprpriority = -1

[State 3001]
type = NotHitBy
trigger1 = Animelem = 4, >= 0
trigger1 = Animelem = 15, < 0
value = ,AT,AP

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1117

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 3
volumescale = 170

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 13
volumescale = 170

[State 240, Explod]
type = Explod
trigger1 = Animelem = 4
anim = 1121
id = 1121
pos = 0, 0
ontop = 1
bindtime = -1
removetime = 27

[State 250, 5]
type = VelSet
trigger1 = Animelem = 4, >= 0
trigger1 = Animelem = 15, < 0
x = 10
y = -8

[State 250, 5]
type = Gravity
trigger1 = Animelem = 15, >= 0

[State 220, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = !MoveContact
attr = A, SA
damage =  7*ifelse(10*fvar(0)>=1,floor(10*fvar(0)),1),7
animtype = back
air.animtype = back
guardflag = MA
hitflag = MAFD
priority = 6, Hit
pausetime = 12, 13
sparkno = S8002
guard.sparkno = S8050
sparkxy = -3, -50
hitsound = S5, 3
guardsound = S6, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 25
ground.velocity = -13,-28
ground.cornerpush.veloff = -12.5
yaccel = 0.88
guard.velocity = -10
air.type = High
air.velocity = -13,-28
air.hittime = 25
fall.xvelocity = 0
fall.yvelocity = -1
fall = 1
fall.recover = 0
airguard.velocity = -3
;p2stateno = 1120
guard.hittime = 15
guard.slidetime = 15
down.velocity = 2, -5
p2facing = 1

[State 250, 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 1

;-------------------------------------------------------------------
[Statedef 1120]
type = A
movetype = H
physics = N
ctrl = 0
facep2 = 1
velset = 0, 0

[State 222, 1]
type =ChangeAnim
trigger1 = Time < 7
value = 5050;IfElse(SelfAnimExist(5052),5052,(IfElse(SelfAnimExist(5051),5051,5050)))

[State 222, 2]
type = VelSet
trigger1 = Time = 7
x = 2.5
y = -8.5

[State 222, 3]
type = VelAdd
trigger1 = time > 9
y = .7

[State 222, 4]
type = VelSet
trigger1 = !Alive
x = 8
y = -19

[State 222, 5]
type = SelfState
trigger1 = !Alive
value = 5050

[State 222, 6]
type = SelfState
trigger1 = Vel Y > 0
value = 5050
;ctrl = 1

;-------------------------------------------------------------------
; Get Hit
[Statedef 1121]
type = A
movetype = H
physics = N
ctrl = 0
facep2 = 1
velset = 0, 0

[State 222, 1]
type = ChangeAnim
trigger1 = Time < 7
value = 5050;IfElse(SelfAnimExist(5052),5052,(IfElse(SelfAnimExist(5051),5051,5050)))

[State 222, 2]
type = VelSet
trigger1 = time = 7
x = 2.5
y = -8.5

[State 222, 3]
type = VelAdd
trigger1 = time > 9
y = .7

[State 222, 4]
type = VelSet
trigger1 = !Alive
x = 8
y = -19

[State 222, 5]
type = SelfState
trigger1 = !Alive
value = 5050

[State 222, 6]
type = SelfState
trigger1 = Vel Y > 0
value = 5050
;ctrl = 1

;-------------------------------------------------------------------
; Get Hit
[Statedef 1122]
type = A
movetype = H
physics = N
ctrl = 0
facep2 = 1
velset = 0, 0

[State 222, 1]
type = ChangeAnim
trigger1 = Time < 7
value = 5050;IfElse(SelfAnimExist(5052),5052,(IfElse(SelfAnimExist(5051),5051,5050)))

[State 222, 2]
type = VelSet
trigger1 = time = 7
x = 2.5
y = -8.5

[State 222, 3]
type =  VelAdd
trigger1 = time > 9
y = .7

[State 222, 4]
type = VelSet
trigger1 = !Alive
x = 8
y = -19

[State 222, 5]
type = SelfState
trigger1 = !Alive
value = 5050

[State 222, 6]
type = SelfState
trigger1 = Vel Y > 0
value = 5050
;ctrl = 1

;-------------------------------------------------------------------
; Get Hit
[Statedef 1123]
type = A
movetype = H
physics = N
ctrl = 0
facep2 = 1
velset = 0, 0

[State 222, 1]
type = ChangeAnim
trigger1 = Time < 9
value = IfElse(SelfAnimExist(5052),5052,(IfElse(SelfAnimExist(5051),5051,5050)))

[State 222, 2]
type = VelSet
trigger1 = time = 11
x = -10
y = -4

[State 222, 3]
type = VelAdd
trigger1 = time > 11
y = .55

[State 222, 4]
type = VelSet
trigger1 = !Alive
x = -8
y = -15

[State 222, 5]
type = SelfState
trigger1 = !Alive
value = 5050

[State 222, 6]
type = SelfState
trigger1 = Vel Y > 0
value = 5050
ctrl = 1

;-------------------------------------------------------------------
; Get Hit
[Statedef 1124]
type = A
movetype = H
physics = N
ctrl = 0
facep2 = 1
velset = 0, 0

[State 222, 1]
type = ChangeAnim
trigger1 = Time < 9
value = IfElse(SelfAnimExist(5052),5052,(IfElse(SelfAnimExist(5051),5051,5050)))

[State 222, 2]
type = VelSet
trigger1 = time = 11
x = -10
y = -4

[State 222, 3]
type = VelAdd
trigger1 = time > 11
y = .55

[State 222, 4]
type = VelSet
trigger1 = !Alive
x = -8
y = -15

[State 222, 5]
type = SelfState
trigger1 = !Alive
value = 5050

[State 222, 6]
type = SelfState
trigger1 = Vel Y > 0
value = 5050
ctrl = 1

;-------------------------------------------------------------------
; Get Hit
[Statedef 1125]
type = A
movetype = H
physics = N
ctrl = 0
facep2 = 1
velset = 0, 0

[State 222, 1]
type = ChangeAnim
trigger1 = Time < 9
value = IfElse(SelfAnimExist(5052),5052,(IfElse(SelfAnimExist(5051),5051,5050)))

[State 222, 2]
type = VelSet
trigger1 = time = 11
x = -10
y = -4

[State 222, 3]
type = VelAdd
trigger1 = time > 11
y = .39

[State 222, 4]
type = VelSet
trigger1 = !Alive
x = -8
y = -15

[State 222, 5]
type = SelfState
trigger1 = !Alive
value = 5050

[State 222, 6]
type = SelfState
trigger1 = Vel Y > 0
value = 5040
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Throw
[Statedef 1200]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 60)   
ctrl = 0
velset = 0,0

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1200

[state 3200, 1]
type = explod
trigger1 = animelem = 1; = 5
id = 23
anim = 9110
postype = p1
pos = 0, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
supermove = 0

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 1

[State 220, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = !MoveContact
attr = S, ST
getpower = 20
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 10
sparkno = S6001
;guard.sparkno = S6050
sparkxy = -3, -70
hitsound = S210, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 20
ground.velocity = -3,-8
guard.velocity = -10
air.type = High
air.velocity = -3,-7
air.hittime = 15
airguard.velocity = -3
p1stateno = 1203
p2stateno = 1206

[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 300
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Throw
[Statedef 1203]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0
sprpriority = 1
anim = 1203

[State 5400, 2]
type = ScreenBound
trigger1 = Time >= 0
value = 0
movecamera = 0,0

[State 250, 5]
type = SprPriority
trigger1 = Animelem = 1
value = -2
[State 250, 5]
type = SprPriority
trigger1 = Animelem = 2
value = 1
[State 250, 5]
type = SprPriority
trigger1 = Animelem = 11
value = -2

[State 810, Bind 1]
type = TargetBind
trigger1 = Animelem = 1
pos = 100, -120	

[State 810, Bind 1]
type = TargetBind
trigger1 = Animelem = 2
pos = 80, -175

[State 810, Width 2-11]
type = TargetBind
trigger1 = Animelem = 3
pos = 0,-175

[State 810, Bind 2-4]
type = TargetBind
trigger1 = Animelem = 4
pos = -55, -150

[State 810, Bind 5]
type = TargetBind
trigger1 = Animelem = 5
pos = -55, -115

[State 810, Bind 5]
type = TargetBind
trigger1 = Animelem = 6
pos = 15, -115

[State 810, Bind 5]
type = TargetBind
trigger1 = Animelem = 7
pos = 60, -95

[State 810, Bind 5]
type = TargetBind
trigger1 = Animelem = 8
pos = 115, -105

[State 810, Bind 5]
type = TargetBind
trigger1 = Animelem = 9
pos = 140, -130

[State 810, Bind 5]
type = TargetBind
trigger1 = Animelem = 10
pos = 95, -90

[State 810, Bind 5]
type = TargetBind
trigger1 = Animelem = 11
pos = 50, -60

[State 250, 5]
type = Turn
trigger1 = Animelem = 11

[State 250, 5]
type = TargetVelSet
trigger1 = Animelem = 12
x = 20
y = -4

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 5
trigger2 = Animelem = 11
value = 1200, 0

[State 810, Bind 5]
type = TargetLifeAdd
trigger1 = Animelem = 12
value = -100;(1000.0/144.0)*(20.0)

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 11
value = 0, 2

[State 250, 5]
type = ChangeState
triggerall = Time > 120
triggerall = Animtime = 0
trigger1 = BackEdgeDist < -20
value = 100

[State 250, 5]
type = ChangeState
triggerall = Animtime = 0
trigger1 = BackEdgeDist >= -20
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Throw
[Statedef 1206]
type    = A
movetype= H
physics = N
ctrl = 0
velset = 0,0
sprpriority = -1

[State 195, a]
type = ChangeAnim2
trigger1 = time = 0
value = 1206

[State 1206, Screenbound]
type = ScreenBound
trigger1 = Animelem = 12, < 0
value = 0
movecamera = 0,0

[State 1206, Screenbound]
type = ScreenBound
trigger1 = Animelem = 12, >= 0
value = 1
movecamera = 1,1

[State 810, Gravity]
type = VelAdd
trigger1 = Animelem = 13, >= 0
x = 1
y = .5

[State 250, 5]
type = Turn
trigger1 = Animtime = 0
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0

[State 250, 5]
type = SelfState
trigger1 = Animtime = 0
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Throw
[Statedef 1201]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 60)   
ctrl = 0
velset = 0,0

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1201

[state 3200, 1]
type = explod
trigger1 = animelem = 1; = 5
id = 23
anim = 9110
postype = p1
pos = 0, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
supermove = 0

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 1

[State 220, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = !MoveContact
attr = S, ST
getpower = 20
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 10
sparkno = S6001
;guard.sparkno = S6050
sparkxy = -3, -70
hitsound = S210, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 20
ground.velocity = -3,-8
guard.velocity = -10
air.type = High
air.velocity = -3,-7
air.hittime = 15
airguard.velocity = -3
p1stateno = 1204
p2stateno = 1207

[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 300
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Throw
[Statedef 1204]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0
anim = 1204

[State 5400, 2]
type = ScreenBound
trigger1 = Time >= 0
value = 0
movecamera = 0,0

[State 250, 5]
type = SprPriority
trigger1 = Animelem = 1
value = -2
[State 250, 5]
type = SprPriority
trigger1 = Animelem = 2
value = 1
[State 250, 5]
type = SprPriority
trigger1 = Animelem = 18
value = -2

[State 810, Bind 1]
type = TargetBind
trigger1 = Animelem = 1
pos = 100, -120	

[State 810, Bind 1]
type = TargetBind
trigger1 = Animelem = 2
trigger2 = Animelem = 10
pos = 80, -175

[State 810, Width 2-11]
type = TargetBind
trigger1 = Animelem = 3
trigger2 = Animelem = 11
pos = 0,-175

[State 810, Bind 2-4]
type = TargetBind
trigger1 = Animelem = 4
trigger2 = Animelem = 12
pos = -55, -150

[State 810, Bind 5]
type = TargetBind
trigger1 = Animelem = 5
trigger2 = Animelem = 13
pos = -55, -115

[State 810, Bind 5]
type = TargetBind
trigger1 = Animelem = 6
trigger2 = Animelem = 14
pos = 15, -115

[State 810, Bind 5]
type = TargetBind
trigger1 = Animelem = 7
trigger2 = Animelem = 15
pos = 60, -95

[State 810, Bind 5]
type = TargetBind
trigger1 = Animelem = 8
trigger2 = Animelem = 16
pos = 115, -105

[State 810, Bind 5]
type = TargetBind
trigger1 = Animelem = 9
pos = 140, -130

[State 810, Bind 5]
type = TargetBind
trigger1 = Animelem = 17
pos = 95, -90

[State 810, Bind 5]
type = TargetBind
trigger1 = Animelem = 18
pos = 50, -60

[State 250, 5]
type = Turn
trigger1 = Animelem = 18

[State 250, 5]
type = TargetVelSet
trigger1 = Animelem = 19
x = 20
y = -4

[State 810, Bind 5]
type = TargetLifeAdd
trigger1 = Animelem = 19
value = -100;(1000.0/144.0)*(20.0)

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 5
trigger2 = Animelem = 13
trigger3 = Animelem = 18
value = 1200, 0

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 18
value = 0, 2

[State 250, 5]
type = ChangeState
triggerall = Time > 143
triggerall = Animtime = 0
trigger1 = BackEdgeDist < -20
value = 100

[State 250, 5]
type = ChangeState
triggerall = Animtime = 0
trigger1 = BackEdgeDist >= -20
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Throw
[Statedef 1207]
type    = A
movetype= H
physics = N
ctrl = 0
velset = 0,0
sprpriority = -1

[State 195, a]
type = ChangeAnim2
trigger1 = time = 0
value = 1207

[State 1206, Screenbound]
type = ScreenBound
trigger1 = Animelem = 19, < 0
value = 0
movecamera = 0,0

[State 1206, Screenbound]
type = ScreenBound
trigger1 = Animelem = 19, >= 0
value = 1
movecamera = 1,1

[State 810, Gravity]
type = VelAdd
trigger1 = Animelem = 20, >= 0
x = 1
y = .5

[State 250, 5]
type = Turn
trigger1 = Animtime = 0
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0

[State 250, 5]
type = SelfState
trigger1 = Animtime = 0
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Throw
[Statedef 1202]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 60)   
ctrl = 0
velset = 0,0

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1202

[state 3200, 1]
type = explod
trigger1 = animelem = 1; = 5
id = 23
anim = 9110
postype = p1
pos = 0, 0
bindtime = 1
removetime = -2
sprpriority = 3
ownpal = 1
supermove = 0

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 1

[State 220, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = !MoveContact
attr = S, ST
getpower = 20
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 8, 10
sparkno = S6001
;guard.sparkno = S6050
sparkxy = -3, -70
hitsound = S210, 1
guardsound = S120, 0
ground.type = High
ground.slidetime = 11
ground.hittime  = 20
ground.velocity = -3,-8
guard.velocity = -10
air.type = High
air.velocity = -3,-7
air.hittime = 15
airguard.velocity = -3
p1stateno = 1205
p2stateno = 1208

[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 300
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Throw
[Statedef 1205]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1205

[State 5400, 2]
type = ScreenBound
trigger1 = Time >= 0
value = 0
movecamera = 0,0

[State 250, 5]
type = SprPriority
trigger1 = Animelem = 1
value = -2
[State 250, 5]
type = SprPriority
trigger1 = Animelem = 2
value = 1
[State 250, 5]
type = SprPriority
trigger1 = Animelem = 26
value = -2

[State 810, Bind 1]
type = TargetBind
trigger1 = Animelem = 1
pos = 100, -120	

[State 810, Bind 1]
type = TargetBind
trigger1 = Animelem = 2
trigger2 = Animelem = 10
trigger3 = Animelem = 18
pos = 80, -175

[State 810, Width 2-11]
type = TargetBind
trigger1 = Animelem = 3
trigger2 = Animelem = 11
trigger3 = Animelem = 19
pos = 0,-175

[State 810, Bind 2-4]
type = TargetBind
trigger1 = Animelem = 4
trigger2 = Animelem = 12
trigger3 = Animelem = 20
pos = -55, -150

[State 810, Bind 5]
type = TargetBind
trigger1 = Animelem = 5
trigger2 = Animelem = 13
trigger3 = Animelem = 21
pos = -55, -115

[State 810, Bind 5]
type = TargetBind
trigger1 = Animelem = 6
trigger2 = Animelem = 14
trigger3 = Animelem = 22
pos = 15, -115

[State 810, Bind 5]
type = TargetBind
trigger1 = Animelem = 7
trigger2 = Animelem = 15
trigger3 = Animelem = 23
pos = 20, -105

[State 810, Bind 5]
type = TargetBind
trigger1 = Animelem = 8
trigger2 = Animelem = 16
trigger3 = Animelem = 24
pos = 115, -105

[State 810, Bind 5]
type = TargetBind
trigger1 = Animelem = 9
trigger2 = Animelem = 17
pos = 140, -130

[State 810, Bind 5]
type = TargetBind
trigger1 = Animelem = 25
pos = 95, -90

[State 810, Bind 5]
type = TargetBind
trigger1 = Animelem = 26
pos = 50, -60

[State 250, 5]
type = Turn
trigger1 = Animelem = 26

[State 250, 5]
type = TargetVelSet
trigger1 = Animelem = 27
x = 20
y = -4

[State 810, Bind 5]
type = TargetLifeAdd
trigger1 = Animelem = 27
value = -100;(1000.0/144.0)*(20.0)

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 5
trigger2 = Animelem = 13
trigger3 = Animelem = 21
trigger4 = Animelem = 26
value = 1200, 0

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 26
value = 0, 2

[State 250, 5]
type = ChangeState
triggerall = Time > 205
triggerall = Animtime = 0
trigger1 = BackEdgeDist < -20
value = 100

[State 250, 5]
type = ChangeState
triggerall = Animtime = 0
trigger1 = BackEdgeDist >= -20
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Throw
[Statedef 1208]
type    = A
movetype= H
physics = N
ctrl = 0
velset = 0,0

[State 195, a]
type = ChangeAnim2
trigger1 = time = 0
value = 1208

[State 1206, Screenbound]
type = ScreenBound
trigger1 = Animelem = 27, < 0
value = 0
movecamera = 0,0

[State 1206, Screenbound]
type = ScreenBound
trigger1 = Animelem = 27, >= 0
value = 1
movecamera = 1,1

[State 810, Gravity]
type = VelAdd
trigger1 = Animelem = 28, >= 0
x = 1
y = .5

[State 250, 5]
type = Turn
trigger1 = Animtime = 0
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0

[State 250, 5]
type = SelfState
trigger1 = Animtime = 0
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100
ctrl = 0

;---------------------------------------------------------------------------
; Gamma Throw
[Statedef 1300]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 60)   
ctrl = 0
velset = 0,0

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 1300

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 5
value = 1300, 0
volume = 200

[State 195, a]
type = VarSet
trigger1 = !var(9)
var(9) = 1

[State 1300, Explod] 
type = Explod
trigger1 = NumExplod(1310) = 0
trigger1 = AnimElem = 5
anim = 1310
id = 1310
pos = 0, 0
removetime = -2
ignorehitpause = 0
ontop = 1
bindtime = -1

[State 3005, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S,HP
damage = (1000.0/144.0)*(5.0),(1000.0/144.0)*(1.0)
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 5,Hit
pausetime = 4,4
sparkno = s2203
guard.sparkno = s2204
sparkxy = -10,-43
hitsound = S250,0
guardsound = S120,0
ground.type = Trip
ground.slidetime = 20
ground.hittime = 25
ground.velocity = 0,-3
guard.velocity = -3
airguard.velocity = 0,-3
air.type = low
air.velocity = 0,-2
air.hittime = 20
fall = 1

[State 195, a]
type = VarSet
trigger1 = !var(9)
trigger1 = !MoveContact
var(9) = 1

[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = !MoveContact
value = 0
ctrl = 1
[State 250, 5]
type = ChangeState
trigger1 = MoveContact
value = 1304
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Throw
[Statedef 1301]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 60)   
ctrl = 0
velset = 0,0

[State 195, a]
type = ChangeAnim
triggerall = Anim != 1301
triggerall = Pos Y >= 0
trigger1 = Time = 0
value = 1301
[State 195, a]
type = ChangeAnim
triggerall = Pos Y < 0
trigger1 = Time = 0
value = 1302

[State 1301, Explod] 
type = Explod
triggerall = Pos Y >= 0
trigger1 = !NumExplod(1317)
trigger1 = Time = 0
anim = 1317
id = 1317
pos = 0, 0
removetime = -2
ignorehitpause = 0
ontop = 1
bindtime = -1
[State 1301, Explod] 
type = Explod
triggerall = Pos Y < 0
trigger1 = !NumExplod(1303)
trigger1 = Time = 0
anim = 1303
id = 1303
pos = 0, 0
removetime = -2
ignorehitpause = 0
sprpriority = -4
bindtime = -1
[State 1301, Explod] 
type = Explod
triggerall = Pos Y < 0
trigger1 = !NumExplod(1318)
trigger1 = Time = 0
anim = 1318
id = 1318
pos = 0, 0
removetime = -2
ignorehitpause = 0
ontop = 1
bindtime = -1

[State 195, a]
type = VarSet
trigger1 = 1
var(9) = 0

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 6
value = 0, 2

[State 220, Helper] 
type = Helper
trigger1 = Pos Y >= 0
trigger1 = Animelem = 6
pos = 0, 0
stateno = 1319
id = 1319
[State 220, Helper] 
type = Helper
trigger1 = Pos Y < 0
trigger1 = Animelem = 3
pos = 0, 0
stateno = 1319
id = 1319

[State 250, 5]
type = ChangeState
triggerall = Pos Y >= 0
trigger1 = AnimTime = 0
value = 0
ctrl = 1
[State 250, 5]
type = ChangeState
triggerall = Pos Y < 0
trigger1 = AnimTime = 0
value = 660
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Throw
[Statedef 1304]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= ifelse(PrevStateNo = 9000, 0, 60)   
ctrl = 0
velset = 0,0

[State 195, a]
type = ChangeAnim
trigger1 = Anim != 1304
trigger1 = Time = 0
value = 1304

[State 195, a]
type = VarSet
trigger1 = 1
var(9) = 0

[State 52, Explod] 
type = Explod
trigger1 = !NumExplod(1320)
trigger1 = Time = 0
anim = 1320
id = 1320
pos = 44, 122
removetime = -2
sprpriority = -5
ignorehitpause = 0

[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 300
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Wave
[Statedef 3000]
type    = S
movetype= A
physics = S
juggle  = 5 
ctrl = 0
velset = 0,0
sprpriority = -1
anim = 3000

[State 3000]
type = hitby
trigger1 = time = 0
value = SCA,HT
time = 35

[State 750, Dust]
type = Explod
triggerall = prevstateno != 9000
trigger1 = time = 0
anim = 9110
pos = 0,0
postype = p1
sprpriority = 5
supermove = 0
bindtime = 1
shadow = -1

[state 4002, 3.2]
type = explod
triggerall = prevstateno != 9000
trigger1 = animelem = 2
anim = 9111
id = 15543
postype = back
pos = 160,120
sprpriority = -4
removetime = -2
ownpal = 1
bindtime = -1
supermove = 1

[state 4002, 1]
type = explod
triggerall = prevstateno != 9000
trigger1 = animelem = 2
anim = 7000
id = 7000
postype = back
pos = 0, -11
sprpriority = -3
ownpal = 1
bindtime = -1
supermove = 1
persistent = 0
scale = 1,1.075


[state 2000, 4]
type = helper
triggerall = prevstateno != 9000
trigger1 = animelem = 2
trigger1 = numhelper(9923) = 0
stateno = 9922
id = 9002
name = "floor"
pos = 0,0
postype = p1
bindtime = 0
ownpal = 1

[State 3000, Pause]
type = SuperPause
triggerall = prevstateno != 9000
trigger1 = AnimElem = 2
time = 38
anim = s9109
pos = 20,-90
darken = 0
unhittable = 3
poweradd = -1000
sound = s885,0

[State 56, 10]
type = turn
triggerall = p2dist x < -35
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 7
trigger8 = AnimElem = 8
persistent = 0


[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 7

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 9
value = 0, 2

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 3
value = 0,7878

[state 750]
type = envshake
trigger1 = animelem = 3
persistent = 0
time = 150
freq = 90
ampl = -4

[State 220, Helper] 
type = Helper
trigger1 = Time = 20
pos = 60, 80
Stateno = 3005
id = 1000
[State 220, Helper] 
type = Helper
trigger1 = Time = 30
pos = 140, 80
Stateno = 3005
id = 1000
[State 220, Helper] 
type = Helper
trigger1 = Time = 40
pos = 220, 80
Stateno = 3005
id = 1000
[State 220, Helper] 
type = Helper
trigger1 = Time = 50
pos = 300, 80
Stateno = 3005
id = 1000
[State 220, Helper] 
type = Helper
trigger1 = Time = 60
pos = 360, 80
Stateno = 3005
id = 1000
[State 220, Helper] 
type = Helper
trigger1 = Time = 70
pos = 440, 80
Stateno = 3005
id = 1000
[State 520, Helper] 
type = Helper
trigger1 = Time = 80
pos = 520, 80
Stateno = 3005
id = 1000
[State 220, Helper] 
type = Helper
trigger1 = Time = 90
pos = 600, 80
Stateno = 3005
id = 1000
[State 220, Helper] 
type = Helper
trigger1 = Time = 100
pos = 660, 80
Stateno = 3005
id = 1000
[State 220, Helper] 
type = Helper
trigger1 = Time = 110
pos = 740, 80
Stateno = 3005
id = 1000
[State 220, Helper] 
type = Helper
trigger1 = Time = 120
pos = 820, 80
Stateno = 3005
id = 1000
[State 220, Helper] 
type = Helper
trigger1 = Time = 130
pos = 900, 80
Stateno = 3005
id = 1000
[State 220, Helper] 
type = Helper
trigger1 = Time = 140
pos = 900, 80
Stateno = 3005
id = 1000

[State 3000, Width]
type = Width
trigger1 = 1
edge = 32,0

[State 5400, 2]
type = ScreenBound
trigger1 = animelemtime(8)>0 && anim=3000&&p2movetype=H&&(p2stateno!=[120,155])
trigger2=anim=0
value = 0

[State 250, 5]
type = ChangeState
trigger1 = BackEdgeDist < 0
trigger1 = P2StateNo = 5110
value = 111

[State 250, 5]
type = ChangeState
triggerall = Animtime = 0
trigger1 = BackEdgeDist >= -10
trigger2 = MoveGuarded
value = 0
ctrl = 1




; RUN_FWD
[Statedef 111]
type    = S
physics = N
anim = 111
sprpriority = 1

[state 100,]
type = nothitby
trigger1 = 1
value = SCA

[State 100, 1]
type = VelSet
trigger1 = Time = 90
y = -5

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100, 1]
type = PlaySnd
trigger1 = Time = 5
value = 0,1

[state 100, Sound effect]
type = playsnd
trigger1 = time = 0
value = 711,0
volumescale = 114

[State 106, VarAdd]
type = VarSet
trigger1 = 1
fvar(2) = const(velocity.run.fwd.y)

[State 106, VarSet]
type = VarAdd
trigger1 = 1
fvar(2) = const(velocity.run.fwd.y)*time+.04*time*time

[State 106, OffSet]
type = OffSet
trigger1 = 1
y = ceil(fvar(2))

[State 100, VarRandom]
type = VarRandom
trigger1 = 1
v = 2
range = 4

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 101, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 113

;---------------------------------------------------------------------------
; RUN_FWD
[Statedef 113]
type    = S
physics = S
anim = 112
sprpriority = 1

[State 100, 1]
type = PosSet
trigger1 = 1
y = 0

[State 100, 1]
type = VelSet
trigger1 = Time < 5
x = 2

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 4]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Gamma
[Statedef 3005]
type    = A
movetype= A
physics = N
juggle  = 5
poweradd= 0;ifelse(PrevStateNo = 9000, 0, 60)
ctrl = 0
velset = 0,-17
anim = 3005
sprpriority = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 19200
pos = 0,-50
postype = p1  ;p2,front,back,left,right
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 10
ignorehitpause = 0



[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 19300
pos = 0,-50
postype = p1  ;p2,front,back,left,right
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = -2
ignorehitpause = 0




[State 0, Explod]
type = Explod
trigger1 = time%5 = 0
anim = 9185
pos = 0,0
postype = p1  ;p2,front,back,left,right
vel = 0,-9
removetime = -2
scale = .7,.7
sprpriority = 11
ignorehitpause = 0
velocity = 0,-12
random = 30,30

[State 0, Explod]
type = Explod
trigger1 = time%5 = 0
anim = 9185
pos = 0,0
postype = p1  ;p2,front,back,left,right
vel = 0,-9
removetime = -2
scale = .7,.7
sprpriority = 11
ignorehitpause = 0
velocity = 0,-12
random = 50,50

[State 3005, VelAdd]
type = VelAdd
trigger1 = 1
y = .8

[State 3005, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SAC

[State 3005, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S,HP
damage = 4*ifelse(6*root,fvar(0)>=1,floor(6*root,fvar(0)),1),7
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 5,Hit
pausetime = 0, 5
guard.pausetime = 0,5
sparkno = s9108
guard.sparkno = s9101
sparkxy = -10,-83
guardsound = S6,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 25
ground.velocity = -9,-4
guard.velocity = -3
airguard.velocity = -3,-3
air.type = low
air.velocity = -12.4,-5
air.hittime = 20
yaccel = 1.27
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
fall.recover = 0
;fall.recovertime = 40
sprpriority = 3
getpower=0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit=1
value = S250,0
channel = 0

[State 0, EnvColor]
type = EnvColor
trigger1 = movehit = 1
value = 255,255,255
time = 1
;under = 0
ignorehitpause = 1
;persistent =


[State 250, 5]
type = DestroySelf
trigger1 = Animtime = 0

;---------------------------------------------------------------------------
; Hitstate decider
[Statedef 3003]
type = U
movetype = H
physics = N
ctrl = 0

[State 250, 5]
type = ChangeAnim
trigger1 = Time = 0
value = 5010

[State 1206, Screenbound]
type = ScreenBound
trigger1 = Time >= 0
value = 1
movecamera = 1,1

[State 250, 5]
type = VelSet
trigger1 = Time = 1
trigger1 = StateType != A
x = -3
y = -1

[State 250, 5]
type = VelSet
trigger1 = Time = 1
trigger1 = StateType = A
x = -10
y = -0.5

[State 221, 2]
type = Selfstate
trigger1 = Time > 10
trigger1 = Animtime = 0
value = 5050

;---------------------------------------------------------------------------
; Gamma Crush
[Statedef 3100]
type    = A
movetype= A
physics = S
juggle  = 5 
ctrl = 0
velset = 0,0
sprpriority = 3

[State 195, a]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 3100
value = 3100


[state 3000, 2]
type = afterimage
triggerall = prevstateno != 9000
trigger1 = animelem = 4
time = 99999999
length = 20
framegap = 6
palcolor = 0
palinvertall = 0
palbright = 64, 64, 128
palcontrast = 160, 160, 160
palpostbright = 64, 64, 200
paladd = 0, 0, 0
palmul = 1.0, 1.0, 1.0
trans = none
ignorehitpause = 1


[State 750, Dust]
type = Explod
triggerall = prevstateno != 9000
trigger1 = time = 0
anim = 9110
pos = 0,0
postype = p1
sprpriority = 5
supermove = 0
bindtime = 1
shadow = -1

[state 4002, 3.2]
type = explod
triggerall = prevstateno != 9000
trigger1 = animelem = 7
anim = 9111
id = 15543
postype = back
pos = 160,120
sprpriority = -4
removetime = -2
ownpal = 1
bindtime = -1
supermove = 1

[state 4002, 1]
type = explod
triggerall = prevstateno != 9000
trigger1 = animelem = 7
anim = 7000
id = 7000
postype = back
pos = 0, -11
sprpriority = -3
ownpal = 1
bindtime = -1
supermove = 1
persistent = 0
scale = 1,1.075


[state 2000, 4]
type = helper
triggerall = prevstateno != 9000
trigger1 = animelem = 7
trigger1 = numhelper(9923) = 0
stateno = 9922
id = 9002
name = "floor"
pos = 0,0
postype = p1
bindtime = 0
ownpal = 1

[State 3000, Pause]
type = SuperPause
triggerall = prevstateno != 9000
trigger1 = AnimElem = 7
time = 38
anim = s9109
pos = 0,-50
darken = 0
unhittable = 3
poweradd = -1000
sound = s885,0

[State 3000]
type = hitby
trigger1 = time = 0
value = SCA,HT
time = 35

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 8
value = 0, 4


[State 5400, 2]
type = ScreenBound
trigger1 = Animelem = 8,>= 0
value = 0
movecamera = 0,0

[state 1900, AssertSpecial]
type = AssertSpecial
trigger1 = Animelem = 8,>= 0
flag = NoShadow

[State 3100]
type = HitDef
trigger1 = AnimElem = 9
attr = S,HA
damage = 10,5;(1000.0/144.0)*(7.0),(1000.0/144.0)*(1.0)
getpower = 0,0
givepower = 40,10
animtype = DiagUp
guardflag = MA
hitflag = MAF
priority = 7,Hit
pausetime = 4,4
guard.pausetime = 7,7
sparkno = s9108
guard.sparkno = s9101
sparkxy = -10,-90
hitsound = S250,0
guardsound = S120,0
ground.type = high
ground.slidetime = 20+var(40)
ground.hittime = 25+var(40)
ground.velocity = -2,-14
airguard.velocity = -1,-6
air.type = High
air.velocity = -2,-14
air.hittime = 20+var(40)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
fall.recover = 0
;down.velocity = -3,-5
;down.bounce = 1
yaccel = .8
p2facing = 1
p2stateno=3331


[State 5400, 2]
type = VelSet
trigger1 = Animelem = 10
x = 6
y = -25

[State 250, 5]
type = ChangeState
trigger1 = pos Y < -720
value = 3101

;---------------------------------------------------------------------------
; Gamma Crush
[Statedef 3101]
type    = A
movetype= A
physics = N
juggle  = 5 
ctrl = 0
velset = 0,0
sprpriority = 5

[State 195, a]
type = ChangeAnim
triggerall = Command != "holdback"
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 3101

[State 195, a]
type = ChangeAnim
triggerall = Command = "holdback"
triggerall = PrevStateNo != 9000
trigger1 = time = 0
value = 3103

[State 195, a]
type = ChangeAnim
triggerall = Command = "holddown"
triggerall = Command != "holdback" && Command != "holdfwd"
triggerall = PrevStateNo != 9000
triggerall = P2Dist X = [-125,125]
trigger1 = time = 0
value = 3107


[State 3101, Explod] 
type = Explod
trigger1 = Anim = 3101 && !NumExplod(6127)
trigger1 = Time >= 0
anim = 6127
id = 6127
pos = -22, -20
ontop = 1
bindtime = -1
removetime = -1
ignorehitpause = 1
[State 3101, Explod] 
type = Explod
trigger1 = Anim = 3103 && !NumExplod(6127)
trigger1 = Time >= 0
anim = 6128
id = 6127
pos = 28, -13
ontop = 1
bindtime = -1
removetime = -1
ignorehitpause = 1
[State 3101, Explod] 
type = Explod
trigger1 = Anim = 3107 && !NumExplod(6127)
trigger1 = Time >= 0
anim = 6128
id = 6127
pos = 66, -7
ontop = 1
bindtime = -1
removetime = -1
ignorehitpause = 1

[state 1900, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 5400, 2]
type = ScreenBound
triggerall = Pos Y <= -110
trigger1 = Time >= 0
value = 0
movecamera = 0,0

[State 5400, 2]
type = VelSet
trigger1 = Anim = 3101
trigger1 = Animelem = 1
x = 4
y = 18
[State 5400, 2]
type = VelSet
trigger1 = Anim = 3103
trigger1 = Animelem = 1
x = -4
y = 18
[State 5400, 2]
type = VelSet
trigger1 = Anim = 3107
trigger1 = Animelem = 1
x = 0
y = 18

[State 3410, HitDef]
type = HitDef
trigger1 = hitcount=0;enemynear(Var(23)),pos y<-300 && hitcount=0
attr = A,HP
damage = 45,7
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 5,Hit
pausetime = 7,8
guard.pausetime = 7,8
sparkno = s9108
guard.sparkno = s8050
sparkxy = -10,-20
hitsound = -1;s5,3
guardsound = S6,0
ground.type = High
ground.slidetime = 20
ground.hittime = 25
ground.velocity = -4,0
airguard.velocity = -5,-3
air.type = low
air.velocity = -2,10.5
air.hittime = 20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
sprpriority = 3
fall.recover=0
palfx.time = 60
palfx.color = 0
palfx.add = 230,70,-170
palfx.sinadd = -50,-70,-70,4
getpower=0
yaccel=.88

[State 3410, HitDef]
type = HitDef
trigger1 = hitcount=0;enemynear(Var(23)),pos y>-300 && hitcount=0
attr = A,HP
damage = 45,7;*ifelse(11*fvar(0)>=1,floor(11*fvar(0)),1),7
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 5,Hit
pausetime = 8,8
guard.pausetime = 8,8
sparkno = s9108
guard.sparkno = s8050
sparkxy = -10,-20
guardsound = S6,0
ground.type = High
ground.slidetime = 20
ground.hittime = 25
ground.velocity = -4,0
airguard.velocity = -5,-3
air.type = low
air.velocity = -8,-4
air.hittime = 20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
sprpriority = 3
fall.recover=0
palfx.time = 60
palfx.color = 0
palfx.add = 230,70,-170
palfx.sinadd = -50,-70,-70,4
getpower=0
yaccel=.88

[State 3410, HitDef]
type = HitDef
trigger1 = hitcount=1
attr = A,HP
damage = 45,7;*ifelse(12*fvar(0)>=1,floor(12*fvar(0)),1),7
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 5,Hit
pausetime = 7,8
guard.pausetime = 7,8
sparkno = s9108
guard.sparkno = s8050
sparkxy = -10,-20
guardsound = S6,0
ground.type = High
ground.slidetime = 20
ground.hittime = 25
ground.velocity = -4,0
airguard.velocity = -5,-3
air.type = low
air.velocity = -8,-4
air.hittime = 20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
sprpriority = 3
fall.recover=0
palfx.time = 60
palfx.color = 0
palfx.add = 230,70,-170
palfx.sinadd = -50,-70,-70,4
getpower=0
yaccel=.88

[State 3410, HitDef]
type = HitDef
trigger1 = hitcount=2
attr = A,HP
damage = 45,7;*ifelse(13*fvar(0)>=1,floor(13*fvar(0)),1),7
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 5,Hit
pausetime = 7,8
guard.pausetime = 7,8
sparkno = s9108
guard.sparkno = s8050
sparkxy = -10,-20
guardsound = S6,0
ground.type = High
ground.slidetime = 20
ground.hittime = 25
ground.velocity = -4,0
airguard.velocity = -5,-3
air.type = low
air.velocity = -8,-4
air.hittime = 20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
sprpriority = 3
fall.recover=0
palfx.time = 60
palfx.color = 0
palfx.add = 230,70,-170
palfx.sinadd = -50,-70,-70,4
getpower=0
yaccel=.88

[State 3410, HitDef]
type = HitDef
trigger1 = hitcount=3
attr = A,HP
damage = 45,7;*ifelse(13*fvar(0)>=1,floor(13*fvar(0)),1),7
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 5,Hit
pausetime = 7,8
guard.pausetime = 7,8
sparkno = s9108
guard.sparkno = s8050
sparkxy = -10,-20
guardsound = S6,0
ground.type = High
ground.slidetime = 20
ground.hittime = 25
ground.velocity = -4,0
airguard.velocity = -5,-3
air.type = low
air.velocity = -8,-4
guard.velocity = -4
air.hittime = 20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
sprpriority = 3
fall.recover=0
palfx.time = 60
palfx.color = 0
palfx.add = 230,70,-170
palfx.sinadd = -50,-70,-70,4
getpower=0
yaccel=.88

[State 3410, HitDef]
type = HitDef
trigger1 = hitcount=4
attr = A,HP
damage = 45,7;1*ifelse(53*fvar(0)>=1,floor(53*fvar(0)),1),7
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 5,Hit
pausetime = 7,8
guard.pausetime = 7,8
sparkno = s9108
guard.sparkno = s8050
sparkxy = -10,-20
guardsound = S6,0
ground.type = High
ground.slidetime = 20
ground.hittime = 25
ground.velocity = -4,0
airguard.velocity = -5,-3
air.type = low
air.velocity = -8,-4
guard.velocity = -4
air.hittime = 20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
sprpriority = 3
fall.recover=0
palfx.time = 60
palfx.color = 0
palfx.add = 230,70,-170
palfx.sinadd = -50,-70,-70,4
getpower=0
yaccel=.88

[State 3410, HitDef]
type = HitDef
trigger1 = hitcount=5
attr = A,HP
damage = 45,7;*ifelse(53*fvar(0)>=1,floor(53*fvar(0)),1),7
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 5,Hit
pausetime = 4,5
guard.pausetime = 4,5
sparkno = s9108
guard.sparkno = s8050
sparkxy = -10,-20
guardsound = S6,0
ground.type = High
ground.slidetime = 20
ground.hittime = 25
ground.velocity = -4,0
airguard.velocity = -5,-3
air.type = low
air.velocity = -8,-4
guard.velocity = -4
air.hittime = 20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
sprpriority = 3
fall = 1
fall.recover=0
palfx.time = 60
palfx.color = 0
palfx.add = 230,70,-170
palfx.sinadd = -50,-70,-70,4
getpower=0
yaccel=.88

[State 3410, HitDef]
type = HitDef
trigger1 = hitcount=6
attr = A,HP
damage = 45,7;*ifelse(53*fvar(0)>=1,floor(53*fvar(0)),1),7
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 5,Hit
pausetime = 4,4
guard.pausetime = 4,4
sparkno = s9108
guard.sparkno = s8050
sparkxy = -10,-20
guardsound = S6,0
ground.type = High
ground.slidetime = 20
ground.hittime = 25
guard.velocity = -4
ground.velocity = -10,-4
airguard.velocity = -5,-3
air.type = low
air.velocity = -8,-4
air.hittime = 20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
envshake.time = 5
envshake.ampl = -5
sprpriority = 3
fall = 1
fall.recover=0
palfx.time = 60
palfx.color = 0
palfx.add = 230,70,-170
palfx.sinadd = -50,-70,-70,4
getpower=0
P2stateno = 3333
yaccel=.88

[State 3410, HitDef]
type = HitDef
trigger1 = hitcount=7
attr = A,HP
damage = 220,7;*ifelse(53*fvar(0)>=1,floor(53*fvar(0)),1),7
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 5,Hit
pausetime = 4,4
guard.pausetime = 4,4
sparkno = s9108
guard.sparkno = s8050
sparkxy = -10,-20
guardsound = S6,0
ground.type = High
ground.slidetime = 20
ground.hittime = 25
guard.velocity = -4
ground.velocity = -10,-4
airguard.velocity = -5,-3
air.type = low
air.velocity = -8,-4
air.hittime = 20
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
envshake.time = 5
envshake.ampl = -5
sprpriority = 3
fall = 1
fall.recover=0
palfx.time = 60
palfx.color = 0
palfx.add = 230,70,-170
palfx.sinadd = -50,-70,-70,4
getpower=0
P2stateno = 3333
yaccel=.88

[state 1060, 8]
type = explod
trigger1 = numtarget
trigger1 = numexplod(6022) = 0
trigger1 = movehit
anim = 9117
id = 6022
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = -1
bindtime = -1
ownpal = 1
ignorehitpause = 1


[State 0]
type =null;targetstate
trigger1 = movehit
persistent = 0
ignorehitpause = 1
value = 3331


[State 0, EnvColor]
type = EnvColor
trigger1 = movehit = 1
value = 255,255,255
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit=1
value = S5544,2
channel = 0


[State 220, Helper] 
type = Helper
trigger1 = Anim = 3101
trigger1 = Animelem = 1
pos = 0, 0
Stateno = 3104
id = 3104
bindtime = -1
[State 220, Helper] 
type = Helper
trigger1 = Anim = 3103
trigger1 = Animelem = 1
pos = 0, 0
Stateno = 3104
id = 3106
bindtime = -1
[State 220, Helper] 
type = Helper
trigger1 = Anim = 3107
trigger1 = Animelem = 1
pos = 0, 0
Stateno = 3104
id = 3108
bindtime = -1

[State 250, 5]
type = ChangeState
trigger1 = Pos Y >= -30
trigger1 = Vel Y > 0
value = 3102





;---------------------------------------------------------------------------
; 
[Statedef 3331]
type    = A
movetype= H
physics = N
sprpriority = 0
ctrl = 0
velset = -6,-16.5

[State 3333, ChangeAnim 1]
type = ChangeAnim
trigger1 = Time = 0
value =5050

[State 810, Gravity]
type = VelAdd
trigger1 = 1
y = .52

[State 821, 1] ;Gravity
type = Gravity
trigger1 = 1

[State 250, 5]
type = ChangeState
trigger1= vel y>0
trigger1 = Pos Y >= -6
value = 3332

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 0,11


;---------------------------------------------------------------------------
; 
[Statedef 3335]
type    = A
movetype= H
physics = N
sprpriority = 0
ctrl = 0
velset = -6,-16

[State 3333, ChangeAnim 1]
type = ChangeAnim
trigger1 = Time = 0
value =5050

[State 821, 1] ;Gravity
type = Gravity
trigger1 = 1

[State 810, Gravity]
type = VelAdd
trigger1 = 1
y = .52

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 0,11

[State 250, 5]
type = ChangeState
trigger1= vel y>0
trigger1 = Pos Y >= -6
value = 3332

;---------------------------------------------------------------------------
; 
[Statedef 3332]
type    = S
movetype= H
physics = N
sprpriority = 0
ctrl = 0
velset = 0,0

[State 3333, ChangeAnim 1]
type = ChangeAnim
trigger1 = Time = 0
value =5110

;[State 250, 5]
;type = changeState
;trigger1 =  command = "nuke"
;value = 3334

[State 831, SelfState]
type = SelfState
trigger1 = time>70
value = 5120


;---------------------------------------------------------------------------
; 
[Statedef 3334]
type    = S
movetype= H
physics = N
sprpriority = 0
ctrl = 0

[State 3333, ChangeAnim 1]
type = ChangeAnim
trigger1 = Time = 0
value =5110

[State 831, SelfState]
type = SelfState
trigger1 = time>0
value = 5120


;-------------------------------------------------------------------------
; tBjbV
[Statedef 3333]
type    = A
movetype= H
physics = N
sprpriority = 0
velset = -8,-5



[State 3333, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.6

[State 3333, ChangeAnim 1]
type = ChangeAnim
trigger1 = (Time = 0) && (SelfAnimExist(5051))
value = 5051

[State 3333, ChangeAnim 2]
type = ChangeAnim
trigger1 = (Vel Y >= 0) && (SelfAnimExist(5061)) && (Anim != 5061)
value = 5061

[State 831, SelfState]
type = SelfState
trigger1 = (Pos Y >= 0) && (Vel Y > 0)
value = 5110
ctrl = 0




; tBjbV
[Statedef 3333]
type    = A
movetype= H
physics = N
sprpriority = 0
velset = -4,-5



[State 3333, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.6

[State 3333, ChangeAnim 1]
type = ChangeAnim
trigger1 = (Time = 0) && (SelfAnimExist(5051))
value = 5051

[State 3333, ChangeAnim 2]
type = ChangeAnim
trigger1 = (Vel Y >= 0) && (SelfAnimExist(5061)) && (Anim != 5061)
value = 5061

[State 831, SelfState]
type = SelfState
trigger1 = (Pos Y >= 0) && (Vel Y > 0)
value = 5110
ctrl = 0


;---------------------------------------------------------------------------
; Gamma Crush
[Statedef 3102]
type    = A
movetype= A
physics = N
juggle  = 5 
ctrl = 0
velset = -5,-5
sprpriority = -1
anim = 3102

[state , explod0]
type = explod
trigger1 = time = 0
anim = 6031
pos = 0,0
postype = p1
bindtime = 1
scale = 1,1
ontop = 1
ownpal = 1
random = 30,30



[state , explod0]
type = explod
trigger1 = time = 10
anim = 6031
pos = 0,0
postype = p1
bindtime = 1
scale = 1,1
ontop = 1
ownpal = 1
random = 70,70


[state , explod0]
type = explod
trigger1 = time =15
anim = 6031
pos = 0,0
postype = p1
bindtime = 1
scale = 1,1
ontop = 1
ownpal = 1
random = 80,80



[state , explod0]
type = explod
trigger1 = time = 20
anim = 6031
pos = 0,0
postype = p1
bindtime = 1
scale = 1,1
ontop = 1
ownpal = 1
random = 3,7


[state 3000, 2]
type = afterimage
trigger1 = time = 34
time = 1
length = 1
framegap = 1
palcolor = 0
palinvertall = 0
palbright = 64, 64, 128
palcontrast = 160, 160, 160
palpostbright = 64, 64, 200
paladd = 0, 0, 0
palmul = 1.0, 1.0, 1.0
trans = none
ignorehitpause = 1

[State 250, 5]
type = VelAdd
trigger1 = Time >= 5
y = .45

[State 250, 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 52
ctrl = 1

;---------------------------------------------------------------------------
; Gamma Crush
[Statedef 3104]
type    = A
movetype= A
physics = N
juggle  = 5 
ctrl = 0
velset = 0,0
sprpriority = 2

[State 195, a]
type = ChangeAnim
triggerall = Parent,Anim = 3101
trigger1 = time = 0
value = 3104
[State 195, a]
type = ChangeAnim
triggerall = Parent,Anim = 3103
trigger1 = time = 0
value = 3105
[State 195, a]
type = ChangeAnim
triggerall = Parent,Anim = 3107
trigger1 = time = 0
value = 3108

[State 250, 5]
type = BindToParent
trigger1 = 1
pos = 0,0

[state 3104, PlaySnd]
type = PlaySnd
trigger1 = Pos Y >= -30
trigger2 = Vel Y > 0
value = 3100, 0

[State 250, 5]
type = ChangeState
trigger1 = Pos Y >= -30
trigger2 = Vel Y > 0
trigger3 = Parent, MoveType = H
value = 3106

;---------------------------------------------------------------------------
; Gamma Crush
[Statedef 3106]
type    = A
movetype= A
physics = N
juggle  = 5 
ctrl = 0
velset = 0,0
sprpriority = -3
anim = 3114+(random%5)

[State 0, VelAdd]
type = Velset
trigger1 =time=0
y =8

[State 0, VelMul]
type = Veladd
trigger1 =1
y = .7
;ignorehitpause =
;persistent =

[State 0, Helper]
type = Helper
trigger1 =pos y>0
helpertype = normal ;player
name ="uselessrocks"
ID = 3004
stateno = 3117
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
size.yscale= 1
size.xscale= 1

[State 0, Helper]
type = Helper
trigger1 =pos y>0
helpertype = normal ;player
name ="uselessrocks"
ID = 3004
stateno = 3118
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
size.yscale= 1
size.xscale= 1

[State 0, Helper]
type = Helper
trigger1 =pos y>0
helpertype = normal ;player
name ="uselessrocks"
ID = 3004
stateno = 3119
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
size.yscale= 1
size.xscale= 1

[State 0, Helper]
type = Helper
trigger1 =pos y>0
helpertype = normal ;player
name ="uselessrocks"
ID = 3004
stateno = 3120
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
size.yscale= 1
size.xscale= 1

[State 0, Helper]
type = Helper
trigger1 =pos y>0
helpertype = normal ;player
name ="uselessrocks"
ID = 3004
stateno = 3121
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
size.yscale= 1
size.xscale= 1

[State 0, Helper]
type = Helper
trigger1 =pos y>0
helpertype = normal ;player
name ="uselessrocks"
ID = 3004
stateno = 3122
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
size.yscale= 1
size.xscale= 1

[State 0, Helper]
type = Helper
trigger1 =pos y>0
helpertype = normal ;player
name ="uselessrocks"
ID = 3004
stateno = 3123
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
size.yscale= 1
size.xscale= 1

[State 0, Helper]
type = Helper
trigger1 =pos y>0
helpertype = normal ;player
name ="uselessrocks"
ID = 3004
stateno = 3124
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.yscale= 1
size.xscale= 1

[State 0, Helper]
type = Helper
trigger1 =pos y>0
helpertype = normal ;player
name ="uselessrocks"
ID = 3004
stateno = 3125
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
size.yscale= 1
size.xscale= 1

[state 750]
type = envshake
trigger1 = time = 0
persistent = 0
time = 75
freq = 70
ampl = -4

[State 250, 5]
type = Destroyself
trigger1 = Animtime = 0

;--------------------------------------------------------------------------------------------
[Statedef 3117]
type    = A
movetype= I
physics = N
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,-11
anim =3114+(random%4)
sprpriority = 5

[State 0, PosSet]
type = PosSet
trigger1 =time=0
y = 0
;ignorehitpause =
;persistent =

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, VelAdd]
type = VelAdd
trigger1 =1
y = .56
;ignorehitpause =
;persistent =

[State 210, 5]
type = destroyself
trigger1 = pos y >0 && time>=10

;--------------------------------------------------------------------------------------------
[Statedef 3118]
type    = A
movetype= I
physics = N
juggle  = 4
poweradd= 0
ctrl = 0
velset = 3,-8
anim =3114+(random%4)
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = PosSet
trigger1 =time=0
y = 0

[State 0, VelAdd]
type = VelAdd
trigger1 =1
y = .56
;ignorehitpause =
;persistent =

[State 210, 5]
type = destroyself
trigger1 = pos y >0 && time>=10

;--------------------------------------------------------------------------------------------
[Statedef 3119]
type    = A
movetype= I
physics = N
juggle  = 4
poweradd= 0
ctrl = 0
velset = -3,-10
anim =3114+(random%4)
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = PosSet
trigger1 =time=0
y = 0

[State 0, VelAdd]
type = VelAdd
trigger1 =1
y = .56
;ignorehitpause =
;persistent =

[State 210, 5]
type = destroyself
trigger1 = pos y >0 && time>=10

;--------------------------------------------------------------------------------------------
[Statedef 3120]
type    = A
movetype= I
physics = N
juggle  = 4
poweradd= 0
ctrl = 0
velset = 5,-9
anim =3114+(random%4)
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = PosSet
trigger1 =time=0
y = 0

[State 0, VelAdd]
type = VelAdd
trigger1 =1
y = .56
;ignorehitpause =
;persistent =

[State 210, 5]
type = destroyself
trigger1 = pos y >0 && time>=10

;--------------------------------------------------------------------------------------------
[Statedef 3121]
type    = A
movetype= I
physics = N
juggle  = 4
poweradd= 0
ctrl = 0
velset = 8,-6
anim =3114+(random%4)
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = PosSet
trigger1 =time=0
y = 0

[State 0, VelAdd]
type = VelAdd
trigger1 =1
y = .56
;ignorehitpause =
;persistent =

[State 210, 5]
type = destroyself
trigger1 = pos y >0 && time>=10

;--------------------------------------------------------------------------------------------
[Statedef 3122]
type    = A
movetype= I
physics = N
juggle  = 4
poweradd= 0
ctrl = 0
velset = -3,-10
anim =3114+(random%4)
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = PosSet
trigger1 =time=0
y = 0

[State 0, VelAdd]
type = VelAdd
trigger1 =1
y = .56
;ignorehitpause =
;persistent =

[State 210, 5]
type = destroyself
trigger1 = pos y >0 && time>=10

;--------------------------------------------------------------------------------------------
[Statedef 3123]
type    = A
movetype= I
physics = N
juggle  = 4
poweradd= 0
ctrl = 0
velset = 3,-7
anim =3114+(random%4)
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = PosSet
trigger1 =time=0
y = 0

[State 0, VelAdd]
type = VelAdd
trigger1 =1
y = .56
;ignorehitpause =
;persistent =

[State 210, 5]
type = destroyself
trigger1 = pos y >0 && time>=10

;--------------------------------------------------------------------------------------------
[Statedef 3124]
type    = A
movetype= I
physics = N
juggle  = 4
poweradd= 0
ctrl = 0
velset = 5,-5
anim =3114+(random%4)
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = PosSet
trigger1 =time=0
y = 0

[State 0, VelAdd]
type = VelAdd
trigger1 =1
y = .56
;ignorehitpause =
;persistent =

[State 210, 5]
type = destroyself
trigger1 = pos y >0 && time>=10

;--------------------------------------------------------------------------------------------
[Statedef 3125]
type    = A
movetype= I
physics = N
juggle  = 4
poweradd= 0
ctrl = 0
velset = 3,-10
anim =3114+(random%4)
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = PosSet
trigger1 =time=0
y = 0

[State 0, VelAdd]
type = VelAdd
trigger1 =1
y = .56
;ignorehitpause =
;persistent =

[State 210, 5]
type = destroyself
trigger1 = pos y >0 && time>=10

;---------------------------------------------------------------------------


; Gamma Quake
[Statedef 3200]
type    = S
movetype= A
physics = S
juggle  = 5
ctrl = 0
velset = 0,0
sprpriority = -1

[State 750, Dust]
type = Explod
triggerall = prevstateno != 9000
trigger1 = time = 0
anim = 9110
pos = 0,0
postype = p1
sprpriority = 5
supermove = 0
bindtime = 1
shadow = -1

[state 4002, 3.2]
type = explod
triggerall = prevstateno != 9000
trigger1 = animelem = 2
anim = 9111
id = 15543
postype = back
pos = 160,120
sprpriority = -4
removetime = -2
ownpal = 1
bindtime = -1
supermove = 1

[state 4002, 1]
type = explod
triggerall = prevstateno != 9000
trigger1 = animelem = 2
anim = 7000
id = 7000
postype = back
pos = 0, -11
sprpriority = -3
ownpal = 1
bindtime = -1
supermove = 1
persistent = 0
scale = 1,1.075


[state 2000, 4]
type = helper
triggerall = prevstateno != 9000
trigger1 = animelem = 2
trigger1 = numhelper(9923) = 0
stateno = 9922
id = 9002
name = "floor"
pos = 0,0
postype = p1
bindtime = 0
ownpal = 1

[State 3000, Pause]
type = SuperPause
triggerall = prevstateno != 9000
trigger1 = AnimElem = 2
time = 38
movetime = 38
anim = s9109
pos = 0,-80
darken = 0
unhittable = 0
poweradd = -1000
sound = s885,0


[State 3000]
type = hitby
trigger1 = time = 0
value = SCA,HT
time = 35

[State 56, 10]
type = turn
trigger1 = p2dist x < -15
trigger1 = time=1
persistent = 0

[State 195, a]
type = nothitby
trigger1 = Animelem = 1, >= 0
trigger1 = Animelem = 25, < 0
value = SCA

[State 195, a]
type = nothitby
trigger1 = Animelem = 25
value = ,AP

[State 195, a]
type = ChangeAnim
triggerall = PrevStateNo != 9000
trigger1 = Time = 0 && Anim != 3200
value = 3200


[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 2

[state 700, 2]
type = PlaySnd
trigger1 = Animelem = 28
value = 0, 0

[state 700, 2]
type = PlaySnd
trigger1 = Animelemtime (28) = 1
value = 1000,0
channel = 11

[state 700, 2]
type = PlaySnd
trigger1 = Animelemtime (24) = 11
value = 1000,0
channel = 11

[state 700, 2]
type = PlaySnd
trigger1 = Animelemtime (28) = 22
value = 1000,0
channel = 11

[state 700, 2]
type = PlaySnd
trigger1 = Animelemtime (28) = 33
value = 1000,0
channel = 11

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 2
var(29) = 1

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 27
var(29) = 0


[State 3000, NotHitBy]
type = NotHitBy
trigger1 = animelem = 2,< 0
value = SCA

[State 3410]
type = EnvShake
trigger1 = Animelem = 28
ampl = 11
time = 10

[State 3410]
type = HitDef
trigger1 = Time = 0
attr = A,HP
damage = 5;*ifelse(10*root,fvar(0)>=1,floor(10*root,fvar(0)),1),7
animtype = up
air.animtype = up
guardflag = MA
hitflag = MAFD
priority = 5,Hit
pausetime = 0,4
guard.pausetime = 0,5
sparkno = s9108
guard.sparkno = s9101
sparkxy = -10,-43
hitsound = -1;S5544,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 30
ground.hittime = 30
ground.velocity = -1,-14
airguard.velocity = -8,-3
air.type = low
air.velocity = 0,-14
air.hittime = 30
fall.recovertime=30
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
sprpriority = 3
;p2stateno = 3201
yaccel=.95
getpower=0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit=1
value = S5544,2
channel = 0

[State 0]
type = null;targetstate
trigger1 = movehit
persistent = 0
ignorehitpause = 1
value = 3201

[State 0, Helper]
type = Helper
triggerall = AnimElemNo(0) = 28
trigger1= time%5=0
helpertype = normal ;player
name ="uselessrocks"
stateno = 3202
pos = -30+(random%240),-260
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
size.yscale= 1
size.xscale= .833333333333333333333333333333

[State 0, Helper]
type = Helper
triggerall = AnimElemNo(0) = 28
trigger1= time%4=0
helpertype = normal ;player
name ="rocksthatdoshit"
stateno = 3203
pos =-60+(random%245),ifelse((enemy, pos y < -180),((enemy,pos y-(random%20))),(-220-(random%60)))
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
size.yscale= 1
size.xscale= .833333333333333333333333333333

[State 250, 5]
type = ChangeState
trigger1 = Animtime = 0
value = 300
ctrl = 1

;--------------------------------------------------------------------------------------------
[Statedef 3202]
type    = A
movetype= I
physics = N
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim =3206+(random%5)
sprpriority = 9

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, VelAdd]
type = Velset
trigger1 =time=0
y =7

[State 0, VelMul]
type = Veladd
trigger1 =1
y = .9
;ignorehitpause =
;persistent =


[State 0, Helper]
type = Helper
trigger1 =pos y>0
helpertype = normal ;player
name ="uselessrocks"
stateno = 3304
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
size.yscale= 1
size.xscale= 1

[State 0, Helper]
type = Helper
trigger1 =pos y>0
helpertype = normal ;player
name ="uselessrocks"
stateno = 3305
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
size.yscale= 1
size.xscale= 1

[State 0, Helper]
type = Helper
trigger1 =pos y>0
helpertype = normal ;player
name ="uselessrocks"
stateno = 3306
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
size.yscale= 1
size.xscale= 1

[State 0, PosSet]
type = PosSet
trigger1 =pos y >0
y = 0
;ignorehitpause =
;persistent =

[State 210, 5]
type = destroyself
trigger1 = pos y =0
;--------------------------------------------------------------------------------------------
[Statedef 3203]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim =3201+(random%4)
sprpriority = 9

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 =movehit
v = 10
value = 0

[State 0, VelAdd]
type = Velset
trigger1 =time=0
y =-3

[State 0, VelMul]
type = Veladd
trigger1 =vel y >-12
y = .99

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S5,3
channel = 12
freqmul = 51.0
pan = 5
;abspan =

[State 3410]
type = HitDef
trigger1 = Time % 17 = 0
attr = A,HP
damage = 17,1;*ifelse(3*root,fvar(0)>=1,floor(3*root,fvar(0)),1),3
animtype = back
air.animtype = back
guardflag = MA
hitflag = MAFD
priority = 5,Hit
pausetime = 0,2
guard.pausetime = 0,5
sparkno = s9108
guard.sparkno = s9101
sparkxy = -10,10
guardsound = S120,0
hitsound = -1
ground.type = Low
ground.slidetime = 20
ground.hittime = 25
ground.velocity = 0,-8
airguard.velocity = -3,-3
air.type = low
air.velocity = 0,-7
air.hittime = 35
yaccel = 1.83
fall.recovertime=35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
sprpriority = 3
fall = 0
id = 2+4
getpower=0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit=1
value = S250,0
channel = 1


[State 210, 5]
type = destroyself
trigger1 = pos y >=0
;--------------------------------------------------------------------------------------------
[Statedef 3304]
type    = A
movetype= I
physics = N
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,-8
anim =3207+(random%4)
sprpriority = 5

[State 0, PosSet]
type = PosSet
trigger1 =time=0
y = 0
;ignorehitpause =
;persistent =


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 0, VelAdd]
type = VelAdd
trigger1 =1
y = .56
;ignorehitpause =
;persistent =
[State 210, 5]
type = destroyself
trigger1 = pos y >0 && time>=10
;--------------------------------------------------------------------------------------------
[Statedef 3305]
type    = A
movetype= I
physics = N
juggle  = 4
poweradd= 0
ctrl = 0
velset = 3,-8
anim =3207+(random%4)
sprpriority = 5



[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = PosSet
trigger1 =time=0
y = 0
[State 0, VelAdd]
type = VelAdd
trigger1 =1
y = .56
;ignorehitpause =
;persistent =
[State 210, 5]
type = destroyself
trigger1 = pos y >0 && time>=10

;--------------------------------------------------------------------------------------------
[Statedef 3306]
type    = A
movetype= I
physics = N
juggle  = 4
poweradd= 0
ctrl = 0
velset = -3,-8
anim =3207+(random%4)
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = PosSet
trigger1 =time=0
y = 0
[State 0, VelAdd]
type = VelAdd
trigger1 =1
y = .56
;ignorehitpause =
;persistent =
[State 210, 5]
type = destroyself
trigger1 = pos y >0 && time>=10

; Gamma Rocks--------------------------------------------------------------------------
[Statedef 3222]
type    = a
movetype= A
physics = N
;ctrl = 0
sprpriority = 1
anim=3222

[State 3200, VarRandom]
type = VarRandom
trigger1 = time=1
trigger2 =  time= 10
trigger3 =  time=12
trigger4 =  time= 15
trigger5 =  time= 20
trigger6 =  time= 22
trigger7 =  time= 26
trigger8 =  time= 33
trigger9 =  time= 39
trigger10 = time= 41
trigger11 =  time=45
trigger12 =  time=48
v = 32
range = -10,195

[State 3200, VarRandom]
type = VarRandom
trigger1 = time=1
trigger2 =  time= 10
trigger3 =  time=12
trigger4 =  time= 15
trigger5 =  time= 20
trigger6 =  time= 22
trigger7 =  time= 26
trigger8 =  time= 33
trigger9 =  time= 39
trigger10 = time= 41
trigger11 =  time=45
trigger12 =  time=48
v = 33
range = 1,3

[State 3200, VarRandom]
type = VarRandom
trigger1 = 1
v = 34
range = 1,8

[State 220, Helper]
type = Helper
trigger1 = time = 1
pos = 0,0
Stateno = 3205
id = 3205

[State 220, Helper]
type = Helper
trigger1 = time = 7
pos = var(32), -70
Stateno = 3205
id = 3205

[State 220, Helper]
type = Helper
trigger1 = time = 10
pos = var(32), -70
Stateno = 3205
id = 3205

[State 220, Helper]
type = Helper
trigger1 = time = 13
pos = var(32), -70
Stateno = 3205
id = 3205

[State 220, Helper]
type = Helper
trigger1 = time = 15
pos = var(32), -70
Stateno = 3205
id = 3205

[State 220, Helper]
type = Helper
trigger1 = time = 18
pos = var(32), -70
Stateno = 3205
id = 3205

[State 220, Helper]
type = Helper
trigger1 = time = 21
pos = var(32), -70
Stateno = 3205
id = 3205

[State 220, Helper]
type = Helper
trigger1 = time = 26
pos = var(32), -70
Stateno = 3205
id = 3205

[State 220, Helper]
type = Helper
trigger1 = time = 31
pos = var(32), -70
Stateno = 3205
id = 3205

[State 220, Helper]
type = Helper
trigger1 = time = 36
pos = var(32), -70
Stateno = 3205
id = 3205

[State 220, Helper]
type = Helper
trigger1 = time = 40
pos = var(32), -70
Stateno = 3205
id = 3205

[State 220, Helper]
type = Helper
trigger1 = time = 45
pos = var(32), -70
Stateno = 3205
id = 3205

[State 250, 5]
type = DestroySelf
trigger1 = Time = 59


;---------------------------------------------------------------------------
; Gamma Rocks
[Statedef 3205]
type    = A
movetype= A
physics = N
juggle  = 5
poweradd= 0
ctrl = 0
velset = 0,16
sprpriority = 1

[State 3205, 1]
type = ChangeAnim
triggerall = parent,var(33) = 1
trigger1 = Time = 0
value = 3201

[State 3205, 1]
type = ChangeAnim
triggerall = parent,var(33) = 2
trigger1 = Time = 0
value = 3202

[State 3205, 1]
type = ChangeAnim
triggerall = parent,var(33) = 3
trigger1 = Time = 0
value = 3203

[State 3205, 1]
type = ChangeAnim
triggerall = parent,var(33) = 3
trigger1 = Time = 0
value = 3204

[State 3205, 1]
type = ChangeAnim
triggerall = parent,var(33) = 3
trigger1 = Time = 0
value = 3205

[State 3410]
type = NotHitBy
trigger1 = 1
value = SAC

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S5,3
channel = 12
freqmul = 51.0
pan = 5
;abspan =

[State 3410]
type = HitDef
trigger1 = Time % 22 = 0
attr = A,HP
damage = 7*ifelse(3*root,fvar(0)>=1,floor(3*root,fvar(0)),1),3
animtype = back
air.animtype = back
guardflag = MA
hitflag = MAFD
priority = 5,Hit
pausetime = 0,2
guard.pausetime = 0,5
sparkno = s9108
guard.sparkno = s9101
sparkxy = -10,10
guardsound = S120,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 25
ground.velocity = 0,-7
airguard.velocity = -3,-3
air.type = low
air.velocity = 0,-6
air.hittime = 35
yaccel = 1.83
fall.recovertime=35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
sprpriority = 3
fall = 0
id = 2+4
getpower=0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit=1
value = S250,2
channel = 0

[State 220, Helper]
type = Helper
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
pos = 0, 0
Stateno = 3206
id = 3206

[State 250, 5]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 3206

;---------------------------------------------------------------------------
; Gamma Rocks
[Statedef 3206]
type    = A
movetype= A
physics = N
ctrl = 0
velset = 0,0
sprpriority = 1

[state 1900, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 3205, 1]
type = ChangeAnim
trigger1 = Random < 125
trigger1 = Random >= 0
trigger1 = Time = 0
value = 3206

[State 3205, 1]
type = ChangeAnim
trigger1 = Random < 250
trigger1 = Random >= 125
trigger1 = Time = 0
value = 3207

[State 3205, 1]
type = ChangeAnim
trigger1 = Random < 375
trigger1 = Random >= 250
trigger1 = Time = 0
value = 3206

[State 3205, 1]
type = ChangeAnim
trigger1 = Random < 500
trigger1 = Random >= 375
trigger1 = Time = 0
value = 3207

[State 3205, 1]
type = ChangeAnim
trigger1 = Random < 625
trigger1 = Random >= 500
trigger1 = Time = 0
value = 3208

[State 3205, 1]
type = ChangeAnim
trigger1 = Random < 750
trigger1 = Random >= 625
trigger1 = Time = 0
value = 3209

[State 3205, 1]
type = ChangeAnim
trigger1 = Random < 875
trigger1 = Random >= 750
trigger1 = Time = 0
value = 3210

[State 3205, 1]
type = ChangeAnim
trigger1 = Random <= 999
trigger1 = Random >= 875
trigger1 = Time = 0
value = 3211

[State 3205, 1]
type = ChangeAnim
trigger1 = IsHelper(3206) = 1
trigger1 = Random < 125
trigger1 = Random >= 0
trigger1 = Anim != 3206
value = 3206

[State 3205, 1]
type = ChangeAnim
trigger1 = IsHelper(3206) = 1
trigger1 = Random < 250
trigger1 = Random >= 125
trigger1 = Anim != 3207
value = 3207

[State 3205, 1]
type = ChangeAnim
trigger1 = IsHelper(3206) = 1
trigger1 = Random < 375
trigger1 = Random >= 250
trigger1 = Anim != 3206
value = 3206

[State 3205, 1]
type = ChangeAnim
trigger1 = IsHelper(3206) = 1
trigger1 = Random < 500
trigger1 = Random >= 375
trigger1 = Anim != 3207
value = 3207

[State 3205, 1]
type = ChangeAnim
trigger1 = IsHelper(3206) = 1
trigger1 = Random < 625
trigger1 = Random >= 500
trigger1 = Anim != 3208
value = 3208

[State 3205, 1]
type = ChangeAnim
trigger1 = IsHelper(3206) = 1
trigger1 = Random < 750
trigger1 = Random >= 625
trigger1 = Anim != 3209
value = 3209

[State 3205, 1]
type = ChangeAnim
trigger1 = IsHelper(3206) = 1
trigger1 = Random < 875
trigger1 = Random >= 750
trigger1 = Anim != 3210
value = 3210

[State 3205, 1]
type = ChangeAnim
trigger1 = IsHelper(3206) = 1
trigger1 = Random <= 999
trigger1 = Random >= 875
trigger1 = Anim != 3211
value = 3211

[State 3205, 67]
type = ChangeAnim
trigger1 = Anim = 0
trigger1 = Anim != 3206
value = 3206

[State 3200, VarRandom]
type = VelSet
trigger1 = Random > 499
trigger1 = Time = 1
x = -6
y = -5

[State 3200, VarRandom]
type = VelSet
trigger1 = Random <= 499
trigger1 = Time = 1
x = 6
y = -5

[State 3200, VarRandom]
type = VelAdd
trigger1 = Time >= 10
y = .55

[State 250, 5]
type = DestroySelf
trigger1 = Time = 100


;---------------------------------------------------------------------------
; Super Armor State
[Statedef 9000]
type = U
movetype = H

[State 9000, 1]
type = PalFX
trigger1 = Alive
trigger1 = !Time
trigger2 = Time = 1
trigger3 = Time = 5
trigger4 = Time = 9
trigger5 = Time = 13
time = 2
add = 164,11,0
mul = 358,256,256
color = 128
ignorehitpause = 1

[State 9000, b]
type = VarSet
trigger1 = time <= 0
v = 13
value = AnimElemNo(0)
ignorehitpause = 1

[State 9000, 1]
type = VarSet
trigger1 = time = 0
v = 12
value = var(4)

[State 9000, 2]
type = Null ;VarSet
trigger1 = time = 0
v = 4
value = 0

[State 9000, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1

[State 9000, VarSet]
type = VarSet
trigger1 = Life <= 0
v = 7
value = 1

[State 9000, ChangeState];Dead
type = ChangeState
trigger1 = Life <= 0
value = ifelse(StateType = A, 5020,5000)

[State 9000, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = Anim
elem = var(13)

[State 9000, End]
type = ChangeState
trigger1 = (time >= floor(gethitvar(hittime) * 0.8)) && (Life > 0)
value = var(5)
ctrl = var(6)

;---------------------------------------------------------------------------
; MVC Bounce
[Statedef 9023]
type    = A
movetype= H
physics = N
anim = 5040
ctrl = 0

[State 9023, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1

[State 9023, VelMul]
type = VelMul
trigger1 = Time = 4
y = .8
[State 9023, VelMul]
type = VelMul
trigger1 = Time = 4
trigger1 = Vel Y > 0
y = .5

[State 9023, VelAdd]
type = VelAdd
trigger1 = Time = 0
y = -1
ignorehitpause = 1
persistent = 0
[State 9023, VelAdd]
type = VelAdd
trigger1 = Time >= 0
y = .35
[State 9023, VelAdd]
type = VelAdd
trigger1 = Time = 4
y = -1.5
[State 9023, VelAdd]
type = VelAdd
trigger1 = Time = 4
trigger1 = Vel Y > -3
y = -2
[State 9023, VelAdd]
type = VelAdd
trigger1 = Time = 4
trigger1 = Vel Y > -2
y = -1

[State 9023, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 9023, SelfState]
type = SelfState
triggerall = Time >= 15 && Alive
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 
ctrl = 1
[State 9023, SelfState]
type = SelfState
trigger1 = Time >= 15 && !Alive
value = 5050
ctrl = 0

;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; Stand
[Statedef 0]
type = S
physics = S
sprpriority = 0

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 0 + 10000*(var(9)) && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 0 + 10000*(var(9))

[State 0, 1]
type = PosSet
trigger1 = 1
y = 0

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
x = 0

[State 0, Helper]
type = Helper
triggerall = !NumHelper(1311)
triggerall = var(9)
trigger1 = Time = 0
id = 1311
stateno = 1311
pos = 0, 0
ignorehitpause = 0
bindtime = -1

[State 0, 4] ;Are you dead?
type = ChangeState
trigger1 = !alive
value = 5050

;---------------------------------------------------------------------------
; Stand to Crouch
[Statedef 10]
type    = C
physics = C
ctrl = 1

[State 10, ChangeAnim]
type = ChangeAnim
triggerall = !var(9)
triggerall = Anim != 10
trigger1 = Time = 0
value = 10

[State 10, 1]
type = VelMul
trigger1 = Time = 0
x = .75

[State 10, 2]
type = ChangeState
trigger1 = !var(9)
trigger1 = AnimTime = 0
value = 11
[State 10, 2]
type = ChangeState
trigger1 = var(9)
trigger1 = 1
value = 0

;---------------------------------------------------------------------------
; Crouching
[Statedef 11]
type    = C
physics = C
sprpriority = 0
ctrl = 1

[State 11, ChangeAnim]
type = ChangeAnim
triggerall = Anim != 11
trigger1 = Time = 0
value = 11

[State 11, 1]
type = PosSet
trigger1 = 1
y = 0

[State 11, 1] ;Change from turning animation
type = ChangeAnim
trigger1 = Anim = 6 && AnimTime = 0
value = 11

;---------------------------------------------------------------------------
; Crouch to Stand
[Statedef 12]
type    = S
physics = S

[State 12, ChangeAnim]
type = ChangeAnim
triggerall = Anim != 12
trigger1 = Time = 0
value = 12

[State 12, 1]
type = PosSet
trigger1 = 1
y = 0

[State 12, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Walk
[Statedef 20]
type    = S
physics = S
sprpriority = 0

[State 20, Helper]
type = Helper
triggerall = !NumHelper(1312)
triggerall = var(9)
trigger1 = Command = "holdfwd"
id = 1312
stateno = 1312
pos = 0, 0
ignorehitpause = 0
bindtime = -1
[State 20, Helper]
type = Helper
triggerall = !NumHelper(1313)
triggerall = var(9)
trigger1 = Command = "holdback"
id = 1313
stateno = 1313
pos = 0, 0
ignorehitpause = 0
bindtime = -1

[State 20, 1]
type = VelSet
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x)

[State 20, 2]
type = VelSet
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)

[State 20, 3]
type = ChangeAnim
triggerall = vel x > 0
trigger1 = Anim != 20 + 10000*(var(9)) && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 20 + 10000*(var(9))

[State 20, 4]
type = ChangeAnim
triggerall = vel x < 0
trigger1 = Anim != 21 + 10000*(var(9)) && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 21 + 10000*(var(9))

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; RUN_FWD
;---------------------------------------------------------------------------
; RUN_FWD
[Statedef 100]
type    = S
physics = N
anim = 100
sprpriority = 1
velset = 4.5, 0

[State 100, 1] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 2] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 3]
type = PlaySnd
trigger1 = time = 0
value = 777,0
channel = 0

[State 100, 4]
type = PlaySnd
trigger1 = time = 0
value = 0,1

[state 100, 4]
type = explod
trigger1 = time = 0
id = 100
anim = 9100
postype = p1
pos = 0,0
ownpal = 1
bindtime = 1
sprpriority = 5
persistent = 0
removeongethit = 1

[State 100, 8]
type = VelAdd
triggerall = Vel X > 0
trigger1 = time > 15
x = -.3


[State 100, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 101
;------------------------
; Dash Forward (land)
[statedef 101]
type    = s
physics = s
velset = 3,0
ctrl = 0
anim = 101

[state 52, Dust]
type = explod
trigger1 = time = 0
anim = 6007
id = 6010
postype = p1
pos = 0,0
ownpal = 1
bindtime = 1
sprpriority = -2
persistent = 0
removeongethit = 0


[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = nowalk
flag2 = noautoturn
;
[state 100, 7]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;---------------------------------------------------------
; Dash Forward
[statedef 105]
type    = s
movetype= i
physics = n
anim = 105
sprpriority = 1

[state 0, 1]
type = posset
trigger1 = pos y = -600
trigger1 = var(31) = 0
y = 0


[state 192, 2]
type = screenbound
trigger1 = prevstateno = 7710
value = 0

[state 192, 2]
type = playsnd
trigger1 = time = 2
value = 10,1

[state 100, 1]
type = velset
trigger1 = time = 0
x = -7

[state 100, 5]
type = assertspecial
trigger1 = 1
flag = nowalk

[state 100, 7]
type = changestate
trigger1 = animtime = 0
value = 106

;------------------------
; Dash Forward (land)
[statedef 106]
type    = s
physics = s
velset = -3,0
ctrl = 0
anim = 12

[State 100, 8] ;Slide Dust
type = explod
trigger1 = Time % 4 = 0
anim := 9185
sprpriority = 5
ownpal = 1
pos = 20,0
vel = .8,0

[state 100, 7]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = ifelse(var(53) = 2,0,1)


;---------------------------------------------------------------------------
; HITG_SHAKE
[Statedef 5000]
type    = S
movetype= H
physics = N
velset = 0,0

[State 5000, Super Armor Changestate]
type = ChangeState
triggerall = Alive
triggerall = PrevStateNo != [5000,5011]
trigger1 = (Time = 0) && (var(4) < 15)
value = 9000 

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5000, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5000, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0 && !GetHitVar(fall)
value = 5001 ;HITG_SLIDE

[State 5000, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 5030

[State 5000, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5000, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; HITC_SHAKE
[Statedef 5010]
type    = C
movetype= H
physics = N
velset = 0,0

[State 5000, Super Armor Changestate]
type = ChangeState
triggerall = Alive
triggerall = !var(22)
triggerall = PrevStateNo != [5000,5011]
trigger1 = (time = 0) && (var(4) < 15)
value = 9000 

[State 5010, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = 5020 + GetHitVar(animtype)

[State 5010, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5010, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5010, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5010, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
triggerall = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 5010, 6]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0 && !GetHitVar(fall)
value = 5011 ;HITC_SLIDE

[State 5010, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 5030

[State 5010, FFB Light]
type = ForceFeedback
trigger1 = anim = 5020
persistent = 0
time = 6
waveform = square

[State 5010, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5021
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5010, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5022
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; Metal Object
[Statedef 1311]
type    = A
movetype= I 
physics = N
velset = 0,0
anim = 1311
sprpriority = 5

[State 220, BindToParent] 
type = BindToParent
trigger1 = 1
pos = 0, 0
time = 1

[State 590, Done]
type = ChangeState
trigger1 = Parent, Anim = [5000,5999]
value = 1321

[State 590, Done]
type = DestroySelf
trigger1 = Parent, Anim != 10000
trigger1 = Parent, Anim != [5000,5999]

;---------------------------------------------------------------------------
; Metal Object
[Statedef 1312]
type    = A
movetype= I 
physics = N
velset = 0,0
anim = 1312
sprpriority = 5

[State 220, BindToParent] 
type = BindToParent
trigger1 = 1
pos = 0, 0
time = 1

[State 590, Done]
type = ChangeState
trigger1 = Parent, Anim = [5000,5999]
value = 1321

[State 590, Done]
type = DestroySelf
trigger1 = Parent, Anim != 10020
trigger1 = Parent, Anim != [5000,5999]

;---------------------------------------------------------------------------
; Metal Object
[Statedef 1313]
type    = A
movetype= I 
physics = N
velset = 0,0
anim = 1313
sprpriority = 5

[State 220, BindToParent] 
type = BindToParent
trigger1 = 1
pos = 0, 0
time = 1

[State 590, Done]
type = ChangeState
trigger1 = Parent, Anim = [5000,5999]
value = 1321

[State 590, Done]
type = DestroySelf
trigger1 = Parent, Anim != 10021
trigger1 = Parent, Anim != [5000,5999]

;---------------------------------------------------------------------------
; Metal Object
[Statedef 1314]
type    = A
movetype= I 
physics = N
velset = 0,0
anim = 1314
sprpriority = 5

[State 220, BindToParent] 
type = BindToParent
trigger1 = 1
pos = 0, 0
time = 1

[State 590, Done]
type = ChangeState
trigger1 = Parent, Anim = [5000,5999]
value = 1321

[State 590, Done]
type = DestroySelf
trigger1 = Parent, Anim != 10040
trigger1 = Parent, Anim != [5000,5999]

;---------------------------------------------------------------------------
; Metal Object
[Statedef 1315]
type    = A
movetype= I 
physics = N
velset = 0,0
anim = 1315
sprpriority = 5

[State 220, BindToParent] 
type = BindToParent
trigger1 = 1
pos = 0, 0
time = 1

[State 590, Done]
type = ChangeState
trigger1 = Parent, Anim = [5000,5999]
value = 1321

[State 590, Done]
type = DestroySelf
trigger1 = Parent, Anim != 10041
trigger1 = Parent, Anim != [5000,5999]

;---------------------------------------------------------------------------
; Metal Object
[Statedef 1316]
type    = A
movetype= I 
physics = N
velset = 0,0
anim = 1316
sprpriority = 5

[State 220, BindToParent] 
type = BindToParent
trigger1 = 1
pos = 0, 0
time = 1

[State 590, Done]
type = ChangeState
trigger1 = Parent, Anim = [5000,5999]
value = 1321

[State 590, Done]
type = DestroySelf
trigger1 = Parent, Anim != 10047
trigger1 = Parent, Anim != [5000,5999]

;---------------------------------------------------------------------------
; Metal Object Throw
[Statedef 1319]
type    = A
movetype= A,
physics = N
anim = 1319
sprpriority = 5

[State 1319, VelSet]
type = VelSet
trigger1 = Parent,var(10) = 1
trigger1 = Time = 0
trigger2 = Parent, Pos Y < 0
trigger2 = Parent, var(10) = 2
x = 12
y = 2
[State 1319, VelSet]
type = VelSet
trigger1 = Parent,var(10) = 2
trigger1 = Time = 0
trigger2 = Parent, Pos Y < 0
trigger2 = Parent, var(10) = 3
x = 12
y = 3
[State 1319, VelSet]
type = VelSet
trigger1 = Parent,var(10) = 3
trigger1 = Time = 0
trigger2 = Parent, Pos Y < 0
trigger2 = Parent, var(10) = 4
x = 12
y = 0
[State 1319, VelSet]
type = VelSet
trigger1 = Parent,var(10) = 4
trigger1 = Time = 0
trigger1 = Parent, Pos Y >= 0
x = 12
y = -3

[State 220, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA			
damage = (1000/144)*(19), (1000/144)*(1)
animtype = Heavy		
guardflag = MA			
hitflag = MAFD			
priority = 3, Hit							
pausetime = 0, 12	
sparkno = S6104	
sparkxy = -10, -76					
hitsound = S250, 0
guardsound = S120, 0	
ground.type = High		
ground.slidetime = 5		
ground.hittime  = 12		
ground.velocity = -10		
airguard.velocity = -1.9,-.8	
air.type = High		
air.velocity = -1.4,-3						
air.hittime = 12	

[State 590, Done]
type = DestroySelf
trigger1 = FrontEdgeBodyDist < -70
[State 590, Done]
type = ChangeState
trigger1 = MoveContact
;trigger2 = Pos Y >= 0
;trigger2 = Vel Y > 0
value = 1320

;---------------------------------------------------------------------------
; Metal Explod
[Statedef 1320]
type    = A
movetype= I 
physics = N
velset = 0,0
anim = 1320
sprpriority = 5

[State 590, Done]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; Metal Explod
[Statedef 1321]
type    = A
movetype= I 
physics = N
velset = 0,0
anim = 1319
sprpriority = 5

[State 1319, VelSet]
type = VelAdd
trigger1 = Time >= 0
y = .3

[State 590, Done]
type = ChangeState
trigger1 = Pos Y >= 150
trigger1 = Vel Y >= 0
value = 1320

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------
[StateDef -2]

[State -2, Debug]
type = DisplayToClipboard
trigger1 = 1
text = "GetHit=%d GetHit=%f var(9)=%d GetHit=%f"
params = (BackEdgeDist), (P2Dist X), (var(9)),(Pos Y)

[State -2]
type = VarSet
triggerall = (StateNo != 5000) && (StateNo != 5010)
trigger1 = 1
v = 22
value = ifelse(var(19) - var(20) = 0, 1, 0)

[State -2]
type = VarSet
trigger1 = 1
v = 20
value = var(19)

[State -2, VarSet]
type = VarSet
trigger1 = PrevStateNo != [600,650]
var(21) = 0
ignorehitpause = 1

[State -2]
type = AssertSpecial
trigger1 = var(9)
flag = NoStandGuard
flag2 = NoCrouchGuard
flag3 = NoAirGuard 

[State -2] 
type = RemoveExplod
trigger1 = StateNo != 1100
trigger1 = StateNo != 1101
trigger1 = StateNo != 1102
trigger1 = StateNo != 1109
trigger1 = StateNo != 1110
trigger1 = StateNo != 1111
id = 1118

[State -2] 
type = RemoveExplod
trigger1 = StateNo != 1104
trigger1 = StateNo != 1106
trigger1 = StateNo != 1107
trigger1 = StateNo != 1108
id = 1120

[State -2] 
type = RemoveExplod
trigger1 = StateNo != 1112
trigger1 = StateNo != 1113
trigger1 = StateNo != 1114
id = 1122

[State -2] 
type = RemoveExplod
trigger1 = StateNo != 1300
id = 1310

[State -2] 
type = RemoveExplod
trigger1 = StateNo != 3101
id = 6127

[State -2, StopIntro]
type = StopSnd
trigger1 = stateno = 0 && prevstateno = [190,193]
channel = 16

[State -2]
type = ChangeState
triggerall = hitshakeover
trigger1 = (stateno = 5000 || stateno = 5010 || stateno = 5020 || stateno = 5070 || stateno = 5080)
trigger1 = !Alive || !Life
value = 5090

[state -2, 1]
type = removeexplod
trigger1 = stateno != [1100,1199]
ID = 11000

[state 3000, 2]
type = afterimage
trigger1 = (stateno = 5000 || stateno = 5010 || stateno = 5020 || stateno = 5070 || stateno = 5080)
time = 1
length = 1
framegap = 1
palcolor = 0
palinvertall = 0
palbright = 0, 0, 0
palcontrast = 100, 100, 255


[state 3000, 2]
type = afterimage
trigger1 = winko
time = 1
length = 1
framegap = 1
palcolor = 0
palinvertall = 0
palbright = 0, 0, 0
palcontrast = 100, 100, 255

[State -2, Pre-walking state]
type = ChangeState
trigger1 = prevstateno = [190, 193] ;Enable after Intro
trigger2 = RoundNo > 1              ;Enable If Round Number is > 1
trigger2 = RoundState < 2           ;RoundState < 2 and
trigger2 = stateno = 0              ;Current state is 0
value = 51100
ctrl = 0

[State -2, Remember the last Position (X)]
type = VarSet
trigger1 = RoundState < 2
fvar(20) = Pos X

[State -2, Set the actual Position when match begins]
type = PosSet
trigger1 = RoundState = 2
trigger1 = fvar(20) != 0
x = fvar(20)

[State -2, Reset PlaceHolder Var]
type = VarSet
trigger1 = RoundState = 2
fvar(20) = 0


[State -2, AssertSpecial]
type = AssertSpecial
triggerall = roundno = 1
trigger1 = roundstate < 2
flag = NoMusic


[State -2, Super KO Helper]
type = Helper
triggerall = WinKO
triggerall = NumHelper(101) = 0
;trigger1 = StateNo = 4000 ;[3000,4999] ; JIYUU NO MELODY
trigger1 = StateNo = [3000,3351] ; JIYUU NO MELODY
;trigger2 = numhelper(1696) = 1 ; JIYUU NO MELODY
;trigger3 = StateNo =
;trigger5 = StateNo = 3102
name = "Super KO FX Spawner"
ID = 101
StateNo = 9070
postype = p1
pos = 0, 0
ownpal = 0
ignorehitpause = 1

[State -2, Special KO Helper]
type = Helper
triggerall = WinKO
triggerall = NumHelper(101) = 0
trigger1 = StateNo = [1000,2999]
trigger2 = StateNo = [200,999]
name = "Super KO FX Spawner"
ID = 101
StateNo = 9060
postype = p1
pos = 0, 0
ownpal = 0
ignorehitpause = 1

;[state -2, hurt sound randomizer]
;type = varrandom
;trigger1 = 1
;v = 7
;range = 0,3

[state -2, ow sound]
type = playsnd
triggerall = alive && time = 1
trigger1 = stateno = 5001 || stateno = 5011
trigger1 = random < ifelse ((anim % 10) = 1, 400, 750)
trigger2 = stateno = 5040 || stateno = 5050
trigger2 = random < 500
trigger3 = stateno = 5070
trigger4 = stateno = 5100 && random < 250
value = s5000,var(7)
channel = 1

;HYPER NICKNAME FINISH

[State -2, mega Combo KO]
type = explod
triggerall = winko ;&& Var(8) = 0
trigger1 = stateno = 3000
anim = 16711
pos = 160,120
postype = left
removetime = 5
sprpriority = 10
ontop = 1
bindtime = -1
ignorehitpause = 1

[State -2, Shinkuu Tatumaki KO]
type = explod
triggerall = winko ;&& Var(8) = 0
trigger1 = stateno = [3100,3101]
anim = 16710
pos = 160,120
postype = left
removetime = 5
sprpriority = 5
ontop = 1
bindtime = -1

[State -2, Deluge Crysis KO]
type = explod
triggerall = winko ;&& Var(8) = 0
trigger1 = stateno = 3200
anim = 16712
pos = 160,120
postype = left
removetime = 5
sprpriority = 10
ontop = 1
bindtime = -1
ignorehitpause = 1



;HYPER NICKNAME FINISH

;==========================================================================
; get rid of trailing anims when hit
[state -2, 1]
type = removeexplod
trigger1 = movetype != a
id = 9001

[state -3, 2];combo hosei
type = varset
trigger1 = 1
v = 24
value = var(23)

[state -3, 2];combo hosei
type = varset
trigger1 = 1
v = 23
value = hitcount

;***************
[state -3, 2];combo
type = varset
trigger1 = var(23)>var(24)
v = 42
value = 1

; combo hitcount
;Damage Dampener Variable==================================================
[state -2, 1]
type = varadd
trigger1 = (hitpausetime = 1) && (p2movetype = h) && (movehit)
;trigger3 = (stateno = 801) && (time = 0)
;trigger4 = (stateno = 811) && (time = 0)
v = 18
value = 1
ignorehitpause = 1

[state -2, 1]
type = varset
trigger1 = p2movetype != h
v = 18
value = 0

[state -2]
type = varset
trigger1 = var(18) = 0
fvar(0) = 1; + (.25 * (var(41) > 0))
ignorehitpause = 1

[state -2]
type = attackmulset
trigger1 = 1
value = fvar(0)
ignorehitpause = 1

[state -2]
type = varset
trigger1 = var(18) > 0
trigger1 = var(18) <= 4
fvar(0) = .80; + (.25 * (var(41) > 0))
ignorehitpause = 1
[state -2]
type = varset
trigger1 = var(18) > 4
trigger1 = var(18) <= 11
fvar(0) = .60; + (.25 * (var(41) > 0))
ignorehitpause = 1
[state -2]
type = varset
trigger1 = var(18) > 11
trigger1 = var(18) <= 19
fvar(0) = .45; + (.25 * (var(41) > 0))
ignorehitpause = 1
[state -2]
type = varset
trigger1 = var(18) > 19
trigger1 = var(18) <= 26
fvar(0) = .3; + (.25 * (var(41) > 0))
ignorehitpause = 1
[state -2]
type = varset
trigger1 = var(18) > 26
trigger1 = var(18) <= 1000
fvar(0) = .2; + (.25 * (var(41) > 0))
ignorehitpause = 1

;--------------------------------------------------------------

[state 250,11]
type = helper
trigger1 = p2stateno = 328
trigger1 = !numhelper(60120)
persistent = 0
stateno = 60120
ID = 60120
bindtime = 1
postype = p2
pos = 0,500

[statedef 60120]
type    = a
movetype= I
physics = N
ctrl = 0
anim = 9999

[state 250,11]
type = explod
trigger1 = p2stateno = 328
persistent = 0
anim = 6012
pos = -80,-5
postype = p2
sprpriority = 5
velocity = 0, 0
bindtime = 1
ownpal = 1

[state 250,12]
type = explod
trigger1 = p2stateno = 328 && p2movetype = h
persistent = 0
anim = 6013
pos = -80,-5
postype = p2
sprpriority = -5
velocity = 0, 0
bindtime = 1
ownpal = 1

[state 250,13]
type = envshake
trigger1 = p2stateno = 328
persistent = 0
time = 15
freq = 70
ampl = -4

[state 250,15]
type = playsnd
trigger1 = p2stateno = 328
persistent = 0
value = s0,999

[state 250,15]
type = destroyself
trigger1 = p2stateno != 328

[state 5100,2]
type = explod
trigger1 = numexplod(6012) = 0
trigger1 = enemynear, stateno = 9040
anim = 6012
ID = 6012
pos = -80,-15
postype = p2
sprpriority = 5
bindtime = 1
ownpal = 1
shadow = -1

[state 5100,2]
type = explod
trigger1 = numexplod(6013) = 0
trigger1 = enemynear, stateno = 9040
anim = 6013
ID = 6013
pos = -80,-15
postype = p2
sprpriority = -4
bindtime = 1
ownpal = 1
shadow = -1

[state 5100,2]
type = playsnd
trigger1 = enemynear, stateno = 9040
value = 0,32

[state 183, 3]
type = helper
trigger1 = enemynear, stateno = 328
trigger1 = numhelper(329) = 0
stateno = 329
id = 329
name = "crashlanding"
pos = 0,0
postype = p2
bindtime = 1
ownpal = 1

[state 200, 3]
type = varset
triggerall = var(42)
triggerall = numenemy
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist < 15
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
v = 42
value = 0


;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -3]

;This controller plays a sound everytime the player lands from a jump, or
;from a back-dash.
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52 ;Jump land
;trigger2 = StateNo = 101
value = 40, 0

[State -3]
type = VarAdd
trigger1 = 1
v = 19
value = 1

[State -3]
type = VarAdd
trigger1 = Stateno = 9000
v = 4
value = 5

[State -3]
type = VarAdd
trigger1 = (StateNo != 9000) && (Var(4) > 0)&& (MoveType != H)
v = 4
value = -1
ignorehitpause = 1

[State -3]
type = VarSet
trigger1 = (MoveType != H) && (StateNo != 9000)
var(5) = StateNo

[State -3]
type = VarSet
trigger1 = (MoveType != H) && (StateNo != 9000)
var(6) = Ctrl


[State -3]
type = ChangeAnim
trigger1 = var(9)
trigger1 = Anim = 5
value = 10000

[State -3]
type = ChangeState
triggerall = StateNo != 1300 && StateNo != 52
trigger1 = var(9)
trigger1 = Command = "x" || Command = "y" || Command = "z" || Command = "a" || Command = "b" || Command = "c" 
value = 1301

[State -3]
type = VarSet
trigger1 = Anim != [10000,10047]
trigger1 = Anim != 5
trigger1 = StateNo != 1301
var(9) = 0



[State -3, Attack Scale]
type = AttackMulSet
trigger1 = 1
value = fvar(10)
ignorehitpause = 1

[State -3, Variable Scale]
type = varset
trigger1 = numenemy
fvar(10) = fvar(10)*(0.9**(enemynear(0),gethitvar(hitcount)))
ignorehitpause = 1

[State -3, Reset var when the opponent recovers]
type = Varset
trigger1 = numenemy
trigger1 = (enemynear,movetype!=H)
trigger2 = !numenemy
fvar(10) = 1
ignorehitpause = 1

[State 2OS]
type=stopsnd
trigger1=stateno!=4551 ;; In a nutshell, if not in an intro state, stop the sound(s) with the labeled channel [ channel=1 in this case ] immediately
channel=1
persistent=1
id = 12504

;This controller plays a sound everytime KFM lands from a jump, or
;from his back-dash.
;[State -3, Landing Sound]
;type = PlaySnd
;triggerall = Time = 1
;trigger1 = stateno = 52 ;Jump land
;trigger2 = stateno = 106 ;Run-back land
;value = 40, 0

[state -2, hurt sound randomizer]
type = varrandom
trigger1 = 1
v = 7
range = 0,2

;-----Hit Sounds-----
[State -3, Hit1]
type = PlaySnd
triggerall = Alive
triggerall = Time = 0
triggerall = Var(0) = [0,50]
trigger1 = Stateno = 5000
trigger2 = Stateno = 5010
value = 5000,0+random%2

[State -3, Hit2]
type = PlaySnd
triggerall = Alive
triggerall = Time = 0
triggerall = Var(0) = [50,100]
trigger1 = stateno = 5020
trigger2 = stateno = 5030
trigger3 = stateno = 5050
trigger4 = stateno = 5070
trigger5 = stateno = 5080
value = 5000,0+random%1

[state -2, ow sound]
type = playsnd
triggerall = alive && time = 1
trigger1 = stateno = 5001 || stateno = 5011
trigger1 = random < ifelse ((anim % 10) = 1, 400, 750)
trigger2 = stateno = 5040 || stateno = 5050
trigger2 = random < 500
trigger3 = stateno = 5070
trigger4 = stateno = 5100 && random < 250
value = s5000,var(7)
channel = 1

[State -3, Randomized Voice] ;Attack Voice
type = PlaySnd
triggerall = Time = 1
triggerall = Random % 2 = 1
;triggerall = StateNo != 252
;triggerall = StateNo != [223,224]
trigger1 = stateno = [200,450]
value = S17800,0+(Random%2)
volumescale = 100
channel = 1

;----------------------------------------------------------------------------------------;
;                                        Dizzy code                                      ;
;----------------------------------------------------------------------------------------;
;----------------------------------------------------------------------------------------;
[State -3, Varadd]
type = VarAdd
triggerall = (Time = 0) && (Var(36) < 15) && (Var(37) = 0)
trigger1 = (StateNo = 5000) || (StateNo = 5010) || (StateNo = 5020) || (StateNo = 5070) || (StateNo = 5080)
v = 35
value = ((GetHitVar(animtype)=0)*50)+((GetHitVar(animtype)=1)*100)+((GetHitVar(animtype)=2)*150)+((GetHitVar(animtype)>=3)*200)

[State -3, VarSubtract]
type = VarAdd
trigger1 = Var(35) > 0
v = 35
value = ifelse(MoveType = A,-3,-2)

[State -3, VarSet]
type = VarSet
trigger1 = Var(35) < 0
v = 35
value = 0
ignorehitpause = 1

[State -3, Redizzy VarSet]
type = VarSet
trigger1 = (MoveType != H) && (StateNo != [970,972])
v = 37
value = 0

[State -3, ChangeState]
type = ChangeState
triggerall = Time = 1
trigger1 = (StateNo = 5000) || (StateNo = 5010) || (StateNo = 5020) || (StateNo = 5070) || (StateNo = 5080)
trigger1 = (Var(35) >=10000) && (LoseKO = 0)
value = 970
ignorehitpause = 1

;Just to put here, DeeJay is NOT a hacker, for the fuck sake




