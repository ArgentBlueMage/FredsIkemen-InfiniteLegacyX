;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Character Name: "Scott Summers"                                              ;
; In Game Name: "Cyclops"                                                      ;
; Game Play Style: MVC Remix                                                   ;
; Made By: Reza                                                                ;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Constants and state file.
; There are comments scattered through this file, so you may like to
; take a look if would like to learn more about the cns.

;--------------------- Cyclops Variable List -----------------------------------
; var(0) = Super Jump
; var(1) = Win Pose Randomizer
; var(2) = Pre-Intro Randomizer
; var(3) = Get Hit Sounds
; var(4) = First Attack Announcer
; var(5) = Air Combo Announcer
; var(6) = Air Combo Announcer
; var(7) = Air Combo Announcer
; var(8) = Air Combo Announcer
; var(9) = Danger Announcer
; var(10) = Rolling Forward/Backward
; Var(11) = Air Combo Dash-In
; Var(14) = Gene Slice/Rush Combo Button Mash

;--------------------- Cyclops Float Variable List -----------------------------
; fvar(0) = Damage Dampener
; fvar(1) = Damage Dampener

[Data]
life = 1000			;Amount of life to start with
power = 5000		;Amount of maximum power
attack = 100		;attack power (more is stronger)
defence = 100		;defensive power (more is stronger)
fall.defence_up = 50	;Percentage to increase defense everytime player is knocked down
liedown.time = 60		;Time which player lies down for, before getting up
airjuggle = 15		;Number of points for juggling
sparkno = 2			;Default hit spark number for HitDefs
guard.sparkno = 40	;Default guard spark number
KO.echo = 0			;1 to enable echo on KO
volume = 255			;Volume offset (negative for softer)
IntPersistIndex = 60	;Variables with this index and above will not have their values
FloatPersistIndex = 40  ;reset to 0 between rounds or matches. There are 60 int variables,
  				;indexed from 0 to 59, and 40 float variables, indexed from 0 to 39.
  				;If omitted, then it defaults to 60 and 40 for integer and float
  				;variables repectively, meaning that none are persistent, i.e. all
  				;are reset. If you want your variables to persist between matches,
  				;you need to override state 5900 from common1.cns.


[Size]
xscale = .99			;Horizontal scaling factor.
yscale = 1			;Vertical scaling factor.
ground.back = 15		;Player width (back, ground)
ground.front = 16		;Player width (front, ground)
air.back = 12		;Player width (back, air)
air.front = 12		;Player width (front, air)
height = 60			;Height of player (for opponent to jump over)
attack.dist = 160		;Default attack distance
proj.attack.dist = 90	;Default attack distance for projectiles
proj.doscale = 0		;Set to 1 to scale projectiles too   
head.pos = -5, -90	;Approximate position of head
mid.pos = -5, -60		;Approximate position of midsection
shadowoffset = 0		;Number of pixels to vertically offset the shadow
draw.offset = 0,0		;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 4.9		;Walk forward
walk.back = -4		;Walk backward
run.fwd  = 7.75, 0		;Run forward (x, y)
run.back = -4.5,-3.8	;Hop backward (x, y)
jump.neu = 0,-8.5		;Neutral jumping velocity (x, y)
jump.back = -4,-8.25		;Jump back Speed (x, y)
jump.fwd = 4,-8.25	;Jump forward Speed (x, y)
runjump.back = -2.55,-8.1;Running jump speeds (opt)
runjump.fwd = 4,-8.1	;.
airjump.neu = 0,-8.1	;.
airjump.back = -2.55	;Air jump speeds (opt)
airjump.fwd = 2.5		;.

[Movement]
airjump.num = 1		;Number of air jumps allowed (opt)
airjump.height = 35	;Minimum distance from ground before you can air jump (opt)
yaccel = .44		;Vertical acceleration
stand.friction = .85	;Friction coefficient when standing
crouch.friction = .82	;Friction coefficient when crouching

;---------------------------------------------------------------------------
; Format:
; [Statedef STATENO]
; type = ?      S/C/A/L  stand/crouch/air/liedown
; movetype = ?  I/A/H    idle/attack/gethit
; physics = ?   S/C/A/N  stand/crouch/air/none
; juggle = ?             air juggle points move requires
;
; [State STATENO, ?]     ? - any number you choose
; type = ?
; ...

;------------------------------------------------------------------------------;
;                             TIME OVER LOSE                                   ;
;------------------------------------------------------------------------------;
; Lose By Time Over
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, PlaySnd]
type = PlaySnd
trigger1 = Time = 5
value = S180,7
volume = 255
ignorehitpause = 1
persistent = 1

[State 170, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 1
value = S5000,7
volume = 255
ignorehitpause = 1
persistent = 1

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;------------------------------------------------------------------------------;
;                              WIN POSES                                       ;
;------------------------------------------------------------------------------;
; Win Pose Randomizer
[Statedef 180]
type = S

[State 180, VarRandom]
type = VarRandom
trigger1 = !Time
v = 1
range = 181,186

[State 180, VarSet]
type = VarSet
trigger1 = command = "hold_x"
var(1) = 181

[State 180, VarSet]
type = VarSet
trigger1 = command = "hold_y"
var(1) = 182

[State 180, VarSet]
type = VarSet
trigger1 = command = "hold_z"
var(1) = 183

[State 180, VarSet]
type = VarSet
trigger1 = command = "hold_a"
var(1) = 184

[State 180, VarSet]
type = VarSet
trigger1 = command = "hold_b"
var(1) = 185

[State 180, VarSet]
type = VarSet
trigger1 = command = "hold_c"
var(1) = 186

[State 180, ChangeState]
type = ChangeState
trigger1 = Time = 1
value = var(1)

;---------------------------------------------------------------------------
; Win Pose 1
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0,0

[State 181, PlaySnd]
type = PlaySnd
trigger1 = Time = 100
value = S180,8
volume = 255
ignorehitpause = 1
persistent = 1

[State 181, PlaySnd]
type = PlaySnd
trigger1 = Life >= 999
trigger1 = Time = 150
value = S180,10
volume = 255
ignorehitpause = 1
persistent = 1

[State 181, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7
value = S180,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 181, Helper]
type = Helper
trigger1 = AnimElem = 7
stateno = 1810
sprpriority = 1
postype = p1
pos = 57,-93
bindtime = 1
ownpal = 1
id = 1810
name = "Win Pose 1 Cyclops Visor"

[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,400]
flag = RoundNotOver

;---------------------------------------------------------------------------
; Win Pose 1 Cyclops Visor
[Statedef 1810]
type = A
physics = N
anim = 181
velset = 2.5,-7.5
ctrl = 0

[State 1810, Gravity]
type = Gravity
trigger1 = Pos Y < 0

[State 1810, PosSet]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 1810, VelSet]
type = VelSet
trigger1 = Pos Y >= 0
x = 0
y = 0

[State 1810, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 181
trigger1 = Pos Y = 0
trigger1 = Vel X = 0
trigger1 = Vel Y = 0
value = 182

;---------------------------------------------------------------------------
; Win Pose 2
[Statedef 182]
type = S
ctrl = 0
anim = 183
velset = 0,0,0

[State 182, PlaySnd]
type = PlaySnd
trigger1 = Time = 100
value = S180,8
volume = 255
ignorehitpause = 1
persistent = 1

[State 182, PlaySnd]
type = PlaySnd
trigger1 = Life >= 999
trigger1 = Time = 150
value = S180,10
volume = 255
ignorehitpause = 1
persistent = 1

[State 182, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1000,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 182, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S3000,15
volume = 255
ignorehitpause = 1
persistent = 1

[State 182, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 184
sprpriority = 1
postype = p1
pos = -5,-93
removetime = -1
bindtime = -1
ownpal = 1
id = 184

[State 182, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,300]
flag = RoundNotOver

;---------------------------------------------------------------------------
; Win Pose 3
[Statedef 183]
type = S
ctrl = 0
anim = 195
velset = 0,0,0

[State 183, PlaySnd]
type = PlaySnd
trigger1 = Time = 100
value = S180,8
volume = 255
ignorehitpause = 1
persistent = 1

[State 183, PlaySnd]
type = PlaySnd
trigger1 = Life >= 999
trigger1 = Time = 150
value = S180,10
volume = 255
ignorehitpause = 1
persistent = 1

[State 183, Explod]
type = Explod
trigger1 = Time = 1
anim = 196
sprpriority = 1
postype = p1
pos = 3,-5
bindtime = -1
ownpal = 1
id = 196

[State 183, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S180,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 183, ChangeAnim]
type = ChangeAnim
trigger1 = AnimElem = 4, >= 0
value = 195
elem = 4

[State 183, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,300]
flag = RoundNotOver

;---------------------------------------------------------------------------
; Win Pose 4
[Statedef 184]
type = S
ctrl = 0
anim = 195
velset = 0,0,0

[State 184, PlaySnd]
type = PlaySnd
trigger1 = Time = 100
value = S180,8
volume = 255
ignorehitpause = 1
persistent = 1

[State 184, PlaySnd]
type = PlaySnd
trigger1 = Life >= 999
trigger1 = Time = 150
value = S180,10
volume = 255
ignorehitpause = 1
persistent = 1

[State 184, Explod]
type = Explod
trigger1 = Time = 1
anim = 196
sprpriority = 1
postype = p1
pos = 3,-5
bindtime = -1
ownpal = 1
id = 196

[State 184, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S180,5
volume = 255
ignorehitpause = 1
persistent = 1

[State 184, ChangeAnim]
type = ChangeAnim
trigger1 = AnimElem = 4, >= 0
value = 195
elem = 4

[State 184, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,300]
flag = RoundNotOver

;---------------------------------------------------------------------------
; Win Pose 5
[Statedef 185]
type = S
ctrl = 0
anim = 180
velset = 0,0,0

[State 185, PlaySnd]
type = PlaySnd
trigger1 = Time = 100
value = S180,8
volume = 255
ignorehitpause = 1
persistent = 1

[State 185, PlaySnd]
type = PlaySnd
trigger1 = Life >= 999
trigger1 = Time = 150
value = S180,10
volume = 255
ignorehitpause = 1
persistent = 1

[State 185, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7, = 0
value = S180,2
volume = 255
ignorehitpause = 1
persistent = 1

[State 185, Helper]
type = Helper
trigger1 = AnimElem = 7, = 0
stateno = 1810
sprpriority = 1
postype = p1
pos = 57,-93
bindtime = 1
ownpal = 1
id = 1810
name = "Win Pose 1 Cyclops Visor"

[State 185, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,300]
flag = RoundNotOver

;---------------------------------------------------------------------------
; Win Pose 6
[Statedef 186]
type = S
ctrl = 0
anim = 185
velset = 0,0,0

[State 186, PlaySnd]
type = PlaySnd
trigger1 = Time = 100
value = S180,8
volume = 255
ignorehitpause = 1
persistent = 1

[State 186, PlaySnd]
type = PlaySnd
trigger1 = Life >= 999
trigger1 = Time = 150
value = S180,10
volume = 255
ignorehitpause = 1
persistent = 1

[State 186, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 9
value = S180,9
volume = 255
ignorehitpause = 1
persistent = 1

[State 186, Helper]
type = Helper
trigger1 = AnimElem = 7
stateno = 1810
sprpriority = 1
postype = p1
pos = 57,-93
bindtime = 1
ownpal = 1
id = 1810
name = "Win Pose 1 Cyclops Visor"

[State 186, Helper]
type = Helper
trigger1 = AnimElem = 1
stateno = 187
sprpriority = 1
postype = p1
pos = 50,0
bindtime = 1
ownpal = 1
id = 187
name = "Win Pose 6 Jean Flying In"

[State 186, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,300]
flag = RoundNotOver

;---------------------------------------------------------------------------
; Win Pose 6 Jean Flying In
[Statedef 187]
type = A
physics = N
anim = 186
velset = 0,0
ctrl = 0

[State 187, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 21
value = S180,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 187, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 20
value = S180,11
volume = 255
ignorehitpause = 1
persistent = 1

[State 187, Gravity]
type = Gravity
trigger1 = Pos Y < 0

[State 187, PosSet]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 187, VelSet]
type = VelSet
trigger1 = Pos Y >= 0
x = 0
y = 0

[State 187, ChangeState]
type = ChangeState
trigger1 = AnimTime = 400
value = 0

;------------------------------------------------------------------------------;
;                              INTROS                                          ;
;------------------------------------------------------------------------------;
; Pre-Intro Randomizer
[Statedef 190]
type = S
ctrl = 0
velset = 0,0

;This is the variable randomizer which selects the a random intro
[State 190, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 2
value = 0
range = 0,1 ;Change this 2 to how many intros there are (right now,there are 3 intros,variable 0 is intro 1,variable 1 is intro 2,variable 2 is intro 3)

;This is the 1st intro
[State 190, ChangeState]
type = ChangeState
trigger1 = var(2) = 0
trigger1 = time = 1
value = 1901

;This is the 2nd intro
[State 190, ChangeState]
type = ChangeState
trigger1 = var(2) = 1
trigger1 = time = 1
value = 197

;---------------------------------------------------------------------------
; X-Jet Intro
[Statedef 1901]
type = A
physics = N
anim = 190
velset = 0,0
ctrl = 0
sprpriority = -4

[State 190, intro]
type = assertspecial
trigger1 = 1
flag = intro
flag2 = nobardisplay

[State 190, bound]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0,0

[State 190, X-Jet/Black Bird]
type = helper
trigger1 = !time
helpertype = normal
stateno = 193
ID = 193
name = "X-Jet/Black Bird"
postype = p1
ownpal = 1

[State 190, camera]
type = helper
trigger1 = !numhelper(196)
helpertype = normal
stateno = 196
ID = 196
name = "Camera"
postype = p1

[State 190, pos]
type = posset
trigger1 = numhelper(193)
x = ceil(helper(193),pos x)
y = ceil(helper(193),pos y)

[State 190, snd]
type = playsnd
trigger1 = time= 5
value = S190,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 190, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = S190,5
volume = 255
channel = 1
ignorehitpause = 1
persistent = 1

[State 190, end]
type = changestate
trigger1 = !animtime
value = 191

[State 190, no X-Jet]
type = changestate
trigger1 = !numhelper(193)
value = 195

;---------------------------------------------------------------------------
; Jump
[Statedef 191]
type = A
physics = N
anim = 194
velset = 0,0
sprpriority = -1

[State 10190, intro]
type=assertspecial
trigger1=1
flag=intro
flag2=nobardisplay

[State 10190, bound]
type=screenbound
trigger1=1
value=0
movecamera=0,0

[State 10190, pos]
type=posadd
trigger1=!time
x=ceil(44*const(size.xscale))
y=ceil(120*const(size.yscale))

[State 10190, grav]
type=veladd
trigger1=1
y=.2

[State 10190, vel]
type=velset
trigger1=!time
y=-3

[State 10190, vel]
type=velset
trigger1=!time
trigger1=numhelper(196)
x=(helper(196),rootdist x)/-51.0

[State 10190, end]
type=changestate
trigger1=pos y>-vel y
value=192

;---------------------------------------------------------------------------
; Land
[Statedef 192]
type=S
physics=S
anim=198
velset=0,0

[State 20190, snd]
type=playsnd
trigger1=animelem=15
value=S190,2
volume = 255
ignorehitpause = 1
persistent = 1

[State 20190, intro]
type=assertspecial
trigger1=1
flag=intro

[State 20190, pos]
type=posset
trigger1=!time
y=0

[State 20190, pos]
type=posset
trigger1=!time
trigger1=numhelper(196)
x=ceil(helper(196),pos x)

[State 20190, snd]
type=playsnd
trigger1=!time
value=S52,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 20190, dust]
type=explod
trigger1=!time
anim=6001
sprpriority=-3
postype=p1
scale=1,1
pausemovetime=-1
supermovetime=-1
ownpal=1

[State 20190, end]
type=changestate
trigger1=!animtime
value=0

;---------------------------------------------------------------------------
; X-Jet
[Statedef 193]
type=A
physics=N
anim=191
velset=0,0
ctrl=0
sprpriority=5

[State 30190, pos]
type=posset
trigger1=1
x=-168*facing
y=ceil(pos y-screenpos y)+ceil(sin(time/30.0*pi)*4)-8

[State 30190, smoke]
type=explod
trigger1=!time
anim=192
ID=192
pos = 59,105
sprpriority=5
postype=p1
bindtime=-1
removetime=600
scale=const(size.xscale),const(size.yscale)
ownpal=1

[State 30190, shake]
type=envshake
trigger1=!(time%6)
time=6
ampl=2
freq=90

[State 30190, end]
type=changestate
trigger1=time>=240
value=194

;-----------------------------------------------------------------------------
; Fly Away
[Statedef 194]
type=A
physics=N
velset=0,0
ctrl=0
sprpriority=-5

[State 10190, snd]
type=playsnd
trigger1=!time
value=S190,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 10190, vel]
type=veladd
trigger1=vel x>-3
x=-.2

[State 10190, vel]
type=veladd
trigger1=vel y>-10
y=-.1

[State 10190, safety]
type=removeexplod
trigger1=(pos x!=[-465,465])||(screenpos y!=[-212,0])

[State 10190, end]
type=destroyself
trigger1=(pos x!=[-465,465])||(screenpos y!=[-212,0])

;------------------------------------------------------------------------------
; Camera
[Statedef 196]
type=S
velset=0,0
anim=193

[State 50190, bound]
type=screenbound
trigger1=1
value=0
movecamera=1,1

[State 50190, end]
type=destroyself
trigger1=roundstate=2

;---------------------------------------------------------------------------
; Jacket Intro
[Statedef 197]
type = S
movetype = I
physics = N
anim = 1991
velset = 0,0,0
ctrl = 0

[State 197, AssertSpecial]
type = AssertSpecial
trigger1 = Time < 150
flag = Intro

[State 197, Helper]
type = Helper
trigger1 = AnimElem = 4, = 0
stateno = 198
postype = p1
pos = 8,-128
bindtime = 1
ownpal = 1
id = 198
name = "Jacket"
persistent = 0

[State 197, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6, = 0
value = S190,4
volume = 255
ignorehitpause = 1
persistent = 0

[State 197, Explod]
type = Explod
trigger1 = AnimElem = 6, = 30
anim = 1992
sprpriority = 1
postype = p1
pos = 0,0
bindtime = -1
ownpal = 1
id = 1992
name = "Intro Effect"
persistent = 0

[State 197, ChangeAnim]
type = ChangeAnim
trigger1 = !AnimTime
value = 0

;---------------------------------------------------------------------------
; Jacket Intro Jacket Falling
[Statedef 198]
type = S
movetype = I
physics = N
anim = 1993
sprpriority = 2
velset = 0,0
ctrl = 0

[State 198, VelSet]
type = VelSet
trigger1 = !Time
y = -5

[State 198, VelAdd]
type = VelAdd
trigger1 = Vel Y < 0
y = .25

[State 198, VelAdd]
type = VelAdd
trigger1 = Vel Y >= 0
y = .125

[State 198, PlaySnd]
type = PlaySnd
trigger1 = Vel Y > 0
value = S190,3
volume = 255
ignorehitpause = 1
persistent = 0

[State 198, ChangeAnim]
type = ChangeAnim
trigger1 = Vel Y > 0
trigger1 = Anim = 1993
value = 1994

[State 198, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 1994
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
trigger1 = Pos Y > -60
value = 1995
elem = 1

[State 198, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 1994
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
trigger1 = Pos Y > -60
value = 1995
elem = 2

[State 198, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 1994
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
trigger1 = Pos Y > -60
value = 1995
elem = 3

[State 198, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 1994
trigger1 = AnimElem = 4, >= 0
trigger1 = AnimElem = 5, < 0
trigger1 = Pos Y > -60
value = 1995
elem = 4

[State 198, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 1994
trigger1 = AnimElem = 5, >= 0
trigger1 = AnimElem = 6, < 0
trigger1 = Pos Y > -60
value = 1995
elem = 5

[State 198, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 1994
trigger1 = AnimElem = 6, >= 0
trigger1 = AnimElem = 1, < 0
trigger1 = Pos Y > -60
value = 1995
elem = 6

[State 198, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 1995
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
trigger1 = Pos Y > -30
value = 1996
elem = 1

[State 198, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 1995
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
trigger1 = Pos Y > -30
value = 1996
elem = 2

[State 198, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 1995
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
trigger1 = Pos Y > -30
value = 1996
elem = 3

[State 198, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 1995
trigger1 = AnimElem = 4, >= 0
trigger1 = AnimElem = 5, < 0
trigger1 = Pos Y > -30
value = 1996
elem = 4

[State 198, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 1995
trigger1 = AnimElem = 5, >= 0
trigger1 = AnimElem = 6, < 0
trigger1 = Pos Y > -30
value = 1996
elem = 5

[State 198, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 1995
trigger1 = AnimElem = 6, >= 0
trigger1 = AnimElem = 1, < 0
trigger1 = Pos Y > -30
value = 1996
elem = 6

[State 198, DestroySelf]
type = DestroySelf
trigger1 = Pos Y > -10

;---------------------------------------------------------------------------
; Taunt
[Statedef 195]
type = S
ctrl = 0
anim = 197
velset = 0,0
movetype = I
physics = S
sprpriority = 1

[State 195, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 196
sprpriority = 2
postype = p1
facing = 1
vfacing = 1
pos = -5,5
bindtime = -1
ownpal = 1
id = 196
removeongethit = 1
ignorehitpause = 1
removetime = 45
scale = 1.1,1.1
ontop = 1
persistent = 1

[State 195, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S195,0
volume = 255
channel = 0
ignorehitpause = 1
persistent = 1

[State 195, StopSnd]
type = StopSnd
trigger1 = Movecontact
channel = 0
ignorehitpause = 1
persistent = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------;
;                              BASIC ATTACKS                                   ;
;------------------------------------------------------------------------------;
; Standing Low Punch
[Statedef 200]
type = S				;State-type: S-stand, C-crouch, A-air, L-liedown
movetype = A				;Move-type: A-attack, I-idle, H-gethit
physics = S				;Physics: S-stand, C-crouch, A-air
juggle = 1				;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0			;Set velocity (x,y) (Def: no change)
ctrl = 0				;Set ctrl (Def: no change)
anim = 200				;Change animation (Def: no change)
poweradd = 50			;Power to add (Def: 0)
sprpriority = 2			;Set layering priority to 2 (in front)
hitcountpersist = 1

[State 200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 200, HitDef]
type = HitDef
trigger1 = Movecontact!
attr = S, NA			;Attribute: Standing, Normal Attack
damage = 20,0			;Damage that move inflicts, guard damage
animtype = Low
air.animtype = Low
fall.animtype = Low		;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 4,Hit			;Attack priority: 0 (least) to 7 (most), 4 default
					;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8,8			;Time attacker pauses, time opponent shakes
sparkno = S6010			;Spark anim no (Def: set above)
sparkxy = -10, -75		;X-offset for the "hit spark" rel. to p2,
guard.sparkno = S6008					;Y-offset for the spark rel. to p1
hitsound = S200, 0			;Sound to play on hit
guardsound = S120, 0			;Sound to play on guard
;ground.type = High		;Type: High, Low, Trip (def: Normal)
;ground.slidetime = 5		;Time that the opponent slides back
;ground.hittime  = 12		;Time opponent is in hit state
;ground.velocity = -4		;Velocity at which opponent is pushed
;airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
;air.type = High			;Type: High, Low, Trip (def: same as ground.type)
;air.velocity = -1.4,-3		;X-velocity at which opponent is pushed,
					;Y-velocity at which opponent is pushed
;air.hittime = 12			;Time before opponent regains control in air

ground.type = High
air.type = Low
ground.slidetime = 10
ground.hittime = 10
air.hittime = 10
guard.ctrltime = 10
ground.velocity = -4
guard.velocity = -4
air.velocity = -4
airguard.velocity = -4
ground.cornerpush.veloff = -4
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 200, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Medium Punch Launcher
[Statedef 210]
type = S
movetype = A
physics = S
juggle = 10
poweradd = 50
ctrl = 0
velset = 0,0
anim = 210
sprpriority = 2
hitcountpersist = 1

[State 210, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S0,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 210, HitDef]
type = HitDef
trigger1 = Movecontact!
attr = S, NA
damage = 40
animtype = Diagup
air.animtype = Diagup
fall.animtype = Up
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 10,10
sparkno = S6011
sparkxy = -10, -75
guard.sparkno = S6008
hitsound = S200,1
guardsound = S120,0
ground.type = High
air.type = Low
ground.slidetime = 15
ground.hittime = 15
air.hittime = 15
guard.ctrltime = 15
ground.velocity =  -1,-14
guard.velocity = -5
air.velocity =  -1,-14
airguard.velocity = -5
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
air.fall = 1
fall = 1
fall.recover = 1
air.recover = 1
yaccel = .5
fall.envshake.time = 20
fall.envshake.freq = 180
fall.envshake.ampl = -2
fall.envshake.phase = 90

[State 210, Explod]
type = Explod
trigger1 = Movehit
anim = 6002
ID = 6002
pos = 20,-108
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = .9,.9
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 0

[State 210, ChangeState]
type = ChangeState
triggerall = (movecontact) && (!moveguarded)
trigger1 = command = "holdup"
value = 55
ctrl = 1

[State 210, ChangeState]
type = ChangeState
triggerall = var(0) = 1
trigger1 = (movecontact) && (!moveguarded)
value = 55
ctrl = 1

[State 210, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing High Punch
[Statedef 220]
type = S
movetype= A
physics = S
juggle = 1
poweradd = 50
ctrl = 0
velset = 0,0
anim = 220
sprpriority = 1
hitcountpersist = 1

[State 220, Width]
type = Width
trigger1 = 1
edge = 20,20
player = 20,20
persistent = 0

[State 220, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,7
volume = 255
ignorehitpause = 1
persistent = 1

[State 220, Explod]
type = Explod
trigger1 = AnimElem = 5
anim = 222
sprpriority = 2
postype = p1
pos = 19,-86
bindtime = -1
ownpal = 1
id = 222
facing = 1
vfacing = 1
supermovetime = 999
pausemovetime = 999
ontop = 1
removeongethit = 1
ignorehitpause = 1

[State 220, PlayerPush]
type = PlayerPush
trigger1 = AnimElem = 5
value = 1

[State 220, Projectile]
type = Projectile
trigger1 = AnimElem = 5
projanim = 221
projhitanim = -1
projremanim = -1
projcancelanim = 6007
projpriority = 1
projsprpriority = 4
postype = P1
offset = 64,-85
projremove = 1
velocity = 7,0
remvelocity = 0,0
attr = S, SP
damage   = 60,0
animtype = High
air.animtype = High
fall.animtype = High
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 12,12
hitsound = S200,8
sparkno = S6007
sparkxy = 64,0
guard.sparkno = S223
guardsound = S120,0
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
air.hittime = 20
guard.ctrltime = 20
ground.velocity = -8,0
guard.velocity = -8
air.velocity = -4.5, -6
airguard.velocity = -5.33,-1
air.juggle = 0
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
envshake.time = 8
envshake.ampl = 2
palfx.time = 12
palfx.add = 255,255,255
palfx.mul = 128,128,128
forcestand = 1
yaccel = .5

[State 220, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Low Kick
[Statedef 230]
type = S
movetype = A
physics = S
juggle = 1
poweradd= 50
ctrl = 0
velset = 0,0
anim = 230
sprpriority = 2
hitcountpersist = 1

[State 230, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 230, HitDef]
type = HitDef
trigger1 = Movecontact!
attr = S, NA
damage = 20
animtype = Low
air.animtype = Low
fall.animtype = Low
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 8,8
sparkno = S6010
sparkxy = -10,-56
guard.sparkno = S6008
hitsound = S200,3
guardsound = S120,0
ground.type = Low
air.type = High
ground.slidetime = 10
ground.hittime = 10
air.hittime = 10
guard.ctrltime = 10
ground.velocity = -4
guard.velocity = -4
air.velocity = -4
airguard.velocity = -4
ground.cornerpush.veloff = -4
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 230, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Medium Kick
[Statedef 240]
type = S
movetype = A
physics = S
juggle = 1
poweradd = 50
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 2
hitcountpersist = 1

[State 240, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = S0,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 240, HitDef]
type = HitDef
trigger1 = Movecontact!
attr = S, NA
damage = 40
animtype = Medium
fall.animtype = Medium
air.animtype = Medium
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 10,10
sparkno = S6011
sparkxy = -10,-56
guard.sparkno = S6008
hitsound = S200,4
guardsound = S120,0
ground.type = Low
air.type = High
ground.slidetime = 15
ground.hittime = 15
air.hittime = 15
guard.ctrltime = 15
ground.velocity = -5
guard.velocity = -5
air.velocity = -5
airguard.velocity = -5
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 240, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing High Kick
[Statedef 250]
type = S
movetype = A
physics = S
juggle = 1
poweradd = 50
ctrl = 0
velset = 0,0
anim = 250
sprpriority = 2
hitcountpersist = 1

[State 250, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = S200,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 250, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = S0,2
volume = 255
ignorehitpause = 1
persistent = 1

[State 250, HitDef]
type = HitDef
trigger1 = Movecontact!
attr = S, NA
damage = 60
animtype = High
fall.animtype = High
air.animtype = High
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 12,12
sparkno = S6012
sparkxy = -10,-76
guard.sparkno = S6008
hitsound = S200,5
guardsound = S120,0
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
air.hittime = 20
guard.ctrltime = 20
ground.velocity = -6
guard.velocity = -6
air.velocity = -6
airguard.velocity = -6
ground.cornerpush.veloff = -6
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 250, ChangeState]
type = ChangeState
trigger1 = AnimElem = 6, > 0
trigger1 = command = "c"
value = 251

[State 250, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing High Kick 2
[StateDef 251]
type = S
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 251
poweradd = 50
sprpriority = 2
hitcountpersist=1

[State 251, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S200,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 251, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0,2
volume = 255
ignorehitpause = 1
persistent = 1

[State 251, 1]
type = HitDef
trigger1 = Movecontact!
attr = S, NA
damage = 60,0
animtype = High
fall.animtype = High
air.animtype = High
guardflag = MA
hitflag = MAF
priority = 4, Hit
pausetime = 12,12
sparkno = S6012
sparkxy = -10,-80
guard.sparkno = S6008
hitsound = S200,5
guardsound = S120,0
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
air.hittime = 20
guard.ctrltime = 20
ground.velocity = -6
guard.velocity = -6
air.velocity = -6
airguard.velocity = -6
ground.cornerpush.veloff = -6
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 251, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Low Punch
; CNS difficulty: easy
; Description: Simple crouching attack. The HitDef's guardflag parameter
;     is set to "L", meaning that the move can only be guarded low
;     (crouching), and not by standing or jumping opponents.
;     Like for all light attacks, it's a good idea to keep the slidetime
;     and hittime parameters at a smaller number, so the opponent isn't
;     stunned for too long. For all crouching attacks you have to
;     remember to set the attr parameter to indicate that it is crouching
;     attack. In this case, "C, NA" stands for "crouching, normal attack".
;     The HitDef's priority is set at 3, instead of the default of 4,
;     so this attack has a lower priority than most others, meaning the
;     player will get hit instead of trading hits with the opponent if
;     their attack collision boxes (Clsn1) intersect each other's Clsn2
;     boxes at the same time.
[StateDef 400]
type = C
movetype = A
physics = C
juggle = 1
velset = 0,0
poweradd = 50
ctrl = 0
anim = 400
sprpriority = 2
hitcountpersist = 1

[State 400, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 400, HitDef]
type = HitDef
trigger1 = Movecontact!
attr = C, NA
damage = 20
animtype = Low
air.animtype = Low
fall.animtype = Low
hitflag = MAF
guardflag = L
priority = 4, Hit
pausetime = 8,8
sparkno = S6010
sparkxy = -10,-46
guard.sparkno = S6008
hitsound = S200,0
guardsound = S120,0
ground.type = Low
air.type = High
ground.slidetime = 10
ground.hittime = 10
air.hittime = 10
guard.ctrltime = 10
ground.velocity = -4
guard.velocity = -4
air.velocity = -4
airguard.velocity = -4
ground.cornerpush.veloff = -4
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
air.fall = 1
fall.recover = 1
air.recover = 1
yaccel = .5

[State 400, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Medium Punch
[StateDef 410]
type = C
movetype = A
physics = C
juggle = 1
velset = 0,0
poweradd = 50
ctrl = 0
anim = 410
sprpriority = 2
hitcountpersist = 1

[State 410, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 410, HitDef]
type = HitDef
trigger1 = Movecontact!
attr = C, NA
damage = 40
animtype = Medium
fall.animtype = Medium
air.animtype = Medium
hitflag = MAF
guardflag = L
priority = 4, Hit
pausetime = 10,10
sparkno = S6011
sparkxy = -10,-70
guard.sparkno = S6008
hitsound = S200,1
guardsound = S120,0
ground.type = High
air.type = High
ground.slidetime = 15
ground.hittime = 15
air.hittime = 15
guard.ctrltime = 15
ground.velocity = -5
guard.velocity = -5
air.velocity = -5
airguard.velocity = -5
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 410, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching High Punch
[Statedef 420]
type = C
movetype = A
physics = C
juggle = 1
velset = 0,0
poweradd = 50
ctrl = 0
anim = 420
sprpriority = 2
hitcountpersist = 1

[State 420, Width]
type = Width
trigger1 = 1
edge = 20,20
player = 20,20
persistent = 0

[State 420, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,7
volume = 255
ignorehitpause = 1
persistent = 1

[State 420, Explod]
type = Explod
trigger1 = AnimElem = 5
anim = 222
sprpriority = 2
postype = p1
pos = 27,-63
bindtime = -1
ownpal = 1
id = 222
facing = 1
vfacing = 1
supermovetime = 9999
pausemovetime = 9999
ontop = 1
removeongethit = 1
ignorehitpause = 1

[State 420, PlayerPush]
type = PlayerPush
trigger1 = AnimElem = 5
value = 1

[State 420, 1]
type = Projectile
trigger1 = AnimElem = 5
projanim = 221
projhitanim = -1
projremanim = -1
projcancelanim = 6007
projpriority = 1
projsprpriority = 4
postype = P1
offset = 42,-65
projremove = 1
velocity = 8
remvelocity = 0,0
attr = C, SP
damage = 60
animtype = High
air.animtype = High
fall.animtype = High
hitflag = MAF
guardflag = L
priority = 4, Hit
pausetime = 12,12
hitsound = S200,8
sparkno = S6007
sparkxy = 60,0
guard.sparkno = S223
guardsound = S120,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
air.hittime = 20
guard.ctrltime = 20
ground.velocity = -8,0
guard.velocity = -8
air.velocity = -4.5, -6
airguard.velocity = -5.33,-1
air.juggle = 0
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
envshake.time = 8
envshake.ampl = 2
palfx.time = 12
palfx.add = 255,255,255
palfx.mul = 128,128,128
forcestand = 1
yaccel = .5

[State 420, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Low Kick
[Statedef 430]
type = C
movetype = A
physics = C
juggle = 1
velset = 0,0
poweradd = 50
ctrl = 0
anim = 430
sprpriority = 2
hitcountpersist = 1

[State 430, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 430, HitDef]
type = HitDef
trigger1 = Movecontact!
attr = C, NA
damage = 20
animtype = Low
air.animtype = Low
fall.animtype = Low
guardflag = L
hitflag = MAF
priority = 4, Hit
pausetime = 8,8
sparkno = S6010
sparkxy = -10,-10
hitsound = S200,3
guardsound = S120,0
guard.sparkno = S6008
ground.type = Low
air.type = High
ground.slidetime = 10
ground.hittime = 10
air.hittime = 10
guard.ctrltime = 10
ground.velocity = -4
guard.velocity = -4
air.velocity = -4
airguard.velocity = -4
ground.cornerpush.veloff = -4
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.fall = 0
fall.recover = 1
air.recover = 1
yaccel = .5

[State 430, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Medium Kick Launcher
[Statedef 440]
type = C
movetype = A
physics = C
juggle = 10
velset = 0,0
poweradd= 50
ctrl = 0
anim = 440
sprpriority = 2
hitcountpersist = 1

[State 440, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 440, HitDef]
type = HitDef
trigger1 = Movecontact!
attr = C, NA
damage = 40
animtype = Diagup
air.animtype = Diagup
fall.animtype = Up
guardflag = L
hitflag = MAF
priority = 4, Hit
pausetime = 10,10
sparkno = S6011
sparkxy = -10,-49
guard.sparkno = S6008
hitsound = S200,4
guardsound = S120,0
ground.type = High
air.type = Low
ground.slidetime = 15
ground.hittime = 15
air.hittime = 15
guard.ctrltime = 15
ground.velocity =  -1,-14
guard.velocity = -5
air.velocity =  -1,-14
airguard.velocity = -5
ground.cornerpush.veloff = -5
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
air.fall = 1
fall = 1
fall.recover = 1
air.recover = 1
yaccel = .5
fall.envshake.time = 20
fall.envshake.freq = 180
fall.envshake.ampl = -2
fall.envshake.phase = 90

[State 440, Explod]
type = Explod
trigger1 = Movehit
anim = 6002
ID = 6002
pos = 24,-73
postype = p1
facing = 1
vfacing = 1
bindtime = 10
scale = .9,.9
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 0

[State 440, ChangeState]
type = ChangeState
triggerall = (movecontact) && (!moveguarded)
trigger1 = command = "holdup"
value = 55
ctrl = 1

[State 210, ChangeState]
type = ChangeState
triggerall = var(0) = 1
trigger1 = (movecontact) && (!moveguarded)
value = 55
ctrl = 1

[State 440, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching High Kick
; CNS difficulty: easy
; Description: This move uses "Trip" for the "ground.type" parameter in
;     its HitDef. It's a special type that puts the opponent in a tripped
;     animation as he falls. Also, the hitflag parameter in the HitDef
;     is set to "MAFD". The "D" indicates that a downed opponent can be
;     hit by the attack.
[Statedef 450]
type = C
movetype = A
physics = C
juggle = 1
velset = 0,0
poweradd = 50
ctrl = 0
anim = 450
sprpriority = 2
hitcountpersist = 1

[State 450, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S200,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 450, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,2
volume = 255
ignorehitpause = 1
persistent = 1

[State 450, HitDef]
type = HitDef
trigger1 = Movecontact!
attr = C, NA
damage = 60
animtype = High
air.animtype = High
fall.animtype = High
guardflag = L
hitflag = MAFD
priority = 4, Hit
pausetime = 12,12
sparkno = S6012
sparkxy = -10,-10
guard.sparkno = S6008
hitsound = S200,5
guardsound = S120,0
ground.type = Trip
air.type = High
ground.slidetime = 20
guard.slidetime = 20
ground.hittime = 20
air.hittime = 20
guard.ctrltime = 20
ground.velocity = -6,-3
guard.velocity = -6
air.velocity = -6,-3
airguard.velocity = -6
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -6
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
yaccel = .5
air.fall = 1
fall = 1
fall.recover = 0
air.recover = 0

[State 450, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Jumping Low Punch
[Statedef 600]
type = A
movetype = A
physics = A
juggle = 1
ctrl = 0
anim = 600
poweradd = 50
sprpriority = 2
hitcountpersist = 1

[State 600, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 600, HitDef]
type = HitDef
trigger1 = Movecontact!
attr = A, NA
damage = 20
animtype = Low
air.animtype = Low
fall.animtype = Low
guardflag = HA
hitflag = MAF
priority = 4, Hit
pausetime = 8,8
sparkno = S6010
sparkxy = -10,-76
guard.sparkno = S6008
hitsound = S200,0
guardsound = S120,0
ground.type = Low
air.type = Low
ground.slidetime = 10
ground.hittime = 10
air.hittime = 10
guard.ctrltime = 10
ground.velocity = -7
guard.velocity = -7
air.velocity = -0.2,((vel y)-.1)
airguard.velocity = -7
down.velocity = 0,-7
ground.cornerpush.veloff = -7
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
air.fall = 1
fall.recover = 1
air.recover = 1
yaccel = .5

[State 600, CtrlSet]
type = CtrlSet
trigger1 = Anim = 41
value = 1
ignorehitpause = 1

[State 600, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 41
statetype = A
movetype = I
physics = A

[State 600, Changeanim]
type = Changeanim
trigger1 = AnimTime = 0
value = 41
elem = 5
persistent = 0

;[State 600, ChangeState]
;type = ChangeState
;trigger1 = AnimTime = 0
;value = 50
;ctrl = 1

;---------------------------------------------------------------------------
; Jumping Medium Punch
[Statedef 610]
type = A
movetype = A
physics = A
juggle = 1
ctrl = 0
anim = 610
poweradd = 50
sprpriority = 2
hitcountpersist = 1

[State 610, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 610, HitDef]
type = HitDef
trigger1 = Movecontact!
attr = A, NA
damage = 40
animtype = Medium
air.animtype = Medium
fall.animtype = Medium
guardflag = HA
hitflag = MAF
priority = 4, Hit
pausetime = 10,10
sparkno = S6011
sparkxy = -10,-76
guard.sparkno = S6008
hitsound = S200,1
guardsound = S120,0
ground.type = High
air.type = High
ground.slidetime = 15
ground.hittime = 15
air.hittime = 15
guard.ctrltime = 15
ground.velocity = -8
guard.velocity = -8
air.velocity = -0.4,((vel y)-.1)
airguard.velocity = -8
down.velocity = 0,-8
ground.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
air.fall = 1
fall.recover = 1
air.recover = 1
yaccel = .5

[State 610, CtrlSet]
type = CtrlSet
trigger1 = Anim = 41
value = 1
ignorehitpause = 1

[State 610, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 41
statetype = A
movetype = I
physics = A

[State 610, Changeanim]
type = Changeanim
trigger1 = AnimTime = 0
value = 41
elem = 5
persistent = 0

;[State 610, ChangeState]
;type = ChangeState
;trigger1 = AnimTime = 0
;value = 50
;ctrl = 1

;---------------------------------------------------------------------------
; Jumping High Punch
[Statedef 620]
type = A
movetype = A
physics = A
juggle = 1
ctrl = 0
anim = 620
poweradd = 50
sprpriority = 2
hitcountpersist = 1

[State 620, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S200,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 620, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,2
volume = 255
ignorehitpause = 1
persistent = 1

[State 620, Varset]
type = VarSet
trigger1 = Time = 0
var(11) = 0

[State 620, Varset]
type = VarSet
trigger1 = Hitcount >= 3
var(11) = 1

[State 620, HitDef]
type = HitDef
trigger1 = Movecontact!
attr = A, NA
damage = 60
animtype = High
air.animtype = High
fall.animtype = High
guardflag = HA
hitflag = MAF
priority = 4, Hit
pausetime = 12,12
sparkno = S6012
sparkxy = -10,-76
guard.sparkno = S6008
hitsound = S200,2
guardsound = S120,0
ground.type = High
air.type = High
ground.slidetime = 20
ground.hittime = 20
air.hittime = 20
guard.ctrltime = 20
ground.velocity = -9
guard.velocity = -9
air.velocity = -10,10
airguard.velocity = -9
ground.cornerpush.veloff = -9
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
air.fall = 1
fall.recover = 0
fall.recovertime = 1
air.recover = 0
yaccel = .5
down.bounce = 1
p2facing = 1
fall.envshake.time = 20
fall.envshake.freq = 180
fall.envshake.ampl = -2
fall.envshake.phase = 90

[State 620, VelSet]
type = VelSet
trigger1 = (P2Statetype = A) && (Movehit)
x = 0
y = -.20

[State 620, CtrlSet]
type = CtrlSet
trigger1 = Anim = 41
value = 1
ignorehitpause = 1

[State 620, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 41
statetype = A
movetype = I
physics = A

[State 620, Changeanim]
type = Changeanim
trigger1 = AnimTime = 0
value = 41
elem = 5
persistent = 0

[State 620, ScreenBound]
type = ScreenBound
triggerall = Movehit
triggerall = P2Statetype = A
trigger1 = Var(11)
trigger1 = Time >=0
value = 0

[State 620, Helper]
type = Helper
triggerall = P2Statetype = A
trigger1= (MoveHit)&&(Hitcount >= 3)
helpertype = Player
postype = p2
pos = -200,100
stateno = 914
ownpal = 1
persistent = 0

[State 620, Changestate]
type = Changestate
trigger1 = Ctrl
trigger1 = Var(11)
trigger1 = BackEdgeDist < 0
;trigger1 = time >10
value = 915

;[State 620, ChangeState]
;type = ChangeState
;trigger1 = AnimTime = 0
;value = 50
;ctrl = 1

;---------------------------------------------------------------------------
; Jumping Low Kick
[Statedef 630]
type = A
movetype = A
physics = A
juggle = 1
ctrl = 0
anim = 630
poweradd = 50
sprpriority = 2
hitcountpersist = 1

[State 630, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 630, HitDef]
type = HitDef
trigger1 = Movecontact!
attr = A, NA
damage = 20
animtype = Low
air.animtype = Low
fall.animtype = Low
guardflag = HA
hitflag = MAF
priority = 4, Hit
pausetime = 8,8
sparkno = S6010
guard.sparkno = S6008
sparkxy = -10,-66
hitsound = S200,3
guardsound = S120,0
ground.type = Low
air.type = Low
ground.slidetime = 10
ground.hittime = 10
air.hittime = 10
guard.ctrltime = 10
ground.velocity = -7
guard.velocity = -7
air.velocity = -0.2,((vel y)-.1)
airguard.velocity = -7
down.velocity = 0,-7
ground.cornerpush.veloff = -7
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
air.fall = 1
fall.recover = 1
air.recover = 1
yaccel = .5

[State 630, CtrlSet]
type = CtrlSet
trigger1 = Anim = 41
value = 1
ignorehitpause = 1

[State 630, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 41
statetype = A
movetype = I
physics = A

[State 630, Changeanim]
type = Changeanim
trigger1 = AnimTime = 0
value = 41
elem = 5
persistent = 0

;[State 630, ChangeState]
;type = ChangeState
;trigger1 = AnimTime = 0
;value = 50
;ctrl = 1

;---------------------------------------------------------------------------
; Jumping Medium Kick
[Statedef 640]
type = A
movetype = A
physics = A
juggle = 1
ctrl = 0
anim = 640
poweradd = 50
sprpriority = 2
hitcountpersist = 1

[State 640, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 640, HitDef]
type = HitDef
trigger1 = Movecontact!
attr = A, NA
damage = 40
animtype = Medium
air.animtype = Medium
fall.animtype = Medium
guardflag = HA
hitflag = MAF
priority = 4, Hit
pausetime = 10,10
sparkno = S6011
guard.sparkno = S6008
sparkxy = -10,-76
hitsound = S200,4
guardsound = S120,0
ground.type = High
air.type = High
ground.slidetime = 15
ground.hittime = 15
air.hittime = 15
guard.ctrltime = 15
ground.velocity = -8
guard.velocity = -8
air.velocity = -0.4,((vel y)-.1)
airguard.velocity = -8
down.velocity = 0,-8
ground.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
air.fall = 1
fall.recover = 1
air.recover = 1
yaccel = .5

[State 640, CtrlSet]
type = CtrlSet
trigger1 = Anim = 41
value = 1
ignorehitpause = 1

[State 640, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 41
statetype = A
movetype = I
physics = A

[State 600, Changeanim]
type = Changeanim
trigger1 = AnimTime = 0
value = 41
elem = 5
persistent = 0

;[State 640, ChangeState]
;type = ChangeState
;trigger1 = AnimTime = 0
;value = 50
;ctrl = 1

;---------------------------------------------------------------------------
; Jumping High Kick
[Statedef 650]
type = A
movetype = A
physics = A
juggle = 1
ctrl = 0
anim = 650
poweradd = 50
sprpriority = 2
hitcountpersist = 1

[State 650, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S200,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 650, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S0,2
volume = 255
ignorehitpause = 1
persistent = 1

[State 650, Varset]
type = VarSet
trigger1 = Time = 0
var(11) = 0

[State 650, Varset]
type = VarSet
trigger1 = Hitcount >= 3
var(11) = 1

[State 650, HitDef]
type = HitDef
trigger1 = Movecontact!
attr = A, NA
damage = 60
animtype = High
air.animtype = High
fall.animtype = High
guardflag = HA
hitflag = MAF
priority = 4, Hit
pausetime = 12,12
sparkno = S6012
guard.sparkno = S6008
sparkxy = -10,-76
hitsound = S200,5
guardsound = S120,0
ground.type = High
air.type = High
ground.slidetime = 20
ground.hittime = 20
air.hittime = 20
guard.ctrltime = 20
ground.velocity = -9
guard.velocity = -9
air.velocity = -10,10
airguard.velocity = -9
ground.cornerpush.veloff = -9
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.fall = 1
fall.recover = 0
air.recover = 0
yaccel = .5
down.bounce = 1
p2facing = 1
fall.envshake.time = 20
fall.envshake.freq = 180
fall.envshake.ampl = -2
fall.envshake.phase = 90

[State 650, VelSet]
type = VelSet
trigger1 = (P2Statetype = A) && (Movehit)
x = 0
y = -.20

[State 650, CtrlSet]
type = CtrlSet
trigger1 = Anim = 41
value = 1
ignorehitpause = 1

[State 650, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 41
statetype = A
movetype = I
physics = A

[State 650, Changeanim]
type = Changeanim
trigger1 = AnimTime = 0
value = 41
elem = 5
persistent = 0

[State 650, ScreenBound]
type = ScreenBound
triggerall = Movehit
triggerall = P2Statetype = A
trigger1 = Var(11)
trigger1 = Time >=0
value = 0

[State 650, Helper]
type = Helper
triggerall = P2Statetype = A
trigger1= (MoveHit)&&(Hitcount >= 3)
helpertype = Player
postype = p2
pos = -200,100
stateno = 914
ownpal = 1
persistent = 0

[State 650, Changestate]
type = Changestate
trigger1 = Ctrl
trigger1 = Var(11)
trigger1 = BackEdgeDist < 0
;trigger1 = time >10
value = 915

;[State 650, ChangeState]
;type = ChangeState
;trigger1 = AnimTime = 0
;value = 50
;ctrl = 1

;------------------------------------------------------------------------------;
;                              THROWS                                          ;
;------------------------------------------------------------------------------;
; Throw 1
[Statedef 800]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
;anim = 798
ctrl = 0

[State 800, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 798
value = 798

[State 800, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
damage = 0
hitsound = S800,0
hitflag = M
guardflag =
pausetime = 0, 0
sparkno = -1
fall = 1
fall.recover = 0
p1stateno = 801
p2stateno = 802

[State 800, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Throwing 1
[Statedef 801]
type = S
movetype = I
physics = N
velset = 0,0
anim = 800
sprpriority = 1
ctrl = 0

[State 801, VarAdd]
type = VarAdd
trigger1 = !Time
var(9) = 1

[State 801, TargetBind]
type = TargetBind
trigger1 = Anim = 800
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 23,0

[State 801, TargetBind]
type = TargetBind
trigger1 = Anim = 800
trigger1 = AnimElem = 2, >= 0
pos = -5,-138

[State 801, VarSet]
type = VarSet
trigger1 = command = "holdfwd"
trigger1 = Anim = 800
trigger1 = !AnimTime
trigger2 = Anim = 800
trigger2 = !AnimTime
var(11) = 802

[State 801, VarSet]
type = VarSet
trigger1 = command = "holdback"
trigger1 = Anim = 800
trigger1 = !AnimTime
var(11) = 803

[State 801, VarSet]
type = VarSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = Anim = 800
trigger1 = !AnimTime
var(11) = 801

[State 801, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 800
trigger1 = !AnimTime
trigger1 = var(11) != 0
value = var(11)

[State 801, TargetBind]
type = TargetBind
trigger1 = Anim = 801
trigger1 = AnimElem = 1, = 0
pos = -12,-68

[State 801, TargetBind]
type = TargetBind
trigger1 = Anim = 802
trigger1 = AnimElem = 1, = 0
pos = 17,-59

[State 801, TargetBind]
type = TargetBind
trigger1 = Anim = 803
trigger1 = AnimElem = 1, = 0
pos = -17,-54

[State 801, Explod]
type = Explod
trigger1 = Anim = 801
trigger1 = AnimElem = 1, = 0
anim = 10801
sprpriority = 2
postype = p1
pos = -7,-108
bindtime = -1
ownpal = 1
id = 10801
persistent = 0

[State 801, Explod]
type = Explod
trigger1 = Anim = 801
trigger1 = AnimElem = 1, = 0
anim = 998
sprpriority = 2
postype = p2
pos = -5,-100
removetime = 20
bindtime = -1
ownpal = 1
id = 998
persistent = 0

[State 801, Explod]
type = Explod
trigger1 = Anim = 802
trigger1 = AnimElem = 1, = 0
anim = 10802
sprpriority = 2
postype = p1
pos = 1,-105
bindtime = -1
ownpal = 1
id = 10802
persistent = 0

[State 801, Explod]
type = Explod
trigger1 = Anim = 802
trigger1 = AnimElem = 1, = 0
anim = 999
sprpriority = 2
postype = p2
pos = -40,-110
facing = facing * -1
removetime = 20
bindtime = -1
ownpal = 1
id = 999
persistent = 0

[State 801, Explod]
type = Explod
trigger1 = Anim = 803
trigger1 = AnimElem = 1, = 0
anim = 10803
sprpriority = 2
postype = p1
pos = 1,-105
bindtime = -1
ownpal = 1
id = 10803
persistent = 0

[State 801, Explod]
type = Explod
trigger1 = Anim = 803
trigger1 = AnimElem = 1, = 0
anim = 999
sprpriority = 2
postype = p2
pos = 40,-110
removetime = 20
bindtime = -1
ownpal = 1
id = 999
persistent = 0

[State 801, PlaySnd]
type = PlaySnd
trigger1 = Anim = 801 || Anim = 802 || Anim = 803
trigger1 = AnimElem = 1, = 0
value = S800,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 801, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = Anim = 801 || Anim = 802 || Anim = 803
trigger1 = AnimElem = 6, = 0
value = -150

[State 801, VarSet]
type = VarSet
trigger1 = Anim = 801 || Anim = 802 || Anim = 803
trigger1 = !AnimTime
var(6) = 0

[State 801, ChangeState]
type = ChangeState
trigger1 = Anim = 801 || Anim = 802 || Anim = 803
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Thrown 1
[Statedef 802]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0
facep2 = 1
ctrl = 0

[State 802, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 804

[State 802, ChangeAnim2]
type = ChangeAnim2
trigger1 = EnemyNear, Anim = 801
trigger1 = AnimElem = 3, = 0
value = 804
elem = 3
persistent = 0

[State 802, ChangeAnim2]
type = ChangeAnim2
trigger1 = EnemyNear, Anim = 802
trigger1 = AnimElem = 3, = 0
value = 805
elem = 3
persistent = 0

[State 802, ChangeAnim2]
type = ChangeAnim2
trigger1 = EnemyNear, Anim = 803
trigger1 = AnimElem = 3, = 0
value = 806
elem = 3
persistent = 0

[State 802, ScreenBound]
type = ScreenBound
trigger1 = AnimElem = 3, < 0
value = 0

[State 802, PosAdd]
type = PosAdd
trigger1 = Anim = 804
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
y = -13

[State 802, VelSet]
type = VelSet
trigger1 = Anim = 804
trigger1 = AnimElem = 4, = 0
y = -6.5

[State 802, Turn]
type = Turn
trigger1 = Anim = 806
trigger1 = AnimElem = 3, = 0

[State 802, PosAdd]
type = PosAdd
trigger1 = Anim = 805 || Anim = 806
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
trigger1 = BackEdgeDist > 10
x = -8.5
y = -8

[State 802, VelSet]
type = VelSet
trigger1 = Anim = 805 || Anim = 806
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
trigger1 = BackEdgeDist <= 10
x = 0
y = 0

[State 802, VelSet]
type = VelSet
trigger1 = Anim = 805 || Anim = 806
trigger1 = AnimElem = 4, = 0
x = -4.25
y = -5.25

[State 802, SelfState]
type = SelfState
trigger1 = Alive
trigger1 = !AnimTime
value = 50
ctrl = 1

[State 802, SelfState]
type = SelfState
trigger1 = !Alive
trigger1 = !AnimTime
value = 5040

;---------------------------------------------------------------------------
; Throw 2
[Statedef 820]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
;anim = 798
ctrl = 0

[State 820, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 798
value = 798

[State 820, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
damage = 0
hitsound = S800,0
hitflag = M
guardflag =
pausetime = 0, 0
sparkno = -1
fall = 1
fall.recover = 0
p1stateno = 821
p2stateno = 822

[State 800, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Throwing 2
[Statedef 821]
type = S
movetype = I
physics = N
velset = 0,0
anim = 820
sprpriority = 1
ctrl = 0

[State 821, VarSet]
type = VarSet
trigger1 = !Time
var(11) = facing

[State 821, VarAdd]
type = VarAdd
trigger1 = !Time
var(9) = 1

[State 821, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 23,0

[State 821, TargetBind]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = -5,-138

[State 821, TargetBind]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = -15,-98

[State 821, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2, = 0
value = S1000,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 821, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4, = 0
value = S5000,4
volume = 255
ignorehitpause = 1
persistent = 1

[State 821, TargetBind]
type = TargetBind
trigger1 = AnimElem = 4, = 0
pos = 60,0

[State 821, Turn]
type = Turn
trigger1 = command = "holdback2"
trigger1 = AnimElem = 3, = 0

[State 821, EnvShake]
type = EnvShake
trigger1 = AnimElem = 4, = 0
time = 10
ampl = -6

[State 821, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 4, = 0
value = -150;ceil(-196 * (fvar(0)))

[State 821, Turn]
type = Turn
trigger1 = var(11) != facing
trigger1 = !AnimTime

[State 821, VarSet]
type = VarSet
trigger1 = !AnimTime
var(11) = 0

[State 821, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Thrown 2
[Statedef 822]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0
facep2 = 1
ctrl = 0

[State 822, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 821

[State 822, ScreenBound]
type = ScreenBound
trigger1 = AnimElem = 4, < 0
value = 0

[State 822, Turn]
type = Turn
trigger1 = facing = enemyNear, facing

[State 822, VelSet]
type = VelSet
trigger1 = !AnimTime
x = -9.5
y = -8

[State 822, SelfState]
type = SelfState
trigger1 = !AnimTime
value = 5050

;---------------------------------------------------------------------------
; Throw 3
[Statedef 830]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
;anim = 798
ctrl = 0

[State 830, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 798
value = 798

[State 830, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
damage = 0
hitsound = S800,0
hitflag = M
guardflag =
pausetime = 0, 0
sparkno = -1
fall = 1
fall.recover = 0
p1stateno = 831
p2stateno = 832

[State 830, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Throwing 3
[Statedef 831]
type = S
movetype = I
physics = N
velset = 0,0
anim = 830
sprpriority = 1
ctrl = 0

[State 831, VarAdd]
type = VarAdd
trigger1 = !Time
var(9) = 1

[State 831, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 13, < 0
pos = 50,0

[State 831, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3, = 0
value = S800,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 831, Explod]
type = Explod
trigger1 = AnimElem = 1, = 0
anim = 10830
sprpriority = 2
postype = p1
pos = 20,-94
removetime = 30
bindtime = -1
ownpal = 1
id = 10830
persistent = 0

[State 831, Explod]
type = Explod
trigger1 = AnimElem = 3, = 0
anim = 997
sprpriority = 3
postype = p2
pos = 5,-94
removetime = 30
bindtime = -1
ownpal = 1
id = 997
persistent = 0

[State 831, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 13, = 0
value = -150;ceil(-171 * (fvar(0)))

[State 831, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Thrown 3
[Statedef 832]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0
facep2 = 1
ctrl = 0

[State 832, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 831

[State 832, VelSet]
type = VelSet
trigger1 = !AnimTime
x = -20
y = -4

[State 822, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 843

;---------------------------------------------------------------------------
; Throw 4
[Statedef 840]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
;anim = 797
ctrl = 0

[State 840, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 797
value = 797

[State 840, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
damage = 0
hitsound = S800,0
hitflag = M
guardflag =
pausetime = 0, 0
sparkno = -1
fall = 1
fall.recover = 0
p1stateno = 841
p2stateno = 842

[State 840, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Throwing 4
[Statedef 841]
type = S
movetype = I
physics = N
velset = 0,0
anim = 840
sprpriority = 1
ctrl = 0

[State 841, VarAdd]
type = VarAdd
trigger1 = !Time
var(9) = 1

[State 841, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 66,-102

[State 841, TargetBind]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 59,-93

[State 841, TargetBind]
type = TargetBind
trigger1 = AnimElem = 3, = 0
pos = -57,-60

[State 841, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 3, = 0
value = -150;ceil(-145 * (fvar(0)))

[State 841, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3, = 0
value = S1000,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 821, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5, = 0
value = S5000,4
volume = 255
ignorehitpause = 1
persistent = 1

[State 841, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Thrown 4
[Statedef 842]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0
facep2 = 1
ctrl = 0

[State 842, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 841

[State 842, ScreenBound]
type = ScreenBound
trigger1 = AnimElem = 3, < 0
value = 0

[State 842, Turn]
type = Turn
trigger1 = !Time
trigger1 = facing = enemyNear, facing

[State 842, Turn]
type = Turn
trigger1 = !AnimTime

[State 842, VelSet]
type = VelSet
trigger1 = !AnimTime
x = -20
y = -4

[State 842, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 843

;---------------------------------------------------------------------------
; Thrown 5
[Statedef 843]
type = A
movetype = H
physics = N
anim = 5050
sprpriority = 0
ctrl = 0

[State 843, PosSet]
type = PosSet
trigger1 = !Time
y = -10

[State 843, Gravity]
type = Gravity
trigger1 = Pos Y < 0

[State 843, PosFreeze]
type = PosFreeze
trigger1 = BackEdgeBodyDist < 5
time = 15
persistent = 0

[State 843, VelSet]
type = VelSet
trigger1 = BackEdgeBodyDist < 5
x = 0.75
y = 1.5
persistent = 0

[State 843, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 843, VelSet]
type = VelSet
trigger1 = Pos Y >= 0
y = 0

[State 843, EnvShake]
type = EnvShake
trigger1 = Pos Y = 0
trigger1 = Vel Y = 0
trigger2 = BackEdgeBodyDist < 5
time = 10
ampl = -6

[State 843, SelfState]
type = SelfState
trigger1 = Pos Y = 0
trigger1 = Vel Y = 0
value = 5100

;---------------------------------------------------------------------------
; Throw Forward 6
[Statedef 850]
type = A
movetype = A
physics = A
poweradd = 100
;anim = 799
ctrl = 0

[State 850, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 796
value = 799

[State 850, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
damage = 0
hitsound = S800,0
hitflag = AF
guardflag =
pausetime = 0, 0
sparkno = -1
fall = 1
fall.recover = 0
p1stateno = 851
p2stateno = 852

[State 850, VarAdd]
type = VarAdd
trigger1 = HitCount = 1
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 850, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Throwing Forward 6
[Statedef 851]
type = A
movetype = I
physics = N
velset = 0,0
anim = 850
sprpriority = 1
ctrl = 0

[State 851, VarAdd]
type = VarAdd
trigger1 = !Time
var(9) = 1

[State 851, ChangeAnim]
type = ChangeAnim
trigger1 = Pos Y < -75
value = 850
elem = 1

[State 851, VarSet]
type = VarSet
trigger1 = !Time
var(11) = 0

[State 851, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4, = 0
value = S800,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 851, Explod]
type = Explod
trigger1 = AnimElem = 3, = 0
anim = 10850
sprpriority = 2
postype = p1
pos = 0,-84
bindtime = -1
ownpal = 1
id = 10850
persistent = 0

[State 851, Explod]
type = Explod
trigger1 = AnimElem = 3, = 0
anim = 996
sprpriority = 2
postype = p2
pos = 7,0
removetime = 8
bindtime = -1
ownpal = 1
id = 996
persistent = 0

[State 851, VelAdd]
type = VelAdd
trigger1 = AnimElem = 3, = 0
y = 1

[State 851, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 21,-91

[State 851, TargetBind]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 38,-82

[State 851, TargetBind]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = 13,-57

[State 851, TargetBind]
type = TargetBind
trigger1 = AnimElem = 4, = 0
pos = 0,0

[State 851, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 4, = 0
value = -145

[State 851, Gravity]
type = Gravity
trigger1 = AnimElem = 1

[State 851, VelSet]
type = VelSet
trigger1 = Pos Y >= 0
y = 0
persistent = 0

[State 851, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0
persistent = 0

[State 851, VelSet]
type = VelSet
trigger1 = Vel Y = 0
trigger1 = Pos Y = 0
trigger2 = !AnimTime
x = -3.25
y = -8.25

[State 851, ChangeState]
type = ChangeState
trigger1 = Vel Y = 0
trigger1 = Pos Y = 0
trigger2 = !AnimTime
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Thrown 6
[Statedef 852]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0
facep2 = 1
ctrl = 0

[State 852, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 851

[State 852, ChangeAnim2]
type = ChangeAnim2
trigger1 = enemyNear, Pos Y < -75
value = 851
elem = 1

[State 852, ScreenBound]
type = ScreenBound
trigger1 = AnimElem = 4, < 0
value = 0

[State 852, VelSet]
type = VelSet
trigger1 = AnimElem = 4, = 1
y = 24

[State 852, VelSet]
type = VelSet
trigger1 = Pos Y >= 0
y = 0
persistent = 0

[State 852, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0
persistent = 0

[State 852, EnvShake]
type = EnvShake
trigger1 = Pos Y = 0
trigger1 = Vel Y = 0
time = 10
ampl = -6

[State 852, SelfState]
type = SelfState
trigger1 = Pos Y = 0
trigger1 = Vel Y = 0
value = 5100

;---------------------------------------------------------------------------;
;                          CUSTOM MVC2 SYSTEM                               ;
;---------------------------------------------------------------------------;
; Rolling Forward
[Statedef 900]
type = S
physics = N
movetype= I
anim = 900
ctrl = 0
velset = 0,0
sprpriority = -2

[State 900, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 10
range = 0,1
ignorehitpause = 1

[State 900, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger1 = var(10) = 0
value = S200,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 900, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = var(10) = 1
value = S1000,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 900, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S52,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 900, MakeDust]
type = MakeDust
trigger1 = Animelem = 3
trigger2 = Animelem = 4
trigger3 = Animelem = 5
trigger4 = Animelem = 6
pos = 0,0
spacing = 2
ignorehitpause = 1
persistent = 1

[State 900, Pause]
type = Pause
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = time = 0
time = 3
movetime = 3
ignorehitpause = 1

[State 900, PalFX]
type = PalFX
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = time = 0
time = 3
add = 100,100,100
mul = 256,256,256
sinadd = -80,-80,-80,4
invertall = 0
color = 0

[State 900, PowerAdd]
type = PowerAdd
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = AnimElem = 1
value = -500

[State 900, VelSet]
type = VelSet
trigger1 = AnimElem = 3
x = 8

[State 900, VelSet]
type = VelSet
trigger1 = AnimElem = 10
x = 0

[State 900, HitBy]
type = HitBy
trigger1 = time <= 20
value = SCA, NT,ST,HT

[State 900, PlayerPush]
type = PlayerPush
trigger1 = AnimElemTime(2) > 0
value = 0

[State 900, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; Rolling Backward
[Statedef 901]
type = S
physics = N
movetype= I
anim = 901
ctrl = 0
velset = 0,0
sprpriority = -2

[State 901, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 10
range = 0,1
ignorehitpause = 1

[State 901, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger1 = var(10) = 0
value = S200,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 901, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger1 = var(10) = 1
value = S1000,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 901, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S52,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 901, Pause]
type = Pause
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = time = 0
time = 3
movetime = 3
ignorehitpause = 1

[State 901, MakeDust]
type = MakeDust
trigger1 = Animelem = 3
trigger2 = Animelem = 4
trigger3 = Animelem = 5
trigger4 = Animelem = 6
pos = 0,0
spacing = 2
ignorehitpause = 1
persistent = 1

[State 901, PalFX]
type = PalFX
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = time = 0
time = 3
add = 100,100,100
mul = 256,256,256
sinadd = -80,-80,-80,4
invertall = 0
color = 0

[State 901, PowerAdd]
type = PowerAdd
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = AnimElem = 1
value = -500

[State 901, VelSet]
type = VelSet
trigger1 = AnimElem = 3
x = -8

[State 901, VelSet]
type = VelSet
trigger1 = AnimElem = 10
x = 0

[State 901, HitBy]
type = HitBy
trigger1 = time <= 22
value = SCA, NT,ST,HT

[State 901, PlayerPush]
type = PlayerPush
trigger1 = AnimElemTime(4) > 0
value = 0

[State 901, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Alpha Counter
[Statedef 902]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 902
sprpriority = 2

[State 902, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA, NP, SP
time = 20

[State 902, Pause]
type = Pause
trigger1 = Anim = 902
trigger1 = AnimElem = 2
movetime = 30
time = 30

[State 902, PowerAdd]
type = PowerAdd
trigger1 = Anim = 902
trigger1 = AnimElem = 2
value = -1000

[State 902, PlaySnd]
type = PlaySnd
trigger1 = Anim = 902
trigger1 = AnimElem = 2
value = S900, 0
volume = 255
ignorehitpause = 1
persistent = 1

[State 902, PlaySnd]
type = PlaySnd
trigger1 = Anim = 902
trigger1 = AnimElem = 2
value = S900, 1
volume = 255
ignorehitpause = 1
persistent = 1

[State 902, PlaySnd]
type = PlaySnd
trigger1 = Anim = 902
trigger1 = AnimElem = 2
value = S900, 2
volume = 255
ignorehitpause = 1
persistent = 1

[State 902, EnvColor]
type = EnvColor
trigger1 = Anim = 902
trigger1 = AnimElem = 2
value = 250,250,250
time = 1

[State 902, Explod]
type = Explod
trigger1 = Anim = 902
trigger1 = AnimElem = 2
anim = 6004
scale = .6,.6
ontop = 1
ownpal = 1
pausemovetime = -1
sprpriority = 2
postype = p1
pos = 40,-100
bindtime = -1
removetime = 16

[State 902, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 902
trigger1 = AnimTime = 0
value = 905

[State 902, PlaySnd]
type = PlaySnd
trigger1 = Anim = 905
trigger1 = AnimElem = 3
value = S0, 2
volume = 255
ignorehitpause = 1
persistent = 1

;[State 902, PlaySnd]
;type = PlaySnd
;trigger1 = Anim = 252
;trigger1 = AnimElem = 3
;value = S200, 6
;volume = 255
;ignorehitpause = 1
;persistent = 1

[State 902, Width]
type = Width
trigger1 = Anim = 905
trigger1 = AnimElem = 4, >= 0
value = 60,-30

[State 902, Width]
type = Width
trigger1 = Anim = 905
trigger1 = AnimElem = 6, >= 0
value = 20,0

[State 902, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S,SA
damage = 150
animtype = High
hitflag = MAF
priority = 4, Hit
pausetime = 10,10
sparkno = S6012
sparkxy = -10,-80
guard.sparkno = S6008
hitsound = S200,5
guardsound = S120,0
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
air.hittime = 20
guard.ctrltime = 20
ground.velocity = -6,-6
guard.velocity = -6
air.velocity = -6,-6
airguard.velocity = -6
ground.cornerpush.veloff = -6
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
air.fall = 1
fall.recover = 1
air.recover = 1
fall = 1
yaccel = .5
p2stateno = 903
fall.envshake.time = 20
fall.envshake.freq = 180
fall.envshake.ampl = -2
fall.envshake.phase = 90

[State 902, Explod]
type = Explod
trigger1 = MoveHit
anim = 903	;Spin Spark
id = 903
pos = 0,-20
ontop = 1
postype = p2
bindtime = -1
persistent = 0
removetime = 35
ownpal = 1

[State 902, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Spun by Counter 1
[Statedef 903]
type    = A
movetype= H
physics = N
velset = 0,0

[State 903, ChangeAnim2]
type = ChangeAnim2
trigger1 = 1
value = 904

[State 903, PosAdd]
type = PosAdd
trigger1 = Time = 0
y = -40

[State 903, ChangeState]
type = ChangeState
trigger1 = HitShakeOver
value = 904

;---------------------------------------------------------------------------
; Spun by Counter 2
[Statedef 904]
type    = A
movetype= H
physics = N
velset = 0,0

[State 904, HitVelSet]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 904, VelAdd]
type = VelAdd
trigger1 = 1
y = .4

[State 904, SelfState]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground

;-------------------------------------------------------------------------------
; Air Dash Forward
[Statedef 905]
type    = A
physics = N
velset = 0,0
anim = 907
ctrl = 0

[State 905, VarSet]
type = VarSet
trigger1 = time = 0
v = 12
value = 0
ignorehitpause = 1

[State 905, Explod]
type = Explod
trigger1 = (time%4) = 1
ID = 6005
anim = 6005
postype = p1
facing = 1
vfacing = 1
pos = -50,-90
bindtime = 1
removetime = 8
ontop = 1
ownpal = 1
random = 50,90
sprpriority = 3
scale = .6,.6
supermovetime = 999
pausemovetime = 999
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 905, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S100,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 905, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S200,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 905, VelSet]
type = VelSet
trigger1 = time = 0
x = 9

[State 905, VarAdd]
type = VarAdd
Trigger1 = Time > 0
Trigger1 = var(12) >= 0
var(12) = 1

[State 905, ChangeState]
type = ChangeState
Trigger1 = var(12) >= 20
value = 906
ctrl = 1

;-----------------------------------------------------------------------------
; Air Dash Forward End
[Statedef 906]
type    = A
physics = A
Anim = 908

[State 906, VarSet]
type = VarSet
trigger1 = time = 0
v = 12
value = 0
ignorehitpause = 1

[State 906, VelSet]
type = VelSet
Trigger1 = Time = 0
x = 6

[State 906, Turn]
type = Turn
Trigger1 = Time = 0
Trigger1 = P2bodydist x < -30

[State 906, ChangeState]
type = ChangeState
Trigger1 = Time >= 0
Trigger1 = Pos Y > -1
value = 52

;-----------------------------------------------------------------------------
; Air Dash Backward
[Statedef 907]
type    = A
physics = N
velset = 0,0
anim = 909
ctrl = 0

[State 907, VarSet]
type = VarSet
trigger1 = time = 0
v = 12
value = 0
ignorehitpause = 1

[State 907, Explod]
type = Explod
trigger1 = (time%4) = 1
ID = 6005
anim = 6005
postype = p1
facing = 1
vfacing = 1
pos = 60,-80
bindtime = 1
removetime = 8
ontop = 1
ownpal = 1
random = 60,80
sprpriority = 3
scale = .6,.6
supermovetime = 999
pausemovetime = 999
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 907, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S100,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 907, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S200,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 907, VelSet]
type = VelSet
trigger1 = time = 0
x = -8

[State 907, VarAdd]
type = VarAdd
Trigger1 = Time > 0
Trigger1 = var(12) <= 0
var(12) = -1

[State 907, ChangeState]
type = ChangeState
Trigger1 = var(12) <= -10
value = 908
ctrl = 1

;----------------------------------------------------------------------------
; Air Dash Backward End
[Statedef 908]
type    = A
physics = A
Anim = 910

[State 908, VarSet]
type = VarSet
trigger1 = time = 0
v = 12
value = 0
ignorehitpause = 1

[State 908, VelSet]
type = VelSet
Trigger1 = Time = 0
x = -4

[State 908, Turn]
type = Turn
Trigger1 = Time = 0
Trigger1 = P2bodydist x < -10

[State 908, ChangeState]
type = ChangeState
Trigger1 = Time >= 0
Trigger1 = Pos Y > -1
value = 52

;-----------------------------------------------------------------------------
; Advance Guard Standing
[Statedef 909]
type    = S
movetype= I
physics = N
poweradd = 0
velset = 10,0
ctrl = 0
anim = 911
sprpriority = 2

[State 909, VelMul]
type = VelMul
trigger1 = 1
x = 0.75

[State 909, VelSet]
type = VelSet
trigger1 = Time = 10
x = 0

[State 909, Width]
type = Width
trigger1 = 1
value = 10,0

[State 909, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 20

[State 909, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S120,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 909, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 909, Explod]
type = Explod
trigger1 = Time = 0
anim = 6009
ID = 6009
pos = 60, -60
stateno = 913
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 7
scale = 1,1

[State 909, Helper]
type = Helper
trigger1 = Time = 0
helpertype = Normal
name = "Advance Guard Helper"
postype = P1
pos = -50,0
stateno = 913
ownpal = 1
size.height = 200
size.ground.back = 30
size.ground.front = 30

[State 909, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------------------
; Advance Guard Crouching
[Statedef 910]
type = C
movetype = I
physics = N
poweradd = 0
velset = 10,0
ctrl = 0
anim = 912
sprpriority = 2

[State 910, VelMul]
type = VelMul
trigger1 = 1
x = 0.75

[State 910, VelSet]
type = VelSet
trigger1 = Time = 10
x = 0

[State 910, Width]
type = Width
trigger1 = 1
value = 10,0

[State 910, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 20

[State 910, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S120,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 910, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 910, Explod]
type = Explod
trigger1 = Time = 0
anim = 6009
ID = 6009
pos = 60, -30
stateno = 913
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 7
scale = 1,1

[State 910, Helper]
type = Helper
trigger1 = Time = 0
helpertype = Normal
name = "Advance Guard Helper"
postype = P1
pos = -50,0
stateno = 913
ownpal = 1
size.height = 200
size.ground.back = 30
size.ground.front = 30

[State 910, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------------------
; Advance Guard Jumping
[Statedef 911]
type    = A
movetype= I
physics = N
poweradd= 0
velset = 10,0
ctrl = 0
anim = 913
sprpriority = 2

[State 911, VelMul]
type = VelMul
trigger1 = 1
x = 0.75

[State 911, VelSet]
type = VelSet
trigger1 = Time = 10
x = 0

[State 911, Width]
type = Width
trigger1 = 1
value = 10,0

[State 911, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 20

[State 911, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S120,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 911, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S200,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 911, Explod]
type = Explod
trigger1 = Time = 0
anim = 6009
ID = 6009
pos = 60, -60
stateno = 913
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = 7
scale = 1,1

[State 911, Helper]
type = Helper
trigger1 = Time = 0
helpertype = Normal
name = "Advance Guard Helper"
postype = P1
pos = -50,0
stateno = 913
ownpal = 1
size.height = 200
size.ground.back = 30
size.ground.front = 30

[State 911, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 912

;-----------------------------------------------------------------------------
; Advance Guard Jumping End
[Statedef 912]
type = A
movetype = I
physics = A
ctrl = 1
anim = 914
sprpriority = 2

[State 912, Change]
type = ChangeState
trigger1 = Pos Y >= 0
value = 52
ctrl = 0

;-----------------------------------------------------------------------------
; Advance Guard Helper
[Statedef 913]
type = S
movetype = I
physics = N
poweradd = 0
ctrl = 0
anim = 915
sprpriority = -4

[State 913, PlayerPush]
type = PlayerPush
trigger1 = Time >= 0
value = 1

[State 913, VelSet 1]
type = VelSet
trigger1 = Time = [0,10]
x = 30

[State 913, VelSet 2]
type = VelSet
trigger1 = Time = [11,13]
x = 20

[State 913, VelSet 2]
type = VelSet
trigger1 = Time >= 14
x = 10

[State 913, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 913, DestroySelf]
type = DestroySelf
trigger1 = Time >= 20

;-------------------------------------------------------------------------------
; Air Combo Dash-In Helper
[Statedef 914]
type    = S
movetype= H
physics = N
anim = 6020
velset = -5,5

[State 914, Destroyself]
type = Destroyself
trigger1 = Time >= 20

;------------------------------------------------------------------------------;
; Air Combo Dash-In Helper 2
[Statedef 915]
type    = A
movetype= I
physics = N
poweradd= 0
ctrl = 0
Velset = 0,0
anim = 916
sprpriority = 1
HitCountPersist = 1

[State 915, Explod]
type = Explod
trigger1 = (time%4) = 1
ID = 6005
anim = 6005
postype = p1
facing = 1
vfacing = 1
pos = -21,-63
bindtime = 1
removetime = 6
ontop = 1
vel = 0,0
ownpal = 1
random = 21,63
sprpriority = 3
scale = .6,.6
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 915, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 1
value = S100, 0
volume = 255
ignorehitpause = 1
persistent = 1

[State 915, Screenbound]
type = Screenbound
trigger1 = BackedgeDist < 0
value = 0

[State 915, VelSet]
type= VelSet
trigger1 = Time = 0
x = 0
persistent = 0

[State 915 , PosAdd]
type = PosAdd
trigger1 = Time = 0
x = -BackEdgeDist-100
y = -Pos Y
persistent = 0

[State 915, StateTypeSet]
type = StateTypeSet
trigger1 = Time = 0
Statetype = S

[State 915, VelSet]
type = VelSet
trigger1 = 1
x = 5

[State 915, CtrlSet]
type = CtrlSet
trigger1 = Time >= 2
trigger1 = BackEdgeDist > 0
value = 1

[State 915, Makedust]
type = Makedust
trigger1 = Vel X > 4
pos = -5,-2
spacing = 3

[State 915, AssertSpecial]
type = AssertSpecial
trigger1 = BackEdgeDist >0
flag = NoWalk

[State 915, AssertSpecial]
type = AssertSpecial
trigger1 = BackEdgeDist >0
flag = NoAutoTurn

[State 915, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 916
trigger1 = BackedgeDist > 0
physics = S

[State 915, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 15
value = S52,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 915, ChangeState]
type = ChangeState
trigger1 = BackedgeDist > 50
value = 0
ctrl = 1

;---------------------------------------------------------------------------;
;                                SPECIAL MOVES                              ;
;---------------------------------------------------------------------------;
; Optic Blast X
[StateDef 1000]
type = C
movetype = A
physics = C
velset = 0,0
poweradd = 100
juggle  = 1
ctrl = 0
anim = 1000
sprpriority = 1
hitcountpersist = 1

[State 1000, Explod]
type = Explod
trigger1 = time = 0
anim = 6006
ID = 6006
pos = 0,20
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = .9,.9
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1000, Width]
type = Width
trigger1 = AnimElemTime(8) = -1
value = 30,0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1000,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S800,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 1001
ID = 1001
pos = 7,-64
postype = p1
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 2
ontop = 0
ownpal = 0
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1000, Helper]
type = Helper
trigger1 = AnimElem = 4
helpertype = Normal
name = "Optic Blast X Beam"
ID = 1001
stateno = 1001
pos = 7,-64
postype = p1
facing = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 1
removeongethit = 1

[State 1000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Optic Blast X Beam
[Statedef 1001]
type = S
movetype = A
physics = N
velset = 0,0
juggle  = 1
anim = 1001
ctrl = 0
sprpriority = 1
hitcountpersist = 1

[State 1001, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1
persistent = 1

[State 1001, HitDef]
type = HitDef
triggerall = EnemyNear, Anim != 5070
trigger1 = !MoveContact
trigger2 = (GameTime%4) = 0
attr = C,SP
animtype = Low
air.animtype = Low
fall.animtype = Low
damage = 24,12
sprpriority = 1
hitflag = MAF
guardflag = MA
pausetime = 2,2
sparkno = S6007
sparkxy = 0,0
hitsound = S200,8
guardsound = S120,0
guard.sparkno = S997
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
air.hittime = 20
guard.ctrltime = 20
guard.hittime = 4
ground.velocity = -8,0
guard.velocity = -8
air.velocity = -4.5, -6
airguard.velocity = -5.33,-1
air.juggle = 0
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
envshake.time = 8
envshake.ampl = 2
palfx.time = 12
palfx.add = 255,255,255
palfx.mul = 128,128,128
forcestand = 1
yaccel = .5

[State 1001, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1001, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 1001
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1001, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1001, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 1000
trigger2 = !AnimTime

;---------------------------------------------------------------------------
; Optic Blast Y
[StateDef 1002]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1002
poweradd = 100
hitcountpersist = 1

[State 1002, Explod]
type = Explod
trigger1 = time = 0
anim = 6006
ID = 6006
pos = 0,20
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = .9,.9
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1002, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1000,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 1002, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S800,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 1002, Width]
type = Width
trigger1 = AnimElemTime(8) = -1
value = 30,0

[State 1002, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 1001
sprpriority = 2
postype = p1
facing = 1
vfacing = 1
bindtime = -1
ontop = 1
ownpal = 1
pos = 9,-98
ownpal = 1
id = 1001
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1002, Helper]
type = Helper
trigger1 = AnimElem = 4
helpertype = Normal
name = "Optic Blast Y Beam"
ID = 1003
stateno = 1003
pos = 9,-98
postype = p1
facing = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 1

[State 1002, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Optic Blast Y Beam
[Statedef 1003]
type = S
movetype = A
physics = N
juggle  = 1
velset = 0,0
anim = 1001
ctrl = 0
hitcountpersist = 1

[State 1003, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1
persistent = 1

[State 1003, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
trigger2 = (GameTime%4) = 0
attr = C,SP
animtype = Medium
air.animtype = Medium
fall.animtype = Medium
damage = 24,12
sprpriority = 1
hitflag = MAF
guardflag = MA
pausetime = 2,2
sparkno = S6007
sparkxy = 0,0
hitsound = S200,8
guardsound = S120,0
guard.sparkno = S997
ground.type = High
ground.slidetime = 20
ground.hittime = 20
air.hittime = 20
guard.ctrltime = 20
guard.hittime = 4
ground.velocity = -8,0
guard.velocity = -8
air.velocity = -4.5, -6
airguard.velocity = -5.33,-1
air.juggle = 0
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
envshake.time = 8
envshake.ampl = 2
palfx.time = 12
palfx.add = 255,255,255
palfx.mul = 128,128,128
forcestand = 1
yaccel = .5

[State 1003, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1003, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 1002
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1003, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1003, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 1002
trigger2 = !AnimTime

;---------------------------------------------------------------------------
; Optic Blast Z
[Statedef 1004]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
juggle  = 1
ctrl = 0
anim = 1003
hitcountpersist = 1

[State 1004, Explod]
type = Explod
trigger1 = time = 0
anim = 6006
ID = 6006
pos = 0,20
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = .9,.9
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1004, Width]
type = Width
trigger1 = AnimElemTime(8) = -1
value = 30,0

[State 1004, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1000,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 1004, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S800,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 1004, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 1004
sprpriority = 2
postype = p1
pos = 12,-105
facing = 1
vfacing = 1
bindtime = -1
ontop = 1
ownpal = 1
id = 1004
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1004, Helper]
type = Helper
trigger1 = AnimElem = 4
helpertype = Normal
name = "Optic Blast Z Beam"
ID = 1005
stateno = 1005
pos = 12,-105
postype = p1
facing = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 1
removeongethit = 1

[State 1004, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Optic Blast Z Beam
[Statedef 1005]
type = S
movetype = A
physics = N
velset = 0,0
anim = 1004
sprpriority = 2
ctrl = 0
hitcountpersist = 1

[State 1005, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1
persistent = 1

[State 1005, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
trigger2 = (GameTime%6) = 0
attr = S, SP
animtype = High
air.animtype = High
fall.animtype = High
damage = 24,12
sprpriority = 1
hitflag = MAF
guardflag = MA
pausetime = 2,2
sparkno = S6007
sparkxy = 6,-52;12,-105
hitsound = S200,8
guardsound = S120,0
guard.sparkno = S999
ground.type = High
ground.slidetime = 20
ground.hittime = 20
air.hittime = 20
guard.ctrltime = 20
guard.hittime = 6
ground.velocity = -8,0
guard.velocity = -8
air.velocity = -4.5, -6
airguard.velocity = -5.33,-1
air.juggle = 0
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
envshake.time = 8
envshake.ampl = 2
palfx.time = 12
palfx.add = 255,255,255
palfx.mul = 128,128,128
forcestand = 1
yaccel = .5

[State 1005, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1005, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 1005
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1005, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1005, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 1004
trigger2 = !AnimTime

;---------------------------------------------------------------------------
; Air Optic Blast X
[Statedef 1006]
type = A
movetype = A
physics = N
sprpriority = 2
poweradd = 100
juggle  = 1
ctrl = 0
anim = 1005
hitcountpersist = 1

[State 1006, VelMul]
type = VelMul
trigger1 = !Time
x = .150;.075
y = .250;.125

[State 1006, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1000,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 1006, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S800,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 1006, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 1006
sprpriority = 1
postype = p1
pos = 16,-110
facing = 1
vfacing = 1
bindtime = -1
ontop = 1
ownpal = 1
id = 1006
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1006, Helper]
type = Helper
trigger1 = AnimElem = 4
helpertype = Normal
stateno = 1007
postype = p1
pos = 16,-110
bindtime = -1
ownpal = 1
id = 1007
name = "Air Optic Blast X Beam"
facing = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 1

[State 1006, Width]
type = Width
trigger1 = Animelemtime(2)=-1 || Animelemtime(5)=-1
value = 27,0

[State 1006, PosSet]
type = PosSet
trigger1 = Pos Y > -5
y = -5

[State 1006, CtrlSet]
type = CtrlSet
trigger1 = Anim = 41
value = 1
ignorehitpause = 1

[State 1006, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 41
statetype = A
movetype = I
physics = A

[State 1006, Changeanim]
type = Changeanim
trigger1 = AnimTime = 0
value = 41
elem = 5
persistent = 0

;[State 1006, ChangeState]
;type = ChangeState
;trigger1 = !AnimTime
;value = 50
;ctrl = 1

;---------------------------------------------------------------------------
; Air Optic Blast X Beam
[Statedef 1007]
type = A
movetype = A
physics = N
juggle = 1
velset = 0,0
anim = 1006
ctrl = 0
hitcountpersist = 1

[State 1007, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1
persistent = 1

[State 1007, HitDef]
type = HitDef
triggerall = EnemyNear, Anim != 5070
trigger1 = !MoveContact
trigger2 = (GameTime%5) = 0
attr = A, SP
animtype = Low
air.animtype = Low
fall.animtype = Low
damage = 24,12
sprpriority = 1
hitflag = MAFD
guardflag = MA
pausetime = 2,2
sparkno = S6007
sparkxy = -16,110;16,-110
hitsound = S200,8
guardsound = S120,0
guard.sparkno = S10999
ground.type = High
ground.slidetime = 20
ground.hittime = 20
air.hittime = 20
guard.ctrltime = 20
guard.hittime = 4
ground.velocity = -8
guard.velocity = -8
air.velocity = -5.5, 7.5
airguard.velocity = -5.33,-1
air.juggle = 1
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
envshake.time = 8
envshake.ampl = 2
palfx.time = 12
palfx.add = 255,255,255
palfx.mul = 128,128,128
forcestand = 1
yaccel = .5

[State 1007, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1007, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 1007
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1007, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1007, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 1006
trigger2 = !AnimTime

;---------------------------------------------------------------------------
; Air Optic Blast Y
[Statedef 1008]
type = A
movetype = A
physics = N
sprpriority = 0
poweradd = 100
juggle  = 1
ctrl = 0
anim = 1007
hitcountpersist = 1

[State 1008, VelMul]
type = VelMul
trigger1 = !Time
x = .150;.075
y = .250;.125

[State 1008, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1000,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 1008, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S800,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 1008, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 1001
sprpriority = 1
postype = p1
facing = 1
vfacing = 1
bindtime = -1
ontop = 1
ownpal = 1
pos = 33,-103
id = 1001
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1008, Helper]
type = Helper
trigger1 = AnimElem = 4
helpertype = Normal
stateno = 1009
postype = p1
pos = 33,-103
bindtime = -1
id = 1009
name = "Air Optic Blast Y Beam"
facing = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 1

[State 1008, Width]
type = Width
trigger1 = Animelemtime(2)=-1 || Animelemtime(5)=-1
value = 27,0

[State 1008, PosSet]
type = PosSet
trigger1 = Pos Y > -5
y = -5

[State 1008, CtrlSet]
type = CtrlSet
trigger1 = Anim = 41
value = 1
ignorehitpause = 1

[State 1008, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 41
statetype = A
movetype = I
physics = A

[State 1008, Changeanim]
type = Changeanim
trigger1 = AnimTime = 0
value = 41
elem = 5
persistent = 0

;[State 1008, ChangeState]
;type = ChangeState
;trigger1 = !AnimTime
;value = 50
;ctrl = 1

;---------------------------------------------------------------------------
; Air Optic Blast Y Beam
[Statedef 1009]
type = S
movetype = A
physics = N
juggle = 1
velset = 0,0
anim = 1001
ctrl = 0
hitcountpersist = 1

[State 1009, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1
persistent = 1

[State 1009, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
trigger2 = (GameTime%4) = 0
attr = A, SP
animtype = Medium
air.animtype = Medium
fall.animtype = Medium
damage = 24,12
sprpriority = 1
hitflag = MAF
guardflag = MA
pausetime = 2,2
sparkno = S6007
sparkxy = 0,0;33,-103
hitsound = S200,8
guardsound = S120,0
guard.sparkno = S997
ground.type = High
ground.slidetime = 20
ground.hittime = 20
air.hittime = 20
guard.ctrltime = 20
guard.hittime = 4
ground.velocity = -8
guard.velocity = -8
air.velocity = -5.5, 7.5
airguard.velocity = -5.33,-1
air.juggle = 1
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
envshake.time = 8
envshake.ampl = 2
palfx.time = 12
palfx.add = 255,255,255
palfx.mul = 128,128,128
forcestand = 1
yaccel = .5

[State 1009, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1009, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 1009
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1009, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1009, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 1008
trigger2 = !AnimTime

;---------------------------------------------------------------------------
; Air Optic Blast Z
[Statedef 1010]
type = A
movetype = A
physics = N
sprpriority = 0
poweradd = 100
juggle  = 1
ctrl = 0
anim = 1008
hitcountpersist = 1

[State 1010, VelMul]
type = VelMul
trigger1 = !Time
x = .150;.075
y = .250;.125

[State 1010, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1000,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 1010, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S800,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 1010, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 1004
sprpriority = 1
postype = p1
pos = 13,-116
id = 1004
facing = 1
vfacing = 1
bindtime = -1
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1010, Helper]
type = Helper
trigger1 = AnimElem = 4
stateno = 1011
postype = p1
pos = 13,-116
bindtime = -1
ownpal = 1
id = 1011
name = "Air Optic Blast Z Beam"
facing = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 1

[State 1010, Width]
type = Width
trigger1 = Animelemtime(2)=-1 || Animelemtime(5)=-1
value = 27,0

[State 1010, PosSet]
type = PosSet
trigger1 = Pos Y > -5
y = -5

[State 1010, CtrlSet]
type = CtrlSet
trigger1 = Anim = 41
value = 1
ignorehitpause = 1

[State 1010, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 41
statetype = A
movetype = I
physics = A

[State 1010, Changeanim]
type = Changeanim
trigger1 = AnimTime = 0
value = 41
elem = 5
persistent = 0

;[State 1010, ChangeState]
;type = ChangeState
;trigger1 = !AnimTime
;value = 50
;ctrl = 1

;---------------------------------------------------------------------------
; Air Optic Blast Z Beam
[Statedef 1011]
type = S
movetype = A
physics = N
juggle = 1
velset = 0,0
anim = 1004
ctrl = 0
hitcountpersist = 1

[State 1011, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1
persistent = 1

[State 1011, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
trigger2 = (GameTime%6) = 0
attr = A, SP
animtype = High
air.animtype = High
fall.animtype = High
damage = 24,12
sprpriority = 1
hitflag = MAF
guardflag = MA
pausetime = 2,2
sparkno = S6007
sparkxy = 0,0
hitsound = S200,8
guardsound = S120,0
guard.sparkno = S999
ground.type = High
ground.slidetime = 20
ground.hittime = 20
air.hittime = 20
guard.ctrltime = 20
guard.hittime = 4
ground.velocity = -8
guard.velocity = -8
air.velocity = -5.5, 7.5
airguard.velocity = -5.33,-1
air.juggle = 1
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
envshake.time = 8
envshake.ampl = 2
palfx.time = 12
palfx.add = 255,255,255
palfx.mul = 128,128,128
forcestand = 1
yaccel = .5

[State 1011, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1011, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 1011
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1011, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1011, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 1010
trigger2 = !AnimTime

;---------------------------------------------------------------------------
; Optic Sweep XYZ
[Statedef 1012]
type = C
movetype = A
physics = C
velset = 0,0
poweradd = 100
juggle  = 1
ctrl = 0
anim = 1009
sprpriority = 1
hitcountpersist = 1

[State 1012, Explod]
type = Explod
trigger1 = time = 0
anim = 6006
ID = 6006
pos = 0,20
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = .9,.9
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1012, Width]
type = Width
trigger1 = AnimElemTime(8) = -1
value = 30,0

[State 1012, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1000,4
volume = 255
ignorehitpause = 1
persistent = 1

[State 1012, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = S800,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 1012, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 1010
sprpriority = 1
postype = p1
pos = -6,0
facing = 1
vfacing = 1
bindtime = -1
ontop = 1
ownpal = 1
id = 1010
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1012, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 1011
sprpriority = 1
postype = p1
pos = -6,0
facing = 1
vfacing = 1
bindtime = -1
ontop = 1
ownpal = 1
id = 1011
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1012, Helper]
type = Helper
trigger1 = AnimElem = 1
helpertype = Normal
stateno = 1013
postype = p1
pos = -6,0
facing = 1
bindtime = -1
ownpal = 1
id = 1013
name = "Optic Sweep XYZ Beam"
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 1

[State 1012, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 1009
trigger1 = !AnimTime
value = 12

[State 1012, ChangeState]
type = ChangeState
trigger1 = Anim = 12
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Optic Sweep XYZ Beam
[Statedef 1013]
type = C
movetype = A
physics = N
juggle = 1
velset = 0,0
anim = 1010
ctrl = 0
sprpriority = 1
hitcountpersist = 1

[State 1013, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1
persistent = 1

[State 1013, HitDef]
type = HitDef
trigger1 = enemyNear, Anim != 5070
trigger1 = p2statetype != L
trigger1 = !MoveContact
trigger2 = Time = 0
attr = C, SP
animtype = High
air.animtype = High
fall.animtype = High
damage = 72,12
sprpriority = 1
hitflag = MAF
guardflag = MAL
pausetime = 2,2
sparkno = S6007
sparkxy = 0,0
hitsound = S200,8
guardsound = S120,0
guard.sparkno = S10999
ground.type = Trip
air.type = High
ground.slidetime = 20
ground.hittime = 20
air.hittime = 20
guard.ctrltime = 20
guard.hittime = 4
ground.velocity = -8,0
guard.velocity = -8
air.velocity = -4.5, -6
airguard.velocity = -5.33,-1
air.juggle = 0
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
envshake.time = 8
envshake.ampl = 2
palfx.time = 12
palfx.add = 255,255,255
palfx.mul = 128,128,128
forcestand = 1
yaccel = .5

[State 1013, HitDef]
type = HitDef
trigger1 = p2statetype = L
trigger1 = (facing != enemyNear, facing)
trigger1 = !MoveContact
trigger2 = Time = 0
attr = C, SP
animtype = High
air.animtype = High
fall.animtype = High
damage = 72,12
sprpriority = 1
hitflag = MAF
guardflag = MAL
pausetime = 2,2
sparkno = S6007
sparkxy = 0,0
hitsound = S200,8
guardsound = S120,0
guard.sparkno = S10999
ground.type = Trip
air.type = High
ground.slidetime = 20
ground.hittime = 20
air.hittime = 20
guard.ctrltime = 20
guard.hittime = 4
ground.velocity = -8,0
guard.velocity = -8
air.velocity = -4.5, -6
airguard.velocity = -5.33,-1
air.juggle = 0
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
envshake.time = 8
envshake.ampl = 2
palfx.time = 12
palfx.add = 255,255,255
palfx.mul = 128,128,128
forcestand = 1
yaccel = .5

[State 1013, HitDef]
type = HitDef
trigger1 = p2statetype = L
trigger1 = (facing = enemyNear, facing)
trigger1 = !MoveContact
trigger2 = Time = 0
attr = C, SP
animtype = High
air.animtype = High
fall.animtype = High
damage = 72,12
sprpriority = 1
hitflag = MAF
guardflag = MAL
pausetime = 2,2
sparkno = S6007
sparkxy = 0,0
hitsound = S200,8
guardsound = S120,0
guard.sparkno = S10999
ground.type = Trip
air.type = High
ground.slidetime = 20
ground.hittime = 20
air.hittime = 20
guard.ctrltime = 20
guard.hittime = 4
ground.velocity = -8,0
guard.velocity = -8
air.velocity = -4.5, -6
airguard.velocity = -5.33,-1
air.juggle = 0
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
envshake.time = 8
envshake.ampl = 2
palfx.time = 12
palfx.add = 255,255,255
palfx.mul = 128,128,128
forcestand = 1
yaccel = .5

[State 1013, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1013, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 1013
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1013, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1013, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 1012
trigger2 = !AnimTime

;---------------------------------------------------------------------------
; Cyclone Kick ABC First Kick
[Statedef 1014]
type = A
movetype = A
physics = N
juggle = 1
velset = 4,-4
poweradd = 100
ctrl = 0
anim = 1012
sprpriority = 2
hitcountpersist = 1

[State 1014, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1000,3
volume = 255
ignorehitpause = 1
persistent = 1

[State 1014, VelAdd]
type = VelAdd
trigger1 = 1
y = .575

[State 1014, PosSet]
type = PosSet
trigger1 = !Time
y = -10

[State 1014, Width]
type = Width
trigger1 = 1
edge = 20,20
player = 20,20

[State 1014, Explod]
type = Explod
trigger1 = time = 0
anim = 6006
ID = 6006
pos = 20,20
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = .9,.9
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1014, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
attr = A, SA
animtype = High
air.animtype = High
fall.animtype = High
damage = 65,30
hitflag = MAF
guardflag = MA
pausetime = 12,12
sparkno = S6010+(random%3)
sparkxy = 0,-65
hitsound = S200,4
guardsound = S120,0
guard.sparkno = S6008
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
air.hittime = 20
guard.ctrltime = 20
ground.velocity = -6
guard.velocity = -6
air.velocity = -6
airguard.velocity = -6
ground.cornerpush.veloff = -6
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
air.fall = 1
fall.recover = 1
air.recover = 1
yaccel = .5
envshake.time = 10
envshake.ampl = 2

[State 1014, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1015

;---------------------------------------------------------------------------
; Cyclone Kick ABC Second Kick
[Statedef 1015]
type = C
movetype = A
physics = C
juggle = 1
velset = 0,0
ctrl = 0
anim = 1013
sprpriority = 2
hitcountpersist = 1

[State 1015, Width]
type = Width
trigger1 = 1
edge = 20,20
player = 20,20

[State 1015, PosSet]
type = PosSet
trigger1 = !Time
y = 0

[State 1015, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = p2statetype != L
trigger1 = !MoveContact
attr = C, SA
animtype = High
air.animtype = High
fall.animtype = High
damage = 65,30
hitflag = MAF
guardflag = MA
pausetime = 12,12
sparkno = S6010+(random%3)
sparkxy = 0,-20
hitsound = S200,5
guardsound = S120,0
guard.sparkno = S6008
ground.type = Low
air.type = Low
ground.slidetime = 20
ground.hittime = 20
air.hittime = 20
guard.ctrltime = 20
ground.velocity = -6
guard.velocity = -6
air.velocity = -6
airguard.velocity = -6
ground.cornerpush.veloff = -6
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
air.fall = 1
fall.recover = 1
air.recover = 1
yaccel = .5
envshake.time = 10
envshake.ampl = 2

[State 1015, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = (facing != enemyNear, facing)
trigger1 = p2statetype = L
trigger1 = !MoveContact
attr = C, SA
animtype = High
air.animtype = High
fall.animtype = High
damage = 65,30
;hitflag = MAF
;guardflag = MA
hitflag = FD
guardflag = MA
pausetime = 12,12
sparkno = S6010+(random%3)
sparkxy = 0,-20
hitsound = S200,5
guardsound = S120,0
guard.sparkno = S6008
ground.type = Low
air.type = Low
ground.slidetime = 20
ground.hittime = 20
air.hittime = 20
guard.ctrltime = 20
ground.velocity = -6
guard.velocity = -6
air.velocity = -6
airguard.velocity = -6
ground.cornerpush.veloff = -6
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
air.fall = 1
fall.recover = 1
air.recover = 1
yaccel = .5
envshake.time = 10
envshake.ampl = 2

[State 1015, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = (facing = enemyNear, facing)
trigger1 = p2statetype = L
trigger1 = !MoveContact
attr = C, SA
animtype = High
air.animtype = High
fall.animtype = High
damage = 65,30
;hitflag = MAF
;guardflag = MA
hitflag = FD
guardflag = MA
pausetime = 12,12
sparkno = S6010+(random%3)
sparkxy = 0,-20
hitsound = S200,5
guardsound = S120,0
guard.sparkno = S6008
ground.type = Low
air.type = Low
ground.slidetime = 20
ground.hittime = 20
air.hittime = 20
guard.ctrltime = 20
ground.velocity = -6
guard.velocity = -6
air.velocity = -6
airguard.velocity = -6
ground.cornerpush.veloff = -6
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
persistent = 0
air.fall = 1
fall.recover = 1
air.recover = 1
yaccel = .5
envshake.time = 10
envshake.ampl = 2

[State 1015, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------------------------
; Slice Kick
[Statedef 1016]
type    = A
movetype= A
physics = N
juggle = 10
ctrl = 0
anim = 1014
poweradd = 100
velset = 0,0
sprpriority = 2
hitcountpersist=1

[State 1016, Width]
type = Width
trigger1 = 1
edge = 1,0

[State 1016, Explod]
type = Explod
trigger1 = time = 0
anim = 6006
ID = 6006
pos = 0,20
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = .9,.9
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1016, NotHitBy]
type = NotHitBy
trigger1 = Time = [0,5]
value = SCA

[State 1016, VelSet]
type = VelSet
trigger1 = Time = 0
X = 1.9
Y = -2.9

[State 1016, VelAdd]
type = VelAdd
trigger1 = 1
y = .28

[State 1016, VelMul]
type = VelMul
trigger1 = AnimElem = 3 || AnimElem = 4
Y = 1.9

[State 1016, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1000,5
volume = 255
ignorehitpause = 1
persistent = 1

[State 1016, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = A,SA
animtype = Low
air.animtype = Low
fall.animtype = Low
damage = 50,5
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 8,8
guard.sparkno = S6008
hitsound = S200,5
guardsound = S120,0
sparkno = S6010+(Random%3)
sparkxy = -25,-45
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -1.3,-11.5
guard.velocity = -8
air.velocity = -1.3,-11.5
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -11.2
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
envshake.time = 10
envshake.ampl = 3
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0

[State 1016, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = A,SA
animtype = Medium
air.animtype = Medium
fall.animtype = Medium
damage = 50,5
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 10,10
guard.sparkno = S6008
hitsound = S200,5
guardsound = S120,0
sparkno = S6010+(Random%3)
sparkxy = -25,-45
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -1.3,-11.5
guard.velocity = -8
air.velocity = -1.3,-11.5
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -11.2
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
envshake.time = 10
envshake.ampl = 3
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0

[State 1016, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = A,SA
animtype = High
air.animtype = High
fall.animtype = High
damage = 50,5
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 12,12
guard.sparkno = S6008
hitsound = S200,5
guardsound = S120,0
sparkno = S6010+(Random%3)
sparkxy = -25,-45
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -1.3,-11.5
guard.velocity = -8
air.velocity = -1.3,-11.5
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -11.2
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
envshake.time = 10
envshake.ampl = 3
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0

[State 1016, Helper]
type = Helper
trigger1 = AnimElem = 2
helpertype = Normal
name ="Slice Kick Explod"
stateno = 1017
pos = 25,-45
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale= 1.05
size.yscale= 1.05
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 1

[State 1016, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1019
ctrl = 0

;-----------------------------------------------------------------------------
; Slice Kick Explod 1
[Statedef 1017]
type    = S
movetype = A
physics = S
juggle  = 1
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1015
sprpriority = 6

[State 1017, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S1000,7
volume = 255
ignorehitpause = 1
persistent = 1

[State 1017, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1
persistent = 1

[State 1017, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1017, BindToParent]
type = BindToParent
trigger1 = 1
time = -1
facing = 1
pos = 25,-45

[State 1017, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1017, 5]
type = ChangeState
trigger1 = Time = 10
value = 1018

;--------------------------------------------------------------------------------------------
; Slice Kick Explod 2
[Statedef 1018]
type    = S
movetype = A
physics = S
juggle  = 1
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1016
sprpriority = 2

[State 1018, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 1018, 5]
type = DestroySelf
trigger1 = Time = 16
ctrl = 1

;---------------------------------------------------------------------------------------------
; Slice Kick Mid-Air Recovery
[Statedef 1019]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 1017
hitcountpersist=1

[State 1019, VelMul]
type = VelMul
trigger1 = time = 0
X = .7
Y = .7

[State 1019, VelAdd]
type = VelAdd
trigger1 = 1
y = .5

[State 1019, ChangeState]
type = ChangeState
trigger1 = vel Y > 0
trigger1 = pos Y >= 0
value = 1020
ctrl = 0

;---------------------------------------------------------------------------------------------
; Slice Kick Mid-Air Recovery Landing
[Statedef 1020]
type    = A
movetype= I
physics = A
ctrl = 0
velset = 0,0
anim = 1018
hitcountpersist=1

[State 1020, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 1020, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S52,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 1020, Explod]
type = Explod
trigger1 = time = 0
anim = 6001
ID = 6001
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 16
scale = 1,1
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 1020, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Gene Slice X Start
[Statedef 1021]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
juggle  = 10
ctrl = 0
anim = 1019
hitcountpersist = 1

[State 1021, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S1000,2
volume = 255
ignorehitpause = 1
persistent = 1

[State 1021, Explod]
type = Explod
trigger1 = time = 0
anim = 6006
ID = 6006
pos = 0,20
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = .9,.9
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1021, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1022

;---------------------------------------------------------------------------
; Gene Slice X Hit 1
[Statedef 1022]
type = A
movetype = A
physics = N
velset = 6,-7
juggle = 10
ctrl = 0
anim = 1020
hitcountpersist = 1

[State 1022, VelAdd]
type = VelAdd
trigger1 = Vel X > 0
x = -1

[State 1022, VelAdd]
type = VelAdd
trigger1 = Time < 6
y = .475

[State 1022, VelAdd]
type = VelAdd
trigger1 = Time >= 6
y = .6

[State 1022, VelAdd]
type = Null ;VelAdd
trigger1 = 1
y = .6364

[State 1022, VarSet]
type = VarSet
trigger1 = AnimElem = 1, = 0
var(14) = 0

[State 1022, VelSet]
type = VelSet
trigger1 = AnimElem = 2, = 6
x = 0

[State 1022, VelSet]
type = VelSet
trigger1 = AnimElem = 2, = 10
y = 0

[State 1022, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
attr = A, SA
animtype = Low
air.animtype = Low
fall.animtype = Low
damage = 40,2
hitflag = MAF
guardflag = MA
pausetime = 9,9
sparkno = S6010+(Random%3)
sparkxy = 0,-80
hitsound = S200,0
guardsound = S120,0
guard.sparkno = S6008
ground.type = Low
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
envshake.time = 10
envshake.ampl = 3
p2stateno = 1026
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
forcestand = 1

[State 1022, VarSet]
type = VarSet
triggerall = MoveContact
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
var(14) = 1

[State 1022, ChangeState]
type = ChangeState
trigger1 = var(14)
trigger1 = AnimElem = 2, = 10
value = 1023

[State 1022, ChangeState]
type = ChangeState
trigger1 = !var(14)
trigger1 = !AnimTime
value = 1024

;---------------------------------------------------------------------------
; Gene Slice X Hit 2
[Statedef 1023]
type = A
movetype = A
physics = N
juggle = 1
velset = 0,-7
ctrl = 0
anim = 1021
hitcountpersist = 1

[State 1023, Gravity]
type = Gravity
trigger1 = 1

[State 1023, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
attr = A, SA
animtype = Low
air.animtype = Low
fall.animtype = low
damage = 40,2
hitflag = MAF
guardflag = MA
pausetime = 9,9
sparkno = S6010+(random%3)
sparkxy = 0,-80
hitsound = S200,0
guardsound = S120,0
guard.sparkno = S6008
ground.type = Low
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
envshake.time = 10
envshake.ampl = 3
p2stateno = 1026
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
forcestand = 1

[State 1023, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1024

;---------------------------------------------------------------------------
; Gene Slice X Blast
[Statedef 1024]
type = A
movetype = I
physics = N
ctrl = 0
juggle = 10
anim = 1022
hitcountpersist = 1

[State 1024, Gravity]
type = Gravity
trigger1 = 1

[State 1024, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 1024, VelSet]
type = VelSet
trigger1 = Pos Y >= 0
y = 0

[State 1024, Helper]
type = Helper
trigger1 = AnimElem = 1
helpertype = Normal
stateno = 1025
postype = p1
pos = 4,-39
bindtime = 1
ownpal = 1
id = 1025
name = "Gene Slice Projectile"
facing = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 1

[State 1024, ChangeAnim]
type = ChangeAnim
trigger1 = !AnimTime
value = 44

[State 1024, ChangeState]
type = ChangeState
trigger1 = Pos Y = 0
trigger1 = Vel Y = 0
value = 1036

;--------------------------------------------------------------------------
; Gene Slice Projectile
[Statedef 1025]
type = S
movetype = A
physics = N
velset = 0,-9
anim = 1023
sprpriority = 3
juggle = 10
ctrl = 0

[State 1025, AssertSpecial]
type = AssertSpecial
trigger1 = Time >= 0
flag = NoShadow

[State 1025, PlayerPush]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 1025, PlaySnd]
type = PlaySnd
trigger1 = !Time
trigger1 = PrevStateNo != 1025
value = S200,7
volume = 255
ignorehitpause = 1
persistent = 1

[State 1025, HitDef]
type = HitDef
trigger1 = enemyNear, Anim != 5070
trigger1 = !MoveContact
trigger1 = Time > 4
attr = S, NP
animtype = high
air.animtype = high
fall.animtype = high
damage = 60,2
hitflag = MAF
guardflag = MA
pausetime = 0,1
hitsound  = S200,8
sparkno = S6007
sparkxy = 4,-39
guard.sparkno = S6008
guardsound = S120,0
ground.type = low
ground.slidetime = 12
ground.hittime = 13
ground.velocity = -6
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -3
air.velocity = -4,-8
airguard.velocity = -3,-1
envshake.time = 10
envshake.ampl = 3
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
forcestand = 1
palfx.time = 12
palfx.add = 255,255,255
palfx.mul = 128,128,128

[State 1025, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1025, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1025
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1025, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1025, DestroySelf]
type = DestroySelf
trigger1 = Pos Y < -1200
trigger2 = MoveContact
trigger3 = PrevStateNo = 1025

;---------------------------------------------------------------------------
; Launched
[Statedef 1026]
type = A
movetype = H
physics = N
anim = 5011
velset = 0,0
ctrl = 0

[State 1405, Turn]
type = Turn
trigger1 = !Time && !(p2dist X < 0 && facing != enemyNear, facing) && (facing = enemyNear, facing)
value = 1

[State 1405, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 9
trigger1 = Alive
value = IfElse(SelfAnimExist(5052),5052,(IfElse(SelfAnimExist(5051),5051,5050)))

[State 1405, VelSet]
type = VelSet
trigger1 = Time = 9
trigger1 = Alive
x = 0
y = -8

[State 1405, VelSet]
type = VelSet
trigger1 = Time = 9
trigger1 = !Alive
x = -10
y = -6

[State 1405, SelfState]
type = SelfState
trigger1 = Time = 9
trigger1 = !Alive
value = 5050

[State 1405, Gravity]
type = Gravity
trigger1 = Time > 14

[State 1405, SelfState]
type = SelfState
;trigger1 = Vel Y > 0
trigger1 = Time = 40
value = 5040
ctrl = 1

;---------------------------------------------------------------------------
; Gene Slice Y Start
[Statedef 1027]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
juggle  = 10
ctrl = 0
anim = 1019
hitcountpersist = 1

[State 1027, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1, = 0
value = S1000,2
volume = 255
ignorehitpause = 1
persistent = 1

[State 1027, Explod]
type = Explod
trigger1 = time = 0
anim = 6006
ID = 6006
pos = 0,20
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = .9,.9
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1027, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1028

;---------------------------------------------------------------------------
; Gene Slice Y Hit 1
[Statedef 1028]
type = A
movetype = A
physics = N
velset = 5,-8
juggle = 10
ctrl = 0
anim = 1020
hitcountpersist = 1

[State 1028, VelAdd]
type = VelAdd
trigger1 = Time < 14
trigger1 = Vel X > 0
x = -.075

[State 1028, VelAdd]
type = VelAdd
trigger1 = Time >= 10
trigger1 = Vel X > 0
x = -.325

[State 1028, VelAdd]
type = VelAdd
trigger1 = Time < 6
y = .4

[State 1028, VelAdd]
type = VelAdd
trigger1 = Time >= 6
y = .5

[State 1028, VelAdd]
type = Null ;VelAdd
trigger1 = 1
y = .6364

[State 1028, VarSet]
type = VarSet
trigger1 = AnimElem = 1, = 0
var(14) = 0

[State 1028, VelSet]
type = VelSet
trigger1 = AnimElem = 2, = 13
x = 0

[State 1028, VelSet]
type = VelSet
trigger1 = AnimElem = 2, = 10
y = 0

[State 1028, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
attr = A, SA
animtype = Medium
air.animtype = Medium
fall.animtype = Medium
damage = 40,2
hitflag = MAF
guardflag = MA
pausetime = 9,9
sparkno = S6010+(random%3)
sparkxy = 0,-80
hitsound = S200,1
guardsound = S120,0
guard.sparkno = S6008
ground.type = Low
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
envshake.time = 8
envshake.ampl = 2
p2stateno = 1026
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
forcestand = 1

[State 1028, VarSet]
type = VarSet
triggerall = MoveContact
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
var(14) = 1

[State 1028, ChangeState]
type = ChangeState
trigger1 = var(14)
trigger1 = AnimElem = 2, = 10
value = 1029

[State 1028, ChangeState]
type = ChangeState
trigger1 = !var(14)
trigger1 = !AnimTime
value = 1024

;---------------------------------------------------------------------------
; Gene Slice Y Hit 2
[Statedef 1029]
type = A
movetype = A
physics = N
velset = 0,-7
juggle = 1
ctrl = 0
anim = 1021
hitcountpersist = 1

[State 1029, VarSet]
type = VarSet
trigger1 = AnimElem = 1, = 0
var(14) = 0

[State 1029, Gravity]
type = Gravity
trigger1 = 1

[State 1029, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
attr = A, SA
animtype = Medium
air.animtype = Medium
fall.animtype = medium
damage = 40,2
hitflag = MAF
guardflag = MA
pausetime = 9,9
sparkno = S6010+(random%3)
sparkxy = 0,-80
hitsound = S200,1
guardsound = S120,0
guard.sparkno = S6008
ground.type = Low
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
envshake.time = 8
envshake.ampl = 2
p2stateno = 1026
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
forcestand = 1

[State 1029, VarSet]
type = VarSet
triggerall = MoveContact
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
var(14) = 1

[State 1029, ChangeState]
type = ChangeState
trigger1 = var(14)
trigger1 = AnimElem = 2, = 10
value = 1030

[State 1029, ChangeState]
type = ChangeState
trigger1 = !var(14)
trigger1 = !AnimTime
value = 1024

;---------------------------------------------------------------------------
; Gene Slice Y Hit 3
[Statedef 1030]
type = A
movetype = A
physics = N
velset = 0,-7
ctrl = 0
juggle = 1
ctrl = 0
anim = 1020
hitcountpersist = 1

[State 1030, Gravity]
type = Gravity
trigger1 = 1

[State 1030, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
trigger1 = AnimElem = 2, >= 0
attr = A, SA
animtype = Medium
air.animtype = Medium
fall.animtype = medium
damage = 40,2
hitflag = MAF
guardflag = MA
pausetime = 9,9
sparkno = S6010+(random%3)
sparkxy = 0,-80
hitsound = S200,1
guardsound = S120,0
guard.sparkno = S6008
ground.type = Low
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
envshake.time = 8
envshake.ampl = 2
p2stateno = 1026
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
forcestand = 1

[State 1030, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1024

;---------------------------------------------------------------------------
; Gene Slice Z Start
[Statedef 1031]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
juggle  = 10
ctrl = 0
anim = 1019
hitcountpersist = 1

[State 1031, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1, = 0
value = S1000,2
volume = 255
ignorehitpause = 1
persistent = 1

[State 1031, Explod]
type = Explod
trigger1 = time = 0
anim = 6006
ID = 6006
pos = 0,20
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = .9,.9
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1031, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1032

;---------------------------------------------------------------------------
; Gene Slice Z Hit 1
[Statedef 1032]
type = A
movetype = A
physics = N
velset = 10,-9
juggle = 10
ctrl = 0
anim = 1020
hitcountpersist = 1

[State 1032, VelAdd]
type = VelAdd
trigger1 = Time < 19
trigger1 = Vel X > 0
x = -.3

[State 1032, VelAdd]
type = VelAdd
trigger1 = Time >= 15
trigger1 = Vel X > 0
x = -.45

[State 1032, VelAdd]
type = VelAdd
trigger1 = Time < 6
y = .425

[State 1032, VelAdd]
type = VelAdd
trigger1 = Time >= 6
y = .475

[State 1032, VelAdd]
type = Null ;VelAdd
trigger1 = 1
y = .6364

[State 1032, VarSet]
type = VarSet
trigger1 = AnimElem = 1, = 0
var(14) = 0

[State 1032, VelSet]
type = VelSet
trigger1 = AnimElem = 2, = 17
x = 0

[State 1032, VelSet]
type = VelSet
trigger1 = AnimElem = 2, = 13
y = 0

[State 1032, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
attr = A, SA
animtype = high
air.animtype = high
fall.animtype = high
damage = 40,2
hitflag = MAF
guardflag = MA
pausetime = 9,9
sparkno = S6010+(random%3)
sparkxy = 0,-80
hitsound = S200,2
guardsound = S120,0
guard.sparkno = S6008
ground.type = high
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
envshake.time = 8
envshake.ampl = 2
p2stateno = 1026
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
forcestand = 1

[State 1032, VarSet]
type = VarSet
triggerall = MoveContact
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
var(14) = 1

[State 1032, ChangeState]
type = ChangeState
trigger1 = var(14)
trigger1 = AnimElem = 2, = 10
value = 1033

[State 1032, ChangeState]
type = ChangeState
trigger1 = !var(14)
trigger1 = !AnimTime
value = 1024

;---------------------------------------------------------------------------
; Gene Slice Z Hit 2
[Statedef 1033]
type = A
movetype = A
physics = N
velset = 0,-7
juggle = 1
ctrl = 0
anim = 1021
hitcountpersist = 1

[State 1033, VarSet]
type = VarSet
trigger1 = AnimElem = 1, = 0
var(14) = 0

[State 1033, Gravity]
type = Gravity
trigger1 = 1

[State 1033, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
attr = A, SA
animtype = high
air.animtype = high
fall.animtype = high
damage = 40,2
hitflag = MAF
guardflag = MA
pausetime = 9,9
sparkno = S6010+(random%3)
sparkxy = 0,-80
hitsound = S200,2
guardsound = S120,0
guard.sparkno = S6008
ground.type = high
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
envshake.time = 8
envshake.ampl = 2
p2stateno = 1026
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
forcestand = 1

[State 1033, VarSet]
type = VarSet
triggerall = MoveContact
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
var(14) = 1

[State 1033, ChangeState]
type = ChangeState
trigger1 = var(14)
trigger1 = AnimElem = 2, = 10
value = 1034

[State 1033, ChangeState]
type = ChangeState
trigger1 = !var(14)
trigger1 = !AnimTime
value = 1024

;---------------------------------------------------------------------------
; Gene Slice Z Hit 3
[Statedef 1034]
type = A
movetype = A
physics = N
velset = 0,-7
ctrl = 0
juggle = 1
ctrl = 0
anim = 1020
hitcountpersist = 1

[State 1034, VarSet]
type = VarSet
trigger1 = AnimElem = 1, = 0
var(14) = 0

[State 1034, Gravity]
type = Gravity
trigger1 = 1

[State 1034, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
trigger1 = AnimElem = 2, >= 0
attr = A, SA
animtype = high
air.animtype = high
fall.animtype = high
damage = 40,2
hitflag = MAF
guardflag = MA
pausetime = 9,9
sparkno = S6010+(random%3)
sparkxy = 0,-80
hitsound = S200,2
guardsound = S120,0
guard.sparkno = S6008
ground.type = high
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
envshake.time = 8
envshake.ampl = 2
p2stateno = 1026
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
forcestand = 1

[State 1034, VarSet]
type = VarSet
triggerall = MoveContact
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
var(14) = 1

[State 1034, ChangeState]
type = ChangeState
trigger1 = var(14)
trigger1 = AnimElem = 2, = 10
value = 1035

[State 1034, ChangeState]
type = ChangeState
trigger1 = !var(14)
trigger1 = !AnimTime
value = 1024

;---------------------------------------------------------------------------
; Gene Slice Z Hit 4
[Statedef 1035]
type = A
movetype = A
physics = N
velset = 0,-7
juggle = 1
ctrl = 0
anim = 1021
hitcountpersist = 1

[State 1035, VarSet]
type = VarSet
trigger1 = AnimElem = 1, = 0
var(14) = 0

[State 1035, Gravity]
type = Gravity
trigger1 = 1

[State 1035, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
attr = A, SA
animtype = high
air.animtype = high
fall.animtype = high
damage = 40,2
hitflag = MAF
guardflag = MA
pausetime = 9,9
sparkno = S6010+(random%3)
sparkxy = 0,-80
hitsound = S200,2
guardsound = S120,0
guard.sparkno = S6008
ground.type = Low
ground.velocity = 0,-8
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-9
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
envshake.time = 8
envshake.ampl = 2
p2stateno = 1026
fall = 1
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
forcestand = 1

[State 1035, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1024

;---------------------------------------------------------------------------
; Gene Slice Landing
[Statedef 1036]
type = S
movetype = I
physics = N
ctrl = 0
anim = 1024
hitcountpersist = 1

[State 1036, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S52,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 1036, Explod]
type = Explod
trigger1 = time = 0
anim = 6001
ID = 6001
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 16
scale = 1,1
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 1036, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Rushing Combo Punches
[Statedef 1037]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
juggle  = 1
ctrl = 0
anim = 1025
hitcountpersist = 1

[State 1037, Explod]
type = Explod
trigger1 = time = 0
anim = 6006
ID = 6006
pos = 0,20
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = .9,.9
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1037, VarSet]
type = VarSet
trigger1 = !Time
var(14) = 0

[State 1037, VelSet]
type = VelSet
trigger1 = AnimElem = 3, < 0
x = 6

[State 1037, VelSet]
type = VelSet
trigger1 = AnimElem = 8, < 0
x = 4

[State 1037, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 8
value = S0,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 1037, HitDef]
type = HitDef
trigger1 = enemyNear, Anim != 5070
trigger1 = enemyNear, Anim != 5071
trigger1 = AnimElem = 4
attr = S, NA
animtype = Light
air.animtype = Light
fall.animtype = Light
damage = 20,2
hitflag = MAF
guardflag = MA
pausetime = 6,6
sparkno = S6010+(random%3)
sparkxy = 0,-83
guard.sparkno = S6008
hitsound = S200, 0
guardsound = S120, 0
ground.type = High
ground.slidetime = 12
ground.hittime = 13
ground.velocity = -5
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -2.5
air.velocity = -5,-2
airguard.velocity = -2.5,-1
air.fall = 1
fall.recovertime = 11
envshake.time = 8
envshake.ampl = 2

[State 1037, HitDef]
type = HitDef
trigger1 = enemyNear, Anim != 5070
trigger1 = enemyNear, Anim != 5071
trigger1 = AnimElem = 8
attr = S, NA
animtype = Light
air.animtype = Light
fall.animtype = Light
damage = 20,2
hitflag = MAF
guardflag = MA
pausetime = 6,6
sparkno = S6010+(random%3)
sparkxy = 0,-83
guard.sparkno = S6008
hitsound = S200, 0
guardsound = S120, 0
ground.type = High
ground.slidetime = 12
ground.hittime = 13
ground.velocity = -5
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -2.5
air.velocity = -5,-2
airguard.velocity = -2.5,-1
air.fall = 1
fall.recovertime = 11
envshake.time = 8
envshake.ampl = 2

[State 1037, VarAdd]
type = VarAdd
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "a"
trigger5 = command = "b"
trigger6 = command = "c"
var(14) = 1

[State 1037, ChangeState]
type = ChangeState
trigger1 = var(14) > 1
trigger1 = !AnimTime
value = 1038

[State 1037, ChangeState]
type = ChangeState
trigger1 = var(14) <= 1
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Rushing Combo Kicks
[Statedef 1038]
type = S
movetype = A
physics = S
velset = 0,0
juggle  = 1
ctrl = 0
anim = 1026
hitcountpersist = 1

[State 1038, VarSet]
type = VarSet
trigger1 = !Time
var(14) = 0

[State 1038, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 8
value = S0,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 1038, VelSet]
type = VelSet
trigger1 = AnimElem = 3, < 0
x = 6

[State 1038, VelSet]
type = VelSet
trigger1 = AnimElem = 8, < 0
x = 4

[State 1038, HitDef]
type = HitDef
trigger1 = enemyNear, Anim != 5070
trigger1 = enemyNear, Anim != 5071
trigger1 = AnimElem = 3
attr = S, NA
animtype = Medium
air.animtype = Medium
fall.animtype = Medium
damage = 30,3
hitflag = MAF
guardflag = MA
pausetime = 6,6
sparkno = S6010+(random%3)
sparkxy = 0,-62
guard.sparkno = S6008
hitsound = S200,3
guardsound = S120,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 13
ground.velocity = -5
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -2.5
air.velocity = -5,-2
airguard.velocity = -2.5,-1
air.fall = 1
fall.recovertime = 11
envshake.time = 8
envshake.ampl = 2

[State 1038, HitDef]
type = HitDef
trigger1 = enemyNear, Anim != 5070
trigger1 = enemyNear, Anim != 5071
trigger1 = AnimElem = 8
attr = S, NA
animtype = Medium
air.animtype = Medium
fall.animtype = Medium
damage = 30,3
hitflag = MAF
guardflag = MA
pausetime = 6,6
sparkno = S6010+(random%3)
sparkxy = 0,-72
guard.sparkno = S6008
hitsound = S200,3
guardsound = S120,0
ground.type = Low
ground.slidetime = 14
ground.hittime = 15
ground.velocity = -5
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -2.5
air.velocity = -5,-2
airguard.velocity = -2.5,-1
air.fall = 1
fall.recovertime = 11
envshake.time = 8
envshake.ampl = 2

[State 1038, VarAdd]
type = VarAdd
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "a"
trigger5 = command = "b"
trigger6 = command = "c"
var(14) = 1

[State 1038, ChangeState]
type = ChangeState
trigger1 = var(14) > 1
trigger1 = !AnimTime
value = 1039

[State 1038, ChangeState]
type = ChangeState
trigger1 = var(14) <= 1
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Rushing Combo Elbow
[Statedef 1039]
type = S
movetype = A
physics = S
velset = 0,0
juggle  = 1
ctrl = 0
anim = 1027
hitcountpersist = 1

[State 1039, VarSet]
type = VarSet
trigger1 = !Time
var(14) = 0

[State 1039, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S0,2
volume = 255
ignorehitpause = 1
persistent = 0

[State 1039, VelSet]
type = VelSet
trigger1 = AnimElem = 3, < 0
x = 6

[State 1039, VelSet]
type = VelSet
trigger1 = AnimElem = 8, < 0
x = 4

[State 1039, HitDef]
type = HitDef
trigger1 = enemyNear, Anim != 5070
trigger1 = enemyNear, Anim != 5071
trigger1 = AnimElem = 2
attr = S, NA
animtype = High
air.animtype = High
fall.animtype = High
damage = 40,4
hitflag = MAF
guardflag = MA
pausetime = 9,9
sparkno = S6010+(random%3)
sparkxy = 0,-100
guard.sparkno = S6008
hitsound = S200,1
guardsound = S120,0
ground.type = High
ground.slidetime = 12
ground.hittime = 13
ground.velocity = -4,-4
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -2
air.velocity = -4,-4
airguard.velocity = -2,-2
fall = 1
fall.recover = 0
envshake.time = 8
envshake.ampl = 2

[State 1039, VarAdd]
type = VarAdd
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "a"
trigger5 = command = "b"
trigger6 = command = "c"
var(14) = 1

[State 1039, ChangeState]
type = ChangeState
trigger1 = var(14) > 1
trigger1 = !AnimTime
value = 220

[State 1039, ChangeState]
type = ChangeState
trigger1 = var(14) <= 1
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Rushing Slam
[Statedef 1040]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
juggle  = 1
ctrl = 0
anim = 1028
hitcountpersist = 1

[State 1040, Explod]
type = Explod
trigger1 = time = 0
anim = 6006
ID = 6006
pos = 0,20
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = .9,.9
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1040, VelSet]
type = VelSet
trigger1 = AnimElem = 2, >= 2
trigger1 = AnimElem = 11, < 0
x = 8.5

[State 1040, VelSet]
type = VelSet
trigger1 = AnimElem = 11, = 0
x = 4

[State 1040, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S, ST
damage = 0
priority = 7
hitsound = S800,0
hitflag = M
guardflag =
pausetime = 0, 0
sparkno = -1
fall = 1
fall.recover = 0
p1stateno = 1041
p2stateno = 1042

[State 1040, VelSet]
type = VelSet
trigger1 = !AnimTime
x = 0

[State 1040, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Rushing Slam Throwing
[Statedef 1041]
type = S
movetype = I
physics = N
velset = 0,0
anim = 1029
sprpriority = 1
juggle  = 1
ctrl = 0
hitcountpersist = 1

[State 1041, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2, = 0
value = S1000,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 1041, Gravity]
type = Gravity
trigger1 = AnimElem = 2, > 0
trigger1 = AnimElem = 6, < 0

[State 1041, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 7,-96

[State 1041, TargetBind]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 6,-69

[State 1041, TargetBind]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = 30,-59

[State 1041, TargetBind]
type = TargetBind
trigger1 = AnimElem = 4, >= 0
trigger1 = AnimElem = 5, < 0
pos = -6,-80

[State 1041, TargetBind]
type = TargetBind
trigger1 = AnimElem = 5, >= 0
trigger1 = AnimElem = 6, < 0
pos = -34,-67

[State 1041, TargetBind]
type = TargetBind
trigger1 = AnimElem = 6, >= 0
trigger1 = AnimElem = 7, < 0
pos = 11,-31

[State 1041, VelSet]
type = VelSet
trigger1 = AnimElem = 1, = 10
x = 6

[State 1041, VelSet]
type = VelSet
trigger1 = AnimElem = 2, = 0
x = 8
y = -5

[State 1041, VelSet]
type = VelSet
trigger1 = AnimElem = 6, = 0
x = 0
y = 0

[State 1041, VelSet]
type = PosSet
trigger1 = AnimElem = 6, = 0
y = 0

[State 1041, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6, = 0
value = S5000,4
volume = 255
ignorehitpause = 1
persistent = 1

[State 1041, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 6, = 0
value = -150;ceil(-202 * (fvar(0)))

[State 1041, EnvShake]
type = EnvShake
trigger1 = AnimElem = 6, = 0
time = 10
ampl = -6

[State 1041, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 5120
ctrl = 1

;---------------------------------------------------------------------------
; Rushing Slam Thrown
[Statedef 1042]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0
facep2 = 1
juggle  = 1
ctrl = 0
anim = 1030
hitcountpersist = 1

[State 1042, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 1042, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1043

;---------------------------------------------------------------------------
; Rushing Slam Thrown Falling
[Statedef 1043]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0
anim = 5050
ctrl = 0

[State 1043, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = -7

[State 1043, Gravity]
type = Gravity
trigger1 = Pos Y < 0

[State 1043, VelSet]
type = VelSet
trigger1 = !Time
x = -9
y = -7

[State 1043, VelSet]
type = VelSet
trigger1 = Pos Y >= 0
x = 0
y = 0

[State 1043, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 1043, EnvShake]
type = EnvShake
trigger1 = Vel X = 0
trigger1 = Vel Y = 0
trigger1 = Pos Y = 0
time = 10
ampl = -6

[State 1043, SelfState]
type = SelfState
trigger1 = Vel X = 0
trigger1 = Vel Y = 0
trigger1 = Pos Y = 0
value = 5110

;---------------------------------------------------------------------------
; Optic Slam
[StateDef 1044]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1040
poweradd = 100
hitcountpersist = 1

[State 1044, VelSet]
type = VelSet
trigger1 = AnimElem = 6
x = -7
y = 0

[State 1044, Explod]
type = Explod
trigger1 = time = 0
anim = 6006
ID = 6006
pos = 0,20
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = .9,.9
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1044, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = S1000,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 1044, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = S800,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 1044, Explod]
type = Explod
trigger1 = AnimElem = 7
anim = 1041
sprpriority = 2
postype = p1
pos = 12,-99
facing = 1
vfacing = 1
bindtime = -1
ownpal = 1
id = 1041
ontop = 0
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1044, Helper]
type = Helper
trigger1 = AnimElem = 7
helpertype = Normal
name = "Optic Slam Beam"
ID = 1045
stateno = 1045
pos = 12,-99
postype = p1
facing = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 1

[State 1044, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Optic Slam Beam
[Statedef 1045]
type = S
movetype = A
physics = N
velset = 0,0
anim = 1041
ctrl = 0
hitcountpersist = 1

[State 1045, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1
persistent = 1

[State 1045, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
trigger1 = !MoveContact
trigger2 = Time = 0
attr = S, SP
animtype = Hard
air.animtype = Hard
damage = 90,9
sprpriority = 1
hitflag = MAF
guardflag = MA
pausetime = 2,2
sparkno = S997
sparkxy = 0,0
hitsound = S200,8
guardsound = S120,0
guard.sparkno = S997
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -8,-10
guard.slidetime = 20
guard.hittime = 20
air.velocity = -8,-10
ground.cornerpush.veloff = 1
air.cornerpush.veloff = 1
down.cornerpush.veloff = 1
guard.cornerpush.veloff = 1
airguard.cornerpush.veloff = 1
air.fall = 1
fall.recovertime = 20
persistent = 0
yaccel = .5
fall = 1
fall.recover = 1
fall.envshake.time = 20
fall.envshake.freq = 180
fall.envshake.ampl = 3
fall.envshake.phase = 90
p2stateno = 1046    
p2facing = 1

[State 1045, Explod]
type = Explod
trigger1 = MoveHit = 1
anim = 6007
sprpriority = 2
postype = p2
pos = 12,-99
facing = 1
vfacing = 1
bindtime = 1
ownpal = 1
id = 6007
ontop = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999

[State 1045, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1045, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 1044
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1045, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1045, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 1044
trigger2 = !AnimTime

;-------------------------------------------------------------------------------
; Hit By Optic Slam
[Statedef 1046]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1046, Anim] 
type = ChangeAnim2
trigger1 = 1
value = 1042

[State 1046, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 1047

;-------------------------------------------------------------------------------
; Hit By Optic Slam 2
[Statedef 1047]
type    = A
movetype= H
physics = N

[State 1047, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1047, Gravity]
type = VelAdd
trigger1 = 1
y = .45

[State 1047, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 1047, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 1048

[State 1047, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;-------------------------------------------------------------------------------
; Hit By Optic Slam 3
[Statedef 1048]
type    = A
movetype= H
physics = N

[State 1048, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 1048, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 1048, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1048, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1048, Spark]
type = Explod
trigger1 = Time = 0
anim = 6013;F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 1048, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 1043

[State 1048, Sound]
type = PlaySnd
trigger1 = Time = 0
;value = F7,0
value = S5000,3
volume = 255
ignorehitpause = 1
persistent = 1

[State 1048, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 1049

;-------------------------------------------------------------------------------
; Hit By Optic Slam 4
[Statedef 1049]
type    = A
movetype= H
physics = N

[State 1049, 1]
type = NotHitBy
trigger1 = 1
value = , NA, NP

[State 1049, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1049, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1049, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1049, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 1049, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1049, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1049, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1049, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1049, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;---------------------------------------------------------------------------;
;                                HYPERS/SUPERS MOVES                        ;
;---------------------------------------------------------------------------;
; Mega Optic Blast
[Statedef 3000]
type = S
movetype = A
physics = S
velset = 0,0
anim = 3000
sprpriority = 1
poweradd = -1000
juggle  = 1
ctrl = 0
hitcountpersist = 1

[State 3000, width]
type = width
trigger1 = anim = 3000 && animelemtime(49)<0
value = 30,0

[State 3000, Explod]
type = Explod
trigger1 = time = 0
anim = 6006
ID = 6006
pos = 0,20
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = .9,.9
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
name = "MVC2 Special & Super Move Dust FX"

[State 3000, Explod]
type = Explod
trigger1 = Time = [1,11]
anim = 6023
postype = back
ID = 6023
sprpriority = -2
supermovetime = 1
removetime = 2
supermove = 1
scale = 3 - (time * 0.15), 3 - (time * 0.15)
pos = 0,60-time * 5
bindtime = 2
facing = 1
vfacing = 1
pausemove = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
name = "Cyclops Hyper Portrait"

[state 3000, Explod]
type = Explod
trigger1 = Time = 12
anim = 6023
postype = back
id = 6023
vel = -.25,0
sprpriority = -2
supermovetime = 29
removetime = 30
pos = 0,0
bindtime = 30
facing = 1
vfacing = 1
pausemove = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
name = "Cyclops Hyper Portrait"

[State 3000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG ;<-- removes the stage layer
flag = noFG ;<-- removes the lifebars and any foreground stage layers
ignorehitpause = 1
persistent = 1

[State 3000, Explod]
type = Explod
trigger1 = Time = 12
removetime = 9999
id = 6027
anim = 6027
pos = 0,0
postype = Left
scale = 1,1
sprpriority = -4
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
name = "Black BG"

[State 3000, Explod]
type = Explod
trigger1 = time = 0
anim = 6024
ID = 6024
postype = p1
pos = 26,-85
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 3
supermove = 9999
pausemove = 9999
ontop = 1
scale = .8,.8
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
name = "CVS2 Hyper FX"

[State 3000, Explod]
type = Explod
trigger1 = Time = 45
removetime = 9999
id = 6021
anim = 6021
pos = 0,0
postype = Left
scale = 1,1
sprpriority = -4
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
name = "MVC2 Hyper BG"

[State 3000, Explod]
type = Explod
trigger1 = Time = 45
removetime = 9999
id = 6022
anim = 6022
pos = 0,0
postype = Left
scale = 1,1
sprpriority = -3
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
name = "DCVM Hyper BG"

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S3000,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 3000, SuperPause]
type = SuperPause
trigger1 = AnimElem = 5
time = 40
movetime = 40
anim = -1
sound = -1
pos = 0,0
darken = 1
p2defmul = 1
poweradd = 0
unhittable = 0

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = S3000,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = S3000,2
volume = 255
ignorehitpause = 1
persistent = 1

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 9
value = S3000,11
volume = 255
ignorehitpause = 1
persistent = 1

[State 1001, Explod]
type = Explod
trigger1 = AnimElem = 9, = 0
anim = 3001
sprpriority = 2
postype = p1
pos = -2,0
bindtime = -1
ownpal = 1
id = 3001
removeongethit = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 9, = 0
anim = 3004
sprpriority = 2
postype = p1
pos = -2,0
bindtime = -1
id = 3001
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 9, = 0
anim = 3005
sprpriority = 2
postype = p1
pos = -2,0
bindtime = -1
id = 3001
ownpal = 1

[State 3000, Helper]
type = Helper
trigger1 = AnimElem = 9
helpertype = Normal
stateno = 30001
postype = p1
pos = -2,0
ownpal = 1
facing = 1
name = "Mega Optic Blast Beam Helper"
id = 30001

[State 3000, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Mega Optic Blast Beam
[Statedef 30001]
type = S
movetype = A
physics = N
velset = 0,0
anim = 3001
juggle = 1
ctrl = 0
sprpriority = 2
hitcountpersist = 1

[State 30001, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1
persistent = 1

[State 30001, PosSet]
type = PosSet
trigger1 = parent, facing = 1
x = parent, Pos X
y = parent, Pos Y
ignorehitpause = 1

[State 30001, PosSet]
type = PosSet
trigger1 = parent, facing = -1
x = parent, Pos X
y = parent, Pos Y
ignorehitpause = 1

[State 30001, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
triggerall = enemyNear, Anim != 5071
trigger1 = !MoveContact
trigger2 = TimeMod = 5 = 0;(GameTime%5) = 0
attr = S, HP
animtype = High
air.animtype = High
fall.animtype = High
damage = 8,4
getpower = 0
sprpriority = 2
hitflag = MADFP
guardflag = MA
pausetime = 0,0
sparkno = S3002
sparkxy = 0,0
guard.sparkno = S3002
hitsound = S200,8
guardsound = S120,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -5
guard.slidetime = 20
guard.hittime = 5
guard.velocity = -5
air.type = High
air.velocity = -5
airguard.velocity = -5
ground.cornerpush.veloff = 1
air.cornerpush.veloff = 1
down.cornerpush.veloff = 1
guard.cornerpush.veloff = 1
airguard.cornerpush.veloff = 1
p2stateno = 30103
envshake.time = 20
envshake.ampl = 2
palfx.time = 20
palfx.add = 255,255,255
palfx.mul = 128,128,128
forcestand = 1
yaccel = .5

[State 30001, HitDef]
type = HitDef
trigger4 = enemyNear, Anim != 5070
trigger5 = enemyNear, Anim != 5071
trigger6 = !MoveContact
triggerall = Random < 500
trigger1 = ((parent, command = "x") || (parent, command = "y") || (parent, command = "z"))
trigger2 = ((parent, command = "a") || (parent, command = "b") || (parent, command = "c"))
attr = S, HP
animtype = High
air.animtype = High
fall.animtype = High
damage = 4,2
getpower = 0
sprpriority = 2
hitflag = MADFP
guardflag = MA
pausetime = 0,0
sparkno = S3002
sparkxy = 0,0
guard.sparkno = S3002
hitsound = S200,8
guardsound = S120,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -5
guard.slidetime = 20
guard.hittime = 20
guard.velocity = -5
air.type = High
air.velocity = -5
airguard.velocity = -5
ground.cornerpush.veloff = 1
air.cornerpush.veloff = 1
down.cornerpush.veloff = 1
guard.cornerpush.veloff = 1
airguard.cornerpush.veloff = 1
p2stateno = 30103
envshake.time = 8
envshake.ampl = 2
palfx.time = 12
palfx.add = 255,255,255
palfx.mul = 128,128,128
forcestand = 1
yaccel = .5

[State 30001, Explod]
type = Explod
trigger1 = Random < 250
trigger1 = Movehit
anim = 6007
sprpriority = 3
postype = p2
pos = 0,-60
random = 0,60
bindtime = 1
ownpal = 1
id = 6007
pausemovetime = 999999
persistent = 1
ignorehitpause = 1

[State 30001, Explod]
type = Explod
trigger1 = Random < 250
trigger1 = Movehit
anim = 997
sprpriority = 3
postype = p2
pos = 0,-60
random = 0,60
bindtime = 1
ownpal = 1
id = 997
pausemovetime = 999999
persistent = 1
ignorehitpause = 1

[State 30001, TargetState]
type = TargetState
trigger1 = WinKO
value = 30103

[State 30001, TargetVelSet]
type = TargetVelSet
triggerall = parent, AnimElem = 44, = 0
trigger1 = enemyNear, StateType = S
trigger2 = enemyNear, StateType = C
x = -15

[State 30001, TargetVelSet]
type = TargetVelSet
triggerall = parent, AnimElem = 44, = 0
trigger1 = enemyNear, StateType = L
x = -4

[State 30001, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, AA, AT, AP
ignorehitpause = 1

[State 30001, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 3000
trigger2 = !AnimTime

;---------------------------------------------------------------------------
; Mega Optic Blast Air
[Statedef 3005]
type = A
movetype = A
physics = N
velset = 0,0
anim = 3006
sprpriority = 1
poweradd = -1000
juggle  = 9
ctrl = 0
hitcountpersist = 1

[State 3005, VelMul]
type = VelMul
trigger1 = !Time
x = .075
y = .125 ;.2

[State 3005, Explod]
type = Explod
trigger1 = Time = [1,11]
anim = 6023
postype = back
ID = 6023
sprpriority = -2
supermovetime = 1
removetime = 2
supermove = 1
scale = 3 - (time * 0.15), 3 - (time * 0.15)
pos = 0,60-time * 5
bindtime = 2
facing = 1
vfacing = 1
pausemove = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
name = "Cyclops Hyper Portrait"

[state 3005, Explod]
type = Explod
trigger1 = Time = 12
anim = 6023
postype = back
id = 6023
vel = -.25,0
sprpriority = -2
supermovetime = 29
removetime = 30
pos = 0,0
bindtime = 30
facing = 1
vfacing = 1
pausemove = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
name = "Cyclops Hyper Portrait"

[State 3005, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG ;<-- removes the stage layer
flag = noFG ;<-- removes the lifebars and any foreground stage layers
ignorehitpause = 1
persistent = 1

[State 3000, Explod]
type = Explod
trigger1 = Time = 12
removetime = 9999
id = 6027
anim = 6027
pos = 0,0
postype = Left
scale = 1,1
sprpriority = -4
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
name = "Black BG"

[State 3005, Explod]
type = Explod
trigger1 = time = 0
anim = 6024
ID = 6024
postype = p1
pos = 10,-107
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 3
supermove = 9999
pausemove = 9999
ontop = 1
scale = .8,.8
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
name = "CVS2 Hyper FX"

[State 3005, Explod]
type = Explod
trigger1 = Time = 45
removetime = 9999
id = 6021
anim = 6021
pos = 0,0
postype = Left
scale = 1,1
sprpriority = -4
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
name = "MVC2 Hyper BG"

[State 3005, Explod]
type = Explod
trigger1 = Time = 45
removetime = 9999
id = 6022
anim = 6022
pos = 0,0
postype = Left
scale = 1,1
sprpriority = -3
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
name = "DCVM Hyper BG"

[State 3005, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S3000,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 3005, SuperPause]
type = SuperPause
trigger1 = AnimElem = 4
time = 40
movetime = 40
anim = -1
sound = -1
pos = 0,0
darken = 1
p2defmul = 1
poweradd = 0
unhittable = 0

[State 3005, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S3000,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 3005, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = S3000,2
volume = 255
ignorehitpause = 1
persistent = 1

[State 3005, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = S3000,11
volume = 255
ignorehitpause = 1
persistent = 1

[State 1001, Explod]
type = Explod
trigger1 = AnimElem = 9, = 0
anim = 3001
sprpriority = 2
postype = p1
pos = -24,-25
bindtime = -1
ownpal = 1
id = 3001
removeongethit = 1

[State 3005, Explod]
type = Explod
trigger1 = AnimElem = 9, = 0
anim = 3004
sprpriority = 2
postype = p1
pos = -24,-25
bindtime = -1
id = 3001
ownpal = 1

[State 3005, Explod]
type = Explod
trigger1 = AnimElem = 9, = 0
anim = 3005
sprpriority = 2
postype = p1
pos = -24,-25
bindtime = -1
id = 3001
ownpal = 1

[State 3005, Helper]
type = Helper
trigger1 = AnimElem = 9, = 0
stateno = 30051
sprpriority = 3
postype = p1
pos = -24,-25
ownpal = 1
name = "Mega Optic Blast Beam Air Helper"
id = 30051

[State 3005, PosSet]
type = PosSet
trigger1 = Pos Y > -5
y = -5

[State 3005, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Mega Optic Blast Beam Air
[Statedef 30051]
type = A
movetype = A
physics = N
velset = 0,0
anim = 3001
juggle = 1
ctrl = 0
sprpriority = 0
hitcountpersist = 1

[State 30051, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1

[State 30051, PosSet]
type = PosSet
trigger1 = parent, facing = 1
x = parent, Pos X - 21
y = parent, Pos Y - 24
ignorehitpause = 1

[State 30051, PosSet]
type = PosSet
trigger1 = parent, facing = -1
x = parent, Pos X + 21
y = parent, Pos Y - 24
ignorehitpause = 1

[State 30051, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
triggerall = enemyNear, Anim != 5071
trigger1 = !MoveContact
trigger2 = TimeMod = 5 = 0
attr = S, HP
animtype = High
air.animtype = High
fall.animtype = High
damage = 8,4
getpower = 0
sprpriority = 1
hitflag = MADFP
guardflag = MA
pausetime = 0,0
sparkno = S3002
sparkxy = 0,0
guard.sparkno = S3002
hitsound = S200,8
guardsound = S120,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -5
guard.slidetime = 20
guard.hittime = 5
guard.velocity = -5
air.type = High
air.velocity = -5
airguard.velocity = -5
ground.cornerpush.veloff = 1
air.cornerpush.veloff = 1
down.cornerpush.veloff = 1
guard.cornerpush.veloff = 1
airguard.cornerpush.veloff = 1
p2stateno = 30103
envshake.time = 20
envshake.ampl = 2
palfx.time = 20
palfx.add = 255,255,255
palfx.mul = 128,128,128
forcestand = 1
yaccel = .5

[State 30051, HitDef]
type = HitDef
trigger4 = enemyNear, Anim != 5070
trigger5 = enemyNear, Anim != 5071
trigger6 = !MoveContact
triggerall = Random < 500
trigger1 = ((parent, command = "x") || (parent, command = "y") || (parent, command = "z"))
trigger2 = ((parent, command = "a") || (parent, command = "b") || (parent, command = "c"))
attr = S, HP
animtype = High
air.animtype = High
fall.animtype = High
damage = 4,2
getpower = 0
sprpriority = 1
hitflag = MADFP
guardflag = MA
pausetime = 0,0
sparkno = S3002
sparkxy = 0,0
guard.sparkno = S3002
hitsound = S200,8
guardsound = S120,0
ground.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -5
guard.slidetime = 20
guard.hittime = 5
guard.velocity = -5
air.type = High
air.velocity = -5
airguard.velocity = -5
ground.cornerpush.veloff = 1
air.cornerpush.veloff = 1
down.cornerpush.veloff = 1
guard.cornerpush.veloff = 1
airguard.cornerpush.veloff = 1
p2stateno = 30103
envshake.time = 10
envshake.ampl = 2
palfx.time = 10
palfx.add = 255,255,255
palfx.mul = 128,128,128
forcestand = 1
yaccel = .5

[State 30051, Explod]
type = Explod
trigger1 = Random < 250
trigger1 = MoveHit
anim = 6007
sprpriority = 3
postype = p2
pos = 0,-60
random = 0,60
bindtime = 1
ownpal = 1
id = 6007
pausemovetime = 999999
persistent = 1
ignorehitpause = 1

[State 30051, Explod]
type = Explod
trigger1 = Random < 250
trigger1 = MoveHit
anim = 997
sprpriority = 3
postype = p2
pos = 0,-60
random = 0,60
bindtime = 1
ownpal = 1
id = 997
pausemovetime = 999999
persistent = 1
ignorehitpause = 1

[State 30051, TargetState]
type = TargetState
trigger1 = WinKO
value = 30103

[State 30051, TargetVelSet]
type = TargetVelSet
triggerall = parent, AnimElem = 60, = 0
trigger1 = enemyNear, StateType = S
trigger2 = enemyNear, StateType = C
x = -15

[State 30051, TargetVelSet]
type = TargetVelSet
triggerall = parent, AnimElem = 60, = 0
trigger1 = enemyNear, StateType = L
x = -4

[State 30051, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, AA, AT, AP
ignorehitpause = 1

[State 30051, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 3005
trigger2 = !AnimTime

;---------------------------------------------------------------------------
; Optic Rage
[StateDef 3010]
type = S
movetype = A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3007
sprpriority = 2
poweradd = -3000
hitcountpersist = 1

[State 3010, VelSet]
type = VelSet
trigger1 = AnimElem = 8
x = -10
y = 0

[State 3010, Width]
type = Width
trigger1 = Anim = 3007 && Animelemtime(57)<0
value = 30,0

[State 3010, Explod]
type = Explod
trigger1 = time = 0
anim = 6006
ID = 6006
pos = 0,20
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = .9,.9
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
name = "MVC2 Special & Super Move Dust FX"

[State 3010, Explod]
type = Explod
trigger1 = Time = [1,11]
anim = 6023
postype = back
ID = 6023
sprpriority = -2
supermovetime = 1
removetime = 2
supermove = 1
scale = 3 - (time * 0.15), 3 - (time * 0.15)
pos = 0,60-time * 5
bindtime = 2
facing = 1
vfacing = 1
pausemove = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
name = "Cyclops Hyper Portrait"

[state 3010, Explod]
type = Explod
trigger1 = Time = 12
anim = 6023
postype = back
id = 6023
vel = -.25,0
sprpriority = -2
supermovetime = 40;29
removetime = 40;30
pos = 0,0
bindtime = 40;30
facing = 1
vfacing = 1
pausemove = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
name = "Cyclops Hyper Portrait"

[State 3010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG ;<-- removes the stage layer
flag = noFG ;<-- removes the lifebars and any foreground stage layers
ignorehitpause = 1
persistent = 1

[State 3010, Explod]
type = Explod
trigger1 = Time = 0
anim = 6024
ID = 6024
postype = p1
pos = 32, -89
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 3
supermove = 9999
pausemove = 9999
ontop = 1
scale = .8,.8
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
name = "CVS2 Hyper FX"

[State 3010, Explod]
type = Explod
trigger1 = Time = 12
removetime = 9999
id = 6027
anim = 6027
pos = 0,0
postype = Left
scale = 1,1
sprpriority = -4
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
name = "Black BG"

[State 3010, Explod]
type = Explod
trigger1 = Time = 45
removetime = 9999
id = 6021
anim = 6021
pos = 0,0
postype = Left
scale = 1,1
sprpriority = -4
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
name = "MVC2 Hyper BG"

[State 3010, Explod]
type = Explod
trigger1 = Time = 45
removetime = 9999
id = 6022
anim = 6022
pos = 0,0
postype = Left
scale = 1,1
sprpriority = -3
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
name = "DCVM Hyper BG"

[State 3010, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S3000,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 3010, SuperPause]
type = SuperPause
trigger1 = AnimElem = 6
time = 40
movetime = 40
anim = -1
sound = -1
pos = 0,0
darken = 1
p2defmul = 1
poweradd = 0
unhittable = 0

[State 3010, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = S3000,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 3010, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 9
value = S3000,7
volume = 255
ignorehitpause = 1
persistent = 1

[State 3010, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 10
value = S3000,11
volume = 255
ignorehitpause = 1
persistent = 1

[State 3010, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 72
value = S5000,7
volume = 255
ignorehitpause = 1
persistent = 1

[State 3010, Helper]
type = Helper
trigger1 = Time = 59;23
pos = 60, 80
Stateno = 30101
id = 3010

[State 3010, Helper]
type = Helper
trigger1 = Time = 69;33
pos = 140, 80
Stateno = 30101
id = 3010

[State 3010, Helper]
type = Helper
trigger1 = Time = 79;43
pos = 220, 80
Stateno = 30101
id = 3010

[State 3010, Helper]
type = Helper
trigger1 = Time = 89;53
pos = 300, 80
Stateno = 30101
id = 3010

[State 3010, Helper]
type = Helper
trigger1 = Time = 99;63
pos = 360, 80
Stateno = 30101
id = 3010

[State 3010, Helper]
type = Helper
trigger1 = Time = 109;73
pos = 440, 80
Stateno = 30101
id = 3010

[State 3010, Helper]
type = Helper
trigger1 = Time = 119;83
pos = 520, 80
Stateno = 30101
id = 3010

[State 3010, Helper]
type = Helper
trigger1 = Time = 129;93
pos = 600, 80
Stateno = 30101
id = 3010

[State 3010, Helper]
type = Helper
trigger1 = Time = 139;103
pos = 660, 80
Stateno = 30101
id = 3010

[State 3010, Helper]
type = Helper
trigger1 = Time = 149;113
pos = 740, 80
Stateno = 30101
id = 3010

[State 3010, Helper]
type = Helper
trigger1 = Time = 159;123
pos = 820, 80
Stateno = 30101
id = 3010

[State 3010, Helper]
type = Helper
trigger1 = Time = 169;133
pos = 900, 80
Stateno = 30101
id = 3010

[State 3010, Helper]
type = Helper
trigger1 = Time = 179;143
pos = 900, 80
Stateno = 30101
id = 3010

[State 3010, Helper]
type = Helper
trigger1 = AnimElem = 9
helpertype = Normal
name = "Floor Destruction"
ID = 30101
stateno = 30101
pos = 14,4
postype = p1
facing = 1
ownpal = 1
removeongethit = 1

[State 3010, Explod]
type = Explod
trigger1 = AnimElem = 9
anim = 3008
sprpriority = 3
postype = p1
pos = 15,14
bindtime = -1
ownpal = 1
id = 3008
removeongethit = 1
scale = 1, 1.13

[State 3000, Helper]
type = Helper
trigger1 = AnimElem = 9
helpertype = Normal
sprpriority = 3
stateno = 30102
postype = p1
pos = 15,14
ownpal = 1
facing = 1
name = "Optic Rage Beam Helper"
id = 30102
removeongethit = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 9
anim = 3004
sprpriority = 3
postype = p1
pos = 15,14
bindtime = -1
id = 3008
ownpal = 1
removeongethit = 1
removetime = 160
scale = 1, 1.13

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 9
anim = 3005
sprpriority = 3
postype = p1
pos = 15,14
bindtime = -1
id = 3008
ownpal = 1
removeongethit = 1
removetime = 160
scale = 1, 1.13

[State 3010, Explod]
type = Explod
trigger1 = Animelem = 72
anim = 6025
ID = 6025
pos = -5,-90
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 16
scale = 1,1
sprpriority = 2
ontop = 0
ownpal = 0
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 3010, Explod]
type = Explod
trigger1 = Animelem = 75
anim = 6025
ID = 6025
pos = 25,-53
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 16
scale = 1,1
sprpriority = 2
ontop = 0
ownpal = 0
removeongethit = 1
ignorehitpause = 1
persistent = 1

[State 3000, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Optic Rage Floor Destruction
[Statedef 30101]
type    = A
movetype= A
physics = N
juggle  = 1
poweradd= 0
ctrl = 0
velset = 0,-10
anim = 3009
sprpriority = 4

[State 30101, Envshake]
type = EnvShake
trigger1 = time = 1
ampl = 6
time = 120

[State 30101, VelAdd]
type = VelAdd
trigger1 = 1
y = .55

[State 30101, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SAC

[State 30101, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0

;---------------------------------------------------------------------------
; Optic Rage Beam
[Statedef 30102]
type = S
movetype = A
physics = N
velset = 0,0
sprpriority = 3
anim = 3008
juggle = 1
ctrl = 0
hitcountpersist = 1

[State 30102, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1

[State 30102, HitDef]
type = HitDef
triggerall = enemyNear, Anim != 5070
triggerall = enemyNear, Anim != 5071
trigger1 = !MoveContact
trigger2 = (GameTime%4) = 0;TimeMod = 4, = 0
attr = S, HP
animtype = High
air.animtype = High
fall.animtype = High
damage = 16,6
getpower = 0
sprpriority = 0
hitflag = MADFP
guardflag = MA
pausetime = 0,1
sparkno = S3002
sparkxy = 0,-10
guard.sparkno = S3002
hitsound = S200,8
guardsound = S120,0
ground.type = Trip
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -1
guard.slidetime = 20
guard.hittime = 5
guard.velocity = -1
air.type = High
air.velocity = -1
airguard.velocity = -1
ground.cornerpush.veloff = 1
air.cornerpush.veloff = 1
down.cornerpush.veloff = 1
guard.cornerpush.veloff = 1
airguard.cornerpush.veloff = 1
fall = 1
air.fall = 1
fall.recover = 1
fall.recovertime = 80
fall.envshake.time = 40
fall.envshake.freq = 360
fall.envshake.ampl = 6
fall.envshake.phase = 180
;p2stateno = 30103
palfx.time = 30
palfx.add = 255,255,255
palfx.mul = 128,128,128
forcestand = 1
yaccel = .5

[State 30102, Explod]
type = Explod
trigger1 = Random < 250
trigger1 = MoveHit
anim = 6007
sprpriority = 3
postype = p2
pos = 0,-60
random = 0,60
bindtime = 1
ownpal = 1
id = 6007
pausemovetime = 999999
persistent = 1
ignorehitpause = 1

[State 30102, Explod]
type = Explod
trigger1 = Random < 250
trigger1 = MoveHit
anim = 997
sprpriority = 3
postype = p2
pos = 0,-60
random = 0,60
bindtime = 1
ownpal = 1
id = 997
pausemovetime = 999999
persistent = 1
ignorehitpause = 1

[State 30102, TargetState]
type = TargetState
trigger1 = WinKO
value = 30103

[State 30102, TargetVelSet]
type = TargetVelSet
triggerall = parent, AnimElem = 65, = 0
trigger1 = enemyNear, StateType = S
trigger2 = enemyNear, StateType = C
x = -15

[State 30102, TargetVelSet]
type = TargetVelSet
triggerall = parent, AnimElem = 65, = 0
trigger1 = enemyNear, StateType = L
x = -4

[State 30102, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, AA, AT, AP
ignorehitpause = 1

[State 30102, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 3010
trigger2 = !AnimTime

;---------------------------------------------------------------------------
; Hit by Mega Optic Blast and Optic Rage
[Statedef 30103]
type = A
movetype = H
physics = N
anim = 5012
velset = 0,0
ctrl = 0

[State 10210, Turn]
type = Turn
trigger1 = !Time && !(p2dist X < 0 && facing != enemyNear, facing) && (facing = enemyNear, facing)
value = 1

[State 10210, VelSet]
type = VelSet
trigger1 = Time > 6
trigger1 = !Alive
x = -10
y = -10

[State 10210, SelfState]
type = SelfState
trigger1 = Time > 6
trigger1 = !Alive
value = 5050

[State 10210, ChangeAnim]
type = ChangeAnim
triggerall = ((enemyNear, StateNo = 3000) && (enemyNear, AnimElem = 50, >= 0)) || ((enemyNear, StateNo = [3005,3010]) && (enemyNear, AnimElem = 60 && AnimElem = 65, >= 0)) || ((enemyNear, StateNo != 3000) && (enemyNear, StateNo != 3005))
trigger1 = Time > 6
trigger1 = Alive
trigger1 = Anim != 5050 && Anim != 5051
value = IfElse(SelfAnimExist(5051),5051,5050)

[State 10210, Gravity]
type = Gravity
triggerall = ((enemyNear, StateNo = 3000) && (enemyNear, AnimElem = 50, >= 0)) || ((enemyNear, StateNo = [3005,3010]) && (enemyNear, AnimElem = 60 && AnimElem = 65, >= 0)) || ((enemyNear, StateNo != 3000) && (enemyNear, StateNo != 3005))
trigger1 = Time > 6
trigger1 = Alive

[State 10210, VelSet]
type = VelSet
triggerall = ((enemyNear, StateNo = 3000) && (enemyNear, AnimElem = 50, >= 0)) || ((enemyNear, StateNo = [3005,3010]) && (enemyNear, AnimElem = 60 && AnimElem = 65, >= 0)) || ((enemyNear, StateNo != 3000) && (enemyNear, StateNo != 3005))
trigger1 = Time > 6
trigger1 = Alive
y = -8
persistent = 0

[State 10210, SelfState]
type = SelfState
trigger1 = Time > 32
trigger1 = Alive
value = 5040

;------------------------------------------------------------------------------
; Hyper Optic Slam Start
[Statedef 3016]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3011
sprpriority = 2
poweradd = -1000
hitcountpersist = 1

[State 3016, Explod]
type = Explod
trigger1 = time = 0
anim = 6006
ID = 6006
pos = 0,20
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = .9,.9
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
name = "MVC2 Special & Super Move Dust FX"

[State 3016, Explod]
type = Explod
trigger1 = Time = [1,11]
anim = 6023
postype = back
ID = 6023
sprpriority = -2
supermovetime = 1
removetime = 2
supermove = 1
scale = 3 - (time * 0.15), 3 - (time * 0.15)
pos = 0,60-time * 5
bindtime = 2
facing = 1
vfacing = 1
pausemove = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
name = "Cyclops Hyper Portrait"

[state 3016, Explod]
type = Explod
trigger1 = Time = 12
anim = 6023
postype = back
id = 6023
vel = -.25,0
sprpriority = -2
supermovetime = 29
removetime = 30
pos = 0,0
bindtime = 30
facing = 1
vfacing = 1
pausemove = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
name = "Cyclops Hyper Portrait"

[State 3016, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG ;<-- removes the stage layer
flag = noFG ;<-- removes the lifebars and any foreground stage layers
ignorehitpause = 1
persistent = 1

[State 3016, Explod]
type = Explod
trigger1 = time = 0
anim = 6024
ID = 6024
postype = p1
pos = 0,-84
facing = 1
vfacing = 1
bindtime = -1
sprpriority = 3
supermove = 9999
pausemove = 9999
ontop = 1
scale = .8,.8
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
name = "CVS2 Hyper FX"

[State 3016, Explod]
type = Explod
trigger1 = Time = 12
removetime = 9999
id = 6027
anim = 6027
pos = 0,0
postype = Left
scale = 1,1
sprpriority = -4
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
name = "Black BG"

[State 3016, Explod]
type = Explod
trigger1 = Time = 45
removetime = 9999
id = 6021
anim = 6021
pos = 0,0
postype = Left
scale = 1,1
sprpriority = -4
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
name = "MVC2 Hyper BG"

[State 3016, Explod]
type = Explod
trigger1 = Time = 45
removetime = 9999
id = 6022
anim = 6022
pos = 0,0
postype = Left
scale = 1,1
sprpriority = -3
facing = 1
vfacing = 1
ownpal = 1
bindtime = -1
ontop = 0
ownpal = 1
supermove = 1
pausemove = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1
supermovetime = 9999
pausemovetime =  9999
name = "DCVM Hyper BG"

[State 3016, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S3000,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 3016, SuperPause]
type = SuperPause
trigger1 = AnimElem = 3
time = 40
movetime = 40
anim = -1
sound = -1
pos = 0,0
darken = 1
p2defmul = 1
poweradd = 0
unhittable = 0

[State 3016, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S3000,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 3016, MakeDust]
type = MakeDust
trigger1 = Time = [5,15]
pos = 26,-2
spacing = 4
ignorehitpause = 1
persistent = 1

[State 3016, NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 15

[State 3016, VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = 10

[State 3016, VelMul]
type = VelMul
trigger1 = AnimElem = 6
x = .28

[State 3016, VelSet]
type = VelSet
trigger1 = MoveGuarded
trigger1 = FrontEdgeBodyDist <= 120
x = -14

[State 3016, VelMul]
type = VelMul
trigger1 = Vel x <= -9
trigger1 = P2BodyDist X >= 50
x = .02

[State 3016, VelSet]
type = VelSet
trigger1 = MoveGuarded
trigger1 = FrontEdgeBodyDist > 120
x = .2

[State 3016, HitDef]
type = HitDef
trigger1 = AnimElem = 5
attr = S, HA
damage = 20,10
getpower = 0
givepower = 5
animtype = High
air.animtype = High
fall.animtype = High
guardflag = MA
hitflag = MAF
priority = 4,Hit
pausetime = 5,20
guard.pausetime = 5,5
guard.sparkno = S6008
sparkno = S6010+(random%3)
sparkxy = -12,-60
hitsound = S200,4
guardsound = S120,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0
guard.velocity = -15
airguard.velocity = -5,-5
air.type = Low
air.velocity = -2,-1
air.hittime = 20
forcestand = 1
snap = 70
kill = 0

[State 3016, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 3016, ChangeState]
type = ChangeState
trigger1 = MoveHit = 1
value = 3017
ctrl = 0

;---------------------------------------------------------------------------
; Hyper Optic Slam Combo
[Statedef 3017]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3012
poweradd = 0
sprpriority = 2
hitcountpersist = 1

[State 3017, NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 15

[State 3017, HitDef]
type = HitDef
trigger1 = AnimElem = 6
attr = S,HA
damage = 7,2
animtype = Low
guardflag = MA
hitflag = MAF
priority = 4,Hit
pausetime = 4,8
guard.sparkno = S6008
sparkno = S6010+(random%3)
sparkxy = -10,-56
hitsound = S200,3
guardsound = S120,0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 40
ground.velocity = -3
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 40
forcestand = 1
kill = 0
envshake.time = 8
envshake.ampl = 2

[State 3017, HitDef]
type = HitDef
trigger1 = AnimElem = 13
attr = S,HA
damage = 8,4
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 4,Hit
pausetime = 4,10
guard.sparkno = S6008
sparkno = S6010+(random%3)
sparkxy = -10,-70
hitsound = S200,4
guardsound = S120,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 40
ground.velocity = -3
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 40
forcestand = 1
kill = 0
envshake.time = 8
envshake.ampl = 2

[State 3017, HitDef]
type = HitDef
trigger1 = AnimElem = 22
attr = S,HA
damage = 9,6
animtype = High
guardflag = MA
hitflag = MAF
priority = 4,Hit
pausetime = 4,12
guard.sparkno = S6008
sparkno = S6010+(random%3)
sparkxy = -10,-76
hitsound = S200,5
guardsound = S120,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 40
ground.velocity = -3
airguard.velocity = -1.9,-.8
air.type = Low
air.velocity = -2.4,-2
air.hittime = 40
forcestand = 1
kill = 0
envshake.time = 8
envshake.ampl = 2

[State 3017, HitDef]
type = HitDef
trigger1 = AnimElem = 30
attr = S,HA
damage = 7,2
animtype = Low
guardflag = MA
hitflag = MAF
priority = 4,Hit
pausetime = 4,8
guard.sparkno = S6008
sparkno = S6010+(random%3)
sparkxy = -10,-56
hitsound = S200,3
guardsound = S120,0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 40
ground.velocity = -3
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 40
forcestand = 1
kill = 0
envshake.time = 8
envshake.ampl = 2

[State 3017, HitDef]
type = HitDef
trigger1 = AnimElem = 37
attr = S,HA
damage = 8,4
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 4,Hit
pausetime = 4,10
guard.sparkno = S6008
sparkno = S6010+(random%3)
sparkxy = -10,-70
hitsound = S200,4
guardsound = S120,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 40
ground.velocity = -3
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 40
forcestand = 1
kill = 0
envshake.time = 8
envshake.ampl = 2

[State 3017, HitDef]
type = HitDef
trigger1 = AnimElem = 46
attr = S,HA
damage = 9,6
animtype = High
guardflag = MA
hitflag = MAF
priority = 4,Hit
pausetime = 4,12
guard.sparkno = S6008
sparkno = S6010+(random%3)
sparkxy = -10,-76
hitsound = S200,5
guardsound = S120,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 40
ground.velocity = 0 ;-3
airguard.velocity = -1.9,-.8
air.type = Low
air.velocity = 0 ;-2.4,-2
air.hittime = 40
forcestand = 1
kill = 0
envshake.time = 8
envshake.ampl = 2

[State 3017, HitDef]
type = HitDef
trigger1 = AnimElem = 55
attr = S,HA
damage = 10,8
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 4,Hit
pausetime = 4,14
guard.sparkno = S6008
sparkno = S6010+(random%3)
sparkxy = -10,-75
hitsound = S200,4
guardsound = S120,0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 40
ground.velocity = -3
airguard.velocity = -1.7,-.8
air.type = High
air.velocity = -1.3,-3
air.hittime = 40
forcestand = 1
kill = 0
envshake.time = 8
envshake.ampl = 2

[State 3017, HitDef]
type = HitDef
trigger1 = AnimElem = 62
attr = S,HA
damage = 11,6
animtype = High
guardflag = MA
hitflag = MAF
priority = 4,Hit
pausetime = 20,40
guard.sparkno = S6008
sparkno = S6010+(random%3)
sparkxy = -10,-10
hitsound = S200,5
guardsound = S120,0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 40
ground.velocity = 0 ;-3
airguard.velocity = -1.9,-.8
air.type = Low
air.velocity = 0 ;-2.4,-2
air.hittime = 40
forcestand = 1
kill = 0
envshake.time = 8
envshake.ampl = 2

[State 3017, HitDef]
type = HitDef
trigger1 = AnimElem = 69
attr = S,HA
damage = 12,8
animtype = High
guardflag = MA
hitflag = MAF
priority = 4,Hit
pausetime = 20,25
guard.sparkno = S6008
sparkno = S6010+(random%3)
sparkxy = -10,-80
hitsound = S200,5
guardsound = S120,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 40
ground.velocity = -3
airguard.velocity = -1.7,-.8
air.type = High
air.velocity = -1.3,-3
air.hittime = 40
forcestand = 1
kill = 0
envshake.time = 8
envshake.ampl = 2

[State 3017, VelSet]
type = VelSet
trigger1 = Time >= 15
x = 3.5

[State 3017, Width]
type = Width
trigger1 = Time > 10 && Time < 70
value = 30

[State 3017, VelSet]
type = VarSet
trigger1 = 1
v = 17
value = 2

[State 3017, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 29
value = S0,0
volume = 255
ignorehitpause = 1
persistent = 1

[State 3017, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 12
trigger2 = AnimElem = 38
value = S0,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 3017, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 21
trigger2 = AnimElem = 45
value = S200,6
volume = 255
ignorehitpause = 1
persistent = 1

[State 3017, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 54
trigger2 = AnimElem = 61
value = S0,2
volume = 255
ignorehitpause = 1
persistent = 1

[State 3017, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 68
value = S1000,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 3017, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA, NA,NP

[State 3017, ChangeState]
type = ChangeState
trigger1 = AnimElem = 74
trigger1 = MoveHit
value = 3018

[State 3017, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = MoveHit < 1
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Hyper Optic Slam Grabing
[Statedef 3018]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
;anim = 798
ctrl = 0

[State 3018, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 798
value = 798

[State 3018, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
damage = 0
hitsound = S800,0
hitflag = M
guardflag =
pausetime = 0, 0
sparkno = -1
fall = 1
fall.recover = 0
p1stateno = 3019
p2stateno = 3020

[State 3018, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Hyper Optic Slam Throwing
[Statedef 3019]
type = S
movetype = I
physics = N
velset = 0,0
anim = 830
sprpriority = 1
ctrl = 0

[State 3019, VarAdd]
type = VarAdd
trigger1 = !Time
var(9) = 1

[State 3019, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 13, < 0
pos = 50,0

[State 3019, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3, = 0
value = S800,1
volume = 255
ignorehitpause = 1
persistent = 1

[State 3019, Explod]
type = Explod
trigger1 = AnimElem = 1, = 0
anim = 10830
sprpriority = 2
postype = p1
pos = 17,-94
removetime = 30
bindtime = -1
ownpal = 1
id = 10830
persistent = 0

[State 3019, Explod]
type = Explod
trigger1 = AnimElem = 3, = 0
anim = 997
sprpriority = 3
postype = p2
pos = 5,-94
removetime = 30
bindtime = -1
ownpal = 1
id = 997
persistent = 0

[State 3019, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 13, = 0
value = -150

[State 3019, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Hyper Optic Slam Thrown
[Statedef 3020]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0
facep2 = 1
ctrl = 0

[State 3020, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 831

[State 3020, VelSet]
type = VelSet
trigger1 = !AnimTime
x = -20
y = -4

[State 3020, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 843

;---------------------------------------------------------------------------
; Super Optic Blast Start
[Statedef 3500]
type = S
movetype = A
physics = S
velset = 0,0
anim = 3500
sprpriority = 1
poweradd = -1000
ctrl = 0
hitcountpersist=1

[State 3500, AfterImage]
type = AfterImage
trigger1 = Time = 0
time = 60
timegap = 1

[State 3500, Explod]
type = Explod
trigger1 = time = 0
ID = 995
postype = P1
pos = 0,0
anim = 995
scale = .5,.5
supermovetime = 99999
pausemovetime = 99999
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 3500, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG ;<-- removes the stage layer
flag = noFG ;<-- removes the lifebars and any foreground stage layers
ignorehitpause = 1

[State 3500, Explod]
type = Explod
;trigger1 = Time = [3,13]
trigger1 = animelem = 1
anim = 9009
postype = back
ID = 9009
sprpriority = -3
supermovetime = 1
removetime = 1
supermove = 1
scale = 3 - (time * 0.15), 3 - (time * 0.15)
pos = 0,60-time * 5

[state 3500, Explod]
type = Explod
;trigger1 = time = 14
trigger1 = animelem = 2
anim = 9009
postype = back
id = 9009
vel = -.25,0
sprpriority = -3
supermovetime = 29
removetime = 30
pos = 0,0

[State 3500, Explod]
type = Explod
trigger1 = time =0
anim = 9012
postype = p1
pos = 32, -89
sprpriority = 3
ontop = 1
scale = .5,.5
supermovetime = 45
ownpal = 1

[State 3500, Explod]
type = Explod
trigger1 = Animelem = 1
removetime = 9999
id = 9111
anim = 9111
pos = 160, 0
postype = Left
scale = 0.642,1
sprpriority = -3
facing = 1
ownpal = 1
bindtime = -1
supermove = 1
supermovetime = 1
removeongethit = 1
pausemovetime = 9999999
ignorehitpause = 1

[State 3500, Explod]
type = Explod
trigger1 = Animelem = 1
removetime = 9999
id = 9112
anim = 9112
pos = -160, 0
postype = Right
scale = 0.642,1
sprpriority = -3
facing = 1
ownpal = 1
bindtime = -1
supermove = 1
supermovetime = 1
removeongethit = 1
pausemovetime = 9999999
ignorehitpause = 1

[State 3003, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S5,0
channel = 0

[State 3003, SuperPause]
type = SuperPause
trigger1 = AnimElem = 5
time = 40
anim = -1
darken = 0

[State 3003, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S5,2
channel = 1

[State 3003, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = S3000,0
volume = 255

[State 3003, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = S5,1
channel = 0

[State 3500, VarSet]
type = VarSet
trigger1 = AnimElem = 7, = 1
var(15) = 0

[State 3500, VarSet]
type = VarSet
trigger1 = AnimElem = 7, = 1
var(16) = 6

[State 3500, VarSet]
type = VarSet
triggerall = AnimElem = 7, = 1
trigger1 = enemyNear, StateNo = [5070,5080]
trigger2 = enemyNear, StateNo = 15080
var(16) = 3

[State 3500, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 3501

;---------------------------------------------------------------------------
; Super Optic Blast
[Statedef 3501]
type = S
movetype = A
physics = S
velset = 0,0
sprpriority = 1
ctrl = 0

[State 3501, PlaySnd]
type = PlaySnd
trigger1 = PrevStateNo = 3500
value = 7,3
volume = 50
persistent = 0

[State 3501, ChangeAnim]
type = ChangeAnim
trigger1 = !Time
value = 3500 + var(16)

[State 3501, VarAdd]
type = VarAdd
trigger1 = AnimElem = 1, = 0
var(15) = 1

[State 3501, Helper]
type = Helper
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
stateno = 13500
postype = p1
pos = 0,0
bindtime = 1
ownpal = 1
id = 13500
name = "Super Optic Blast Attacking Beam"

[State 3501, Helper]
type = Helper
triggerall = AnimElem = 1, = 0
triggerall = var(15) > 1
triggerall = var(15) < 10
trigger1 = Anim = 3523
trigger2 = Anim = 3503
trigger3 = Anim = 3513
trigger4 = Anim = 3502
trigger5 = Anim = 3511
trigger6 = Anim = 3501
trigger7 = Anim = 3521
stateno = 13500
postype = p1
pos = 0,0
bindtime = 1
ownpal = 1
id = 33500
name = "Super Optic Blast Reflecting Beam"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3506
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13506
sprpriority = 2
postype = p1
pos = 11,-100
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 6"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3506
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23506
sprpriority = 2
postype = p1
pos = 11,-100
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 6"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3506
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33506
sprpriority = 2
postype = p1
pos = 11,-100
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 6"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3519
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13519
sprpriority = 2
postype = p1
pos = 10,-102
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 19"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3519
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23519
sprpriority = 2
postype = p1
pos = 10,-102
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 19"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3519
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33519
sprpriority = 2
postype = p1
pos = 10,-102
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 19"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3509
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13509
sprpriority = 2
postype = p1
pos = 9,-109
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 9"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3509
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23509
sprpriority = 2
postype = p1
pos = 9,-109
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 9"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3509
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33509
sprpriority = 2
postype = p1
pos = 9,-109
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 9"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3529
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13529
sprpriority = 2
postype = p1
pos = 6,-109
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 29"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3529
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23529
sprpriority = 2
postype = p1
pos = 6,-109
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 29"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3529
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33529
sprpriority = 2
postype = p1
pos = 6,-109
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 29"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3508
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13508
sprpriority = 2
postype = p1
pos = 0,-109
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 8"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3508
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23508
sprpriority = 2
postype = p1
pos = 0,-109
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 8"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3508
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33508
sprpriority = 2
postype = p1
pos = 0,-109
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 8"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3527
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13527
sprpriority = 2
postype = p1
pos = -5,-108
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 27"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3527
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23527
sprpriority = 2
postype = p1
pos = -5,-108
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 27"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3527
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33527
sprpriority = 2
postype = p1
pos = -5,-108
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 27"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3507
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13507
sprpriority = 2
postype = p1
pos = -6,-106
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 7"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3507
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23507
sprpriority = 2
postype = p1
pos = -6,-106
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 7"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3507
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33507
sprpriority = 2
postype = p1
pos = -6,-106
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 7"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3517
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13517
sprpriority = 2
postype = p1
pos = -9,-101
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 17"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3517
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23517
sprpriority = 2
postype = p1
pos = -9,-101
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 17"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3517
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33517
sprpriority = 2
postype = p1
pos = -9,-101
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 17"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3504
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13504
sprpriority = 2
postype = p1
pos = -10,-100
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 4"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3504
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23504
sprpriority = 2
postype = p1
pos = -10,-100
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 4"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3504
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33504
sprpriority = 2
postype = p1
pos = -10,-100
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 4"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3511
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13511
sprpriority = 2
postype = p1
pos = -11,-97
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 11"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3511
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23511
sprpriority = 2
postype = p1
pos = -11,-97
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 11"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3511
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33511
sprpriority = 2
postype = p1
pos = -11,-97
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 11"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3501
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13501
sprpriority = 2
postype = p1
pos = -7,-93
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 1"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3501
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23501
sprpriority = 2
postype = p1
pos = -7,-93
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 1"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3501
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33501
sprpriority = 2
postype = p1
pos = -7,-93
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 1"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3521
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13521
sprpriority = 2
postype = p1
pos = -5,-91
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 21"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3521
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23521
sprpriority = 2
postype = p1
pos = -5,-91
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 21"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3521
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33521
sprpriority = 2
postype = p1
pos = -5,-91
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 21"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3502
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13502
sprpriority = 2
postype = p1
pos = 0,-89
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 2"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3502
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23502
sprpriority = 2
postype = p1
pos = 0,-89
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 2"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3502
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33502
sprpriority = 2
postype = p1
pos = 0,-89
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 2"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3523
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13523
sprpriority = 2
postype = p1
pos = 5,-92
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 23"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3523
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23523
sprpriority = 2
postype = p1
pos = 5,-92
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 23"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3523
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33523
sprpriority = 2
postype = p1
pos = 5,-92
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 23"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3503
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13503
sprpriority = 2
postype = p1
pos = 7,-93
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 3"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3503
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23503
sprpriority = 2
postype = p1
pos = 7,-93
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 3"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3503
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33503
sprpriority = 2
postype = p1
pos = 7,-93
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 3"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3513
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13513
sprpriority = 2
postype = p1
pos = 12,-97
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 13"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3513
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23513
sprpriority = 2
postype = p1
pos = 12,-97
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 13"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3513
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33513
sprpriority = 2
postype = p1
pos = 12,-97
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 13"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3523
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 33500
sprpriority = 3
postype = p1
pos = 55,0
bindtime = -1
ownpal = 1
id = 33500
name = "Super Optic Blast Beam Glare 23"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3503
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 33500
sprpriority = 3
postype = p1
pos = 126,0
bindtime = -1
ownpal = 1
id = 33500
name = "Super Optic Blast Beam Glare 3"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3513
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 33500
sprpriority = 3
postype = p1
pos = 287,0
bindtime = -1
ownpal = 1
id = 33500
name = "Super Optic Blast Beam Glare 13"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3502
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 33500
sprpriority = 3
postype = p1
pos = 0,0
bindtime = -1
ownpal = 1
id = 33500
name = "Super Optic Blast Beam Glare 2"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3511
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 33500
sprpriority = 3
postype = p1
pos = -285,0
bindtime = -1
ownpal = 1
id = 33500
name = "Super Optic Blast Beam Glare 11"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3501
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 33500
sprpriority = 3
postype = p1
pos = -125,0
bindtime = -1
ownpal = 1
id = 33500
name = "Super Optic Blast Beam Glare 1"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3521
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 33500
sprpriority = 3
postype = p1
pos = -55,0
bindtime = -1
ownpal = 1
id = 33500
name = "Super Optic Blast Beam Glare 21"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3523
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 13552
sprpriority = 2
postype = p1
pos = 66,0
bindtime = -1
ownpal = 1
id = 13552
name = "Super Optic Blast Beam Reflect 23"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3503
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 13550
sprpriority = 2
postype = p1
pos = 137,0
bindtime = -1
ownpal = 1
id = 13550
name = "Super Optic Blast Beam Reflect 3"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3513
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 13551
sprpriority = 2
postype = p1
pos = 298,0
bindtime = -1
ownpal = 1
id = 13551
name = "Super Optic Blast Beam Reflect 13"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3502
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 13553
sprpriority = 2
postype = p1
pos = 1,0
bindtime = -1
ownpal = 1
id = 13553
name = "Super Optic Blast Beam Reflect 2"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3511
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23551
sprpriority = 2
postype = p1
pos = -296,0
bindtime = -1
ownpal = 1
id = 23551
name = "Super Optic Blast Beam Reflect 11"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3501
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23550
sprpriority = 2
postype = p1
pos = -136,0
bindtime = -1
ownpal = 1
id = 23550
name = "Super Optic Blast Beam Reflect 1"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3521
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23552
sprpriority = 2
postype = p1
pos = -66,0
bindtime = -1
ownpal = 1
id = 23552
name = "Super Optic Blast Beam Reflect 21"

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3506
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
var(16) = 19

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3506
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
var(16) = 13

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3519
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdback"
var(16) = 9
[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3519
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdfwd"
var(16) = 6

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3509
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdback"
var(16) = 29
[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3509
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdfwd"
var(16) = 19

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3529
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdback"
var(16) = 8
[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3529
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdfwd"
var(16) = 9

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3508
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdback"
var(16) = 27
[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3508
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdfwd"
var(16) = 29

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3527
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdfwd"
var(16) = 8
[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3527
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdback"
var(16) = 7

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3507
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdfwd"
var(16) = 27
[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3507
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdback"
var(16) = 17

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3517
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdfwd"
var(16) = 7
[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3517
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdback"
var(16) = 4

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3504
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
var(16) = 17
[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3504
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
var(16) = 11

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3511
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdback"
var(16) = 4
[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3511
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdfwd"
var(16) = 1

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3501
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdback"
var(16) = 11
[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3501
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdfwd"
var(16) = 21

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3521
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdback"
var(16) = 1
[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3521
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdfwd"
var(16) = 2

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3502
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdback"
var(16) = 21
[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3502
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdfwd"
var(16) = 23

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3523
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdfwd"
var(16) = 3
[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3523
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdback"
var(16) = 2

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3503
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdfwd"
var(16) = 13
[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3503
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdback"
var(16) = 23

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3513
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdfwd"
var(16) = 6
[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3513
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdback"
var(16) = 3

[State 3501, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = IfElse((var(15) = 10),3510,3501)

;---------------------------------------------------------------------------
; Super Optic Blast End
[Statedef 3510]
type = S
movetype = A
physics = S
velset = 0,0
;anim = 3510
sprpriority = 1
ctrl = 0

[State 3510, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 3510, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Super Optic Blast Beam
[Statedef 13500]
type = S
movetype = A
physics = N
velset = 0,0
ctrl = 0

[State 13500, StateTypeSet]
type = StateTypeSet
triggerall = Ishelper(33500)
triggerall = p2dist X < 90
triggerall = p2dist X > -90
trigger1 = parent, Anim = 3513
trigger2 = parent, Anim = 3503
trigger3 = parent, Anim = 3523
movetype = I

[State 13500, StateTypeSet]
type = StateTypeSet
triggerall = Ishelper(33500)
triggerall = (p2dist X >= 90) || (p2dist X <= -90)
trigger1 = parent, Anim = 3513
trigger2 = parent, Anim = 3503
trigger3 = parent, Anim = 3523
movetype = A

[State 13500, SprPriority]
type = SprPriority
trigger1 = Ishelper(33500)
value = 2

[State 13500, ChangeAnim]
type = ChangeAnim
trigger1 = !IsHelper(33500)
trigger1 = !Time
trigger1 = Anim != 20000 + parent, Anim
trigger1 = parent, var(15) > 1
trigger1 = parent, var(15) < 10
value = 20000 + parent, Anim
persistent = 0

[State 13500, ChangeAnim]
type = ChangeAnim
trigger1 = IsHelper(33500)
trigger1 = !Time
trigger1 = parent, Anim = 3523
trigger1 = Anim != 13552
trigger1 = parent, var(15) > 1
trigger1 = parent, var(15) < 10
value = 13552
persistent = 0

[State 13500, ChangeAnim]
type = ChangeAnim
trigger1 = IsHelper(33500)
trigger1 = !Time
trigger1 = parent, Anim = 3503
trigger1 = Anim != 13550
trigger1 = parent, var(15) > 1
trigger1 = parent, var(15) < 10
value = 13550
persistent = 0

[State 13500, ChangeAnim]
type = ChangeAnim
trigger1 = IsHelper(33500)
trigger1 = !Time
trigger1 = parent, Anim = 3513
trigger1 = Anim != 13551
trigger1 = parent, var(15) > 1
trigger1 = parent, var(15) < 10
value = 13551
persistent = 0

[State 13500, ChangeAnim]
type = ChangeAnim
trigger1 = IsHelper(33500)
trigger1 = !Time
trigger1 = parent, Anim = 3502
trigger1 = Anim != 13553
trigger1 = parent, var(15) > 1
trigger1 = parent, var(15) < 10
value = 13553
persistent = 0

[State 13500, ChangeAnim]
type = ChangeAnim
trigger1 = IsHelper(33500)
trigger1 = !Time
trigger1 = parent, Anim = 3511
trigger1 = Anim != 33551
trigger1 = parent, var(15) > 1
trigger1 = parent, var(15) < 10
value = 23551
persistent = 0

[State 13500, ChangeAnim]
type = ChangeAnim
trigger1 = IsHelper(33500)
trigger1 = !Time
trigger1 = parent, Anim = 3501
trigger1 = Anim != 33550
trigger1 = parent, var(15) > 1
trigger1 = parent, var(15) < 10
value = 23550
persistent = 0

[State 13500, ChangeAnim]
type = ChangeAnim
trigger1 = IsHelper(33500)
trigger1 = !Time
trigger1 = parent, Anim = 3521
trigger1 = Anim != 33552
trigger1 = parent, var(15) > 1
trigger1 = parent, var(15) < 10
value = 23552
persistent = 0

[State 13500, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3506
trigger1 = parent, facing = 1
x = parent, Pos X + 11
y = parent, Pos Y - 100
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3506
trigger1 = parent, facing = -1
x = parent, Pos X - 11
y = parent, Pos Y - 100
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3519
trigger1 = parent, facing = 1
x = parent, Pos X + 10
y = parent, Pos Y - 102
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3519
trigger1 = parent, facing = -1
x = parent, Pos X - 10
y = parent, Pos Y - 102
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3509
trigger1 = parent, facing = 1
x = parent, Pos X + 9
y = parent, Pos Y - 109
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3509
trigger1 = parent, facing = -1
x = parent, Pos X - 9
y = parent, Pos Y - 109
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3529
trigger1 = parent, facing = 1
x = parent, Pos X + 6
y = parent, Pos Y - 109
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3529
trigger1 = parent, facing = -1
x = parent, Pos X - 6
y = parent, Pos Y - 109
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3508
trigger1 = parent, facing = 1
x = parent, Pos X
y = parent, Pos Y - 109
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3508
trigger1 = parent, facing = -1
x = parent, Pos X
y = parent, Pos Y - 109
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3527
trigger1 = parent, facing = 1
x = parent, Pos X - 5
y = parent, Pos Y - 108
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3527
trigger1 = parent, facing = -1
x = parent, Pos X + 5
y = parent, Pos Y - 108
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3507
trigger1 = parent, facing = 1
x = parent, Pos X - 6
y = parent, Pos Y - 106
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3507
trigger1 = parent, facing = -1
x = parent, Pos X + 6
y = parent, Pos Y - 106
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3517
trigger1 = parent, facing = 1
x = parent, Pos X - 9
y = parent, Pos Y - 101
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3517
trigger1 = parent, facing = -1
x = parent, Pos X + 9
y = parent, Pos Y - 101
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3504
trigger1 = parent, facing = 1
x = parent, Pos X - 10
y = parent, Pos Y - 100
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3504
trigger1 = parent, facing = -1
x = parent, Pos X + 10
y = parent, Pos Y - 100
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3511
trigger1 = parent, facing = 1
x = parent, Pos X - 11
y = parent, Pos Y - 97
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3511
trigger1 = parent, facing = -1
x = parent, Pos X + 11
y = parent, Pos Y - 97
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3501
trigger1 = parent, facing = 1
x = parent, Pos X - 7
y = parent, Pos Y - 93
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3501
trigger1 = parent, facing = -1
x = parent, Pos X + 7
y = parent, Pos Y - 93
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3521
trigger1 = parent, facing = 1
x = parent, Pos X - 5
y = parent, Pos Y - 91
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3521
trigger1 = parent, facing = -1
x = parent, Pos X + 5
y = parent, Pos Y - 91
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3502
trigger1 = parent, facing = 1
x = parent, Pos X
y = parent, Pos Y - 89
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3502
trigger1 = parent, facing = -1
x = parent, Pos X
y = parent, Pos Y - 89
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3523
trigger1 = parent, facing = 1
x = parent, Pos X + 5
y = parent, Pos Y - 92
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3523
trigger1 = parent, facing = -1
x = parent, Pos X - 5
y = parent, Pos Y - 92
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3503
trigger1 = parent, facing = 1
x = parent, Pos X + 7
y = parent, Pos Y - 93
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3503
trigger1 = parent, facing = -1
x = parent, Pos X - 7
y = parent, Pos Y - 93
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3513
trigger1 = parent, facing = 1
x = parent, Pos X + 12
y = parent, Pos Y - 97
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3513
trigger1 = parent, facing = -1
x = parent, Pos X - 12
y = parent, Pos Y - 97
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3511
trigger1 = parent, facing = 1
x = parent, Pos X - 285
y = 0
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3511
trigger1 = parent, facing = -1
x = parent, Pos X + 285
y = 0
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3501
trigger1 = parent, facing = 1
x = parent, Pos X - 125
y = 0
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3501
trigger1 = parent, facing = -1
x = parent, Pos X + 125
y = 0
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3521
trigger1 = parent, facing = 1
x = parent, Pos X - 55
y = 0
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3521
trigger1 = parent, facing = -1
x = parent, Pos X + 55
y = 0
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3502
x = parent, Pos X
y = 0
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3523
trigger1 = parent, facing = 1
x = parent, Pos X + 55
y = 0
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3523
trigger1 = parent, facing = -1
x = parent, Pos X - 55
y = 0
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3503
trigger1 = parent, facing = 1
x = parent, Pos X + 126
y = 0
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3503
trigger1 = parent, facing = -1
x = parent, Pos X - 126
y = 0
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3513
trigger1 = parent, facing = 1
x = parent, Pos X + 287
y = 0
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3513
trigger1 = parent, facing = -1
x = parent, Pos X - 287
y = 0
ignorehitpause = 1

[State 13500, VarSet]
type = VarSet
trigger1 = MoveContact = 1
fvar(0) = floor(p2dist X)
persistent = 0
ignorehitpause = 1

[State 13500, HitDef]
type = HitDef
triggerall = p2statetype != L
triggerall = !MoveContact
trigger1 = parent, Anim = 3506
trigger2 = parent, Anim = 3513
trigger3 = parent, Anim = 3503
trigger4 = parent, Anim = 3523
attr = S, HP
animtype = Hard
damage = 28,7
getpower = 0
sprpriority = 1 + IsHelper(33500)
hitflag = MAF
guardflag = MA
pausetime = 0,0
sparkno = S7500
hitsound = S7,1 + ((Random < 400) * 98)
guardsound = S202,0
guard.sparkno = S997
ground.type = High
ground.slidetime = 20
ground.hittime = 22
ground.velocity = -6
guard.slidetime = 14
guard.hittime = 19
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-6
airguard.velocity = -2,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25

[State 13500, HitDef]
type = HitDef
triggerall = p2statetype = L
triggerall = !MoveContact
trigger1 = parent, Anim = 3506
trigger2 = parent, Anim = 3513
trigger3 = parent, Anim = 3503
trigger4 = parent, Anim = 3523
attr = S, HP
animtype = Hard
damage = 28,7
getpower = 0
sprpriority = 1 + IsHelper(33500)
hitflag = MAFD
guardflag = MA
pausetime = 0,0
sparkno = S7500
hitsound = S7,1 + ((Random < 400) * 98)
guardsound = S202,0
guard.sparkno = S998
ground.type = High
ground.slidetime = 20
ground.hittime = 22
ground.velocity = -6
guard.slidetime = 14
guard.hittime = 19
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-6
airguard.velocity = -2,0
down.velocity = 0,-6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25
;p2stateno = 15080

[State 13500, HitDef]
type = HitDef
triggerall = p2statetype != L
triggerall = !MoveContact
trigger1 = parent, Anim = 3502
trigger2 = parent, Anim = 3508
attr = S, HP
animtype = Hard
damage = 28,7
getpower = 0
sprpriority = 1 + IsHelper(33500)
hitflag = MAF
guardflag = MA
pausetime = 0,0
sparkno = S7500
hitsound = S7,1 + ((Random < 400) * 98)
guardsound = S202,0
guard.sparkno = S999
ground.type = Low
ground.slidetime = 20
ground.hittime = 22
ground.velocity = 0
guard.slidetime = 14
guard.hittime = 19
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-6
airguard.velocity = -3,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25

[State 13500, HitDef]
type = HitDef
triggerall = p2statetype = L
triggerall = !MoveContact
trigger1 = parent, Anim = 3502
trigger2 = parent, Anim = 3508
attr = S, HP
animtype = Hard
damage = 28,7
getpower = 0
sprpriority = 1 + IsHelper(33500)
hitflag = MAFD
guardflag = MA
pausetime = 0,0
sparkno = S7500
hitsound = S7,1 + ((Random < 400) * 98)
guardsound = S202,0
guard.sparkno = S997
ground.type = Low
ground.slidetime = 20
ground.hittime = 22
ground.velocity = 0
guard.slidetime = 14
guard.hittime = 19
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-6
airguard.velocity = -3,0
down.velocity = 0,-6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25
;p2stateno = 15080

[State 13500, HitDef]
type = HitDef
triggerall = p2statetype != L
triggerall = !MoveContact
trigger1 = parent, Anim = 3504
trigger2 = parent, Anim = 3511
trigger3 = parent, Anim = 3501
trigger4 = parent, Anim = 3521
attr = S, HP
animtype = Hard
damage = 28,7
getpower = 0
sprpriority = 1 + IsHelper(33500)
hitflag = MAF
guardflag = MA
pausetime = 0,0
sparkno = S7500
hitsound = S7,1 + ((Random < 400) * 98)
guardsound = S202,0
guard.sparkno = S998
ground.type = High
ground.slidetime = 20
ground.hittime = 22
ground.velocity = 6
guard.slidetime = 14
guard.hittime = 19
guard.slidetime = 11
guard.hittime = 11
guard.velocity = 6
air.velocity = 0,6
airguard.velocity = 2,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25

[State 13500, HitDef]
type = HitDef
triggerall = p2statetype = L
triggerall = !MoveContact
trigger1 = parent, Anim = 3504
trigger2 = parent, Anim = 3511
trigger3 = parent, Anim = 3501
trigger4 = parent, Anim = 3521
attr = S, HP
animtype = Hard
damage = 28,7
getpower = 0
sprpriority = 1 + IsHelper(33500)
hitflag = MAFD
guardflag = MA
pausetime = 0,0
sparkno = S7500
hitsound = S7,1 + ((Random < 400) * 98)
guardsound = S202,0
guard.sparkno = S999
ground.type = High
ground.slidetime = 20
ground.hittime = 22
ground.velocity = 6
guard.slidetime = 14
guard.hittime = 19
guard.slidetime = 11
guard.hittime = 11
guard.velocity = 6
air.velocity = 0,6
airguard.velocity = 2,0
down.velocity = 0,-6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25
;p2stateno = 15080

[State 13500, HitDef]
type = HitDef
triggerall = !MoveContact
trigger1 = parent, Anim = 3519
trigger2 = parent, Anim = 3509
trigger3 = parent, Anim = 3529
attr = S, HP
animtype = Hard
damage = 28,7
getpower = 0
sprpriority = 1 + IsHelper(33500)
hitflag = MAF
guardflag = MA
pausetime = 0,0
sparkno = S7500
hitsound = S7,1 + ((Random < 400) * 98)
guardsound = S202,0
guard.sparkno = S997
ground.type = Low
ground.slidetime = 20
ground.hittime = 22
ground.velocity = -6
guard.slidetime = 14
guard.hittime = 19
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-7
airguard.velocity = -2,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25

[State 13500, HitDef]
type = HitDef
triggerall = !MoveContact
trigger1 = parent, Anim = 3517
trigger2 = parent, Anim = 3507
trigger3 = parent, Anim = 3527
attr = S, HP
animtype = Hard
damage = 28,7
getpower = 0
sprpriority = 1 + IsHelper(33500)
hitflag = MAF
guardflag = MA
pausetime = 0,0
sparkno = S7500
hitsound = S7,1 + ((Random < 400) * 98)
guardsound = S202,0
guard.sparkno = S998
ground.type = Low
ground.slidetime = 20
ground.hittime = 22
ground.velocity = 6
guard.slidetime = 14
guard.hittime = 19
guard.slidetime = 11
guard.hittime = 11
guard.velocity = 6
air.velocity = 0,-7
airguard.velocity = 2,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25

[State 13500 1];Button Mash!
type = hitdef
trigger1 = (parent,Command = "x")||(parent,Command = "y") ||(parent,Command = "z") ||(parent,Command = "a") ||(parent,Command = "b") ||(parent,Command = "c")
attr = S, HP
animtype  = Hard
damage    = 9,2
getpower = 0,0
hitflag = MAFP
guardflag = MA
pausetime = 0,5
sparkno = S997
sparkxy = -25,5
hitsound   = S7,1
guardsound = S202, 0
ground.type = Low
air.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -6,-5
air.velocity = -9,-4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p2facing = 1
fall = 1
fall.recover = 0
yaccel = .3

[State 13500, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 13500, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 13500
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 13500, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 13500, Explod]
type = Explod
trigger1 = parent, Anim = 3506
trigger1 = MoveHit = 1
anim = 997
sprpriority = 2
postype = p1
pos = (floor(fvar(0)) + 25),0
bindtime = 1
ownpal = 1
id = 997
pausemovetime = 999999
persistent = 0
ignorehitpause = 1

[State 13500, Explod]
type = Explod
triggerall = !IsHelper(33500)
triggerall = MoveHit = 1
trigger1 = parent, Anim = 3513
trigger2 = parent, Anim = 3503
trigger3 = parent, Anim = 3523
anim = 10999
sprpriority = 2
postype = p1
pos = (floor(fvar(0)) + 25),80
bindtime = 1
ownpal = 1
id = 10999
pausemovetime = 999999
persistent = 0
ignorehitpause = 1

[State 13500, Explod]
type = Explod
triggerall = IsHelper(33500)
triggerall = MoveHit = 1
trigger1 = parent, Anim = 3513
trigger2 = parent, Anim = 3503
trigger3 = parent, Anim = 3523
anim = 999
sprpriority = 2
postype = p1
pos = (floor(fvar(0)) + 25),-40
bindtime = 1
ownpal = 1
id = 999
pausemovetime = 999999
persistent = 0
ignorehitpause = 1

[State 13500, Explod]
type = Explod
triggerall = !IsHelper(33500)
trigger1 = parent, Anim = 3502
trigger1 = MoveHit = 1
anim = 996
sprpriority = 2
postype = p1
pos = 0,floor(p2dist Y - 40)
bindtime = 1
ownpal = 1
id = 996
pausemovetime = 999999
persistent = 0
ignorehitpause = 1

[State 13500, Explod]
type = Explod
triggerall = IsHelper(33500)
trigger1 = parent, Anim = 3502
trigger1 = MoveHit = 1
anim = 998
sprpriority = 2
postype = p1
pos = 0,floor(p2dist Y - 40)
bindtime = 1
ownpal = 1
id = 998
pausemovetime = 999999
persistent = 0
ignorehitpause = 1

[State 13500, Explod]
type = Explod
triggerall = !IsHelper(33500)
trigger1 = parent, Anim = 3508
trigger1 = MoveHit = 1
anim = 998
sprpriority = 2
postype = p1
pos = 0,floor(p2dist Y - 40)
bindtime = 1
ownpal = 1
id = 998
pausemovetime = 999999
persistent = 0
ignorehitpause = 1

[State 13500, Explod]
type = Explod
trigger1 = parent, Anim = 3504
trigger1 = MoveHit = 1
anim = 997
sprpriority = 2
postype = p1
pos = (floor(fvar(0)) + 25),0
facing = -1
bindtime = 1
ownpal = 1
id = 997
pausemovetime = 999999
persistent = 0
ignorehitpause = 1

[State 13500, Explod]
type = Explod
triggerall = !IsHelper(33500)
triggerall = MoveHit = 1
trigger1 = parent, Anim = 3511
trigger2 = parent, Anim = 3501
trigger3 = parent, Anim = 3521
anim = 10999
sprpriority = 2
postype = p1
pos = (floor(fvar(0)) + 25),80
facing = -1
bindtime = 1
ownpal = 1
id = 10999
pausemovetime = 999999
persistent = 0
ignorehitpause = 1

[State 13500, Explod]
type = Explod
triggerall = IsHelper(33500)
triggerall = MoveHit = 1
trigger1 = parent, Anim = 3511
trigger2 = parent, Anim = 3501
trigger3 = parent, Anim = 3521
anim = 999
sprpriority = 2
postype = p1
pos = (floor(fvar(0)) + 25),-40
facing = -1
bindtime = 1
ownpal = 1
id = 999
pausemovetime = 999999
persistent = 0
ignorehitpause = 1

[State 13500, ParentVarAdd]
type = ParentVarAdd
trigger1 = HitCount = 1
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 13500, Explod]
type = Explod
triggerall = MoveHit = 1
trigger1 = parent, Anim = 3519
trigger2 = parent, Anim = 3509
trigger3 = parent, Anim = 3529
anim = 999
sprpriority = 2
postype = p1
pos = (floor(fvar(0)) + 25),(floor(p2dist Y - 90))
bindtime = 1
ownpal = 1
id = 999
pausemovetime = 999999
persistent = 0
ignorehitpause = 1

[State 13500, Explod]
type = Explod
triggerall = MoveHit = 1
trigger1 = parent, Anim = 3517
trigger2 = parent, Anim = 3507
trigger3 = parent, Anim = 3527
anim = 999
sprpriority = 2
postype = p1
pos = (floor(fvar(0)) + 25),(floor(p2dist Y - 90))
facing = -1
bindtime = 1
ownpal = 1
id = 999
pausemovetime = 999999
persistent = 0
ignorehitpause = 1

[State 13500, VarSet]
type = VarSet
trigger1 = MoveContact
var(3) = 1
ignorehitpause = 1

[State 13500, ParentVarSet]
type = ParentVarSet
trigger1 = var(3)
trigger1 = WinKO
trigger1 = enemyNear, LoseKO
var(8) = 1
ignorehitpause = 1

[State 13500, VarSet]
type = VarSet
trigger1 = MoveHit
var(59) = 15
persistent = 0
ignorehitpause = 1

[State 13500, VarAdd]
type = VarAdd
trigger1 = var(59) > 0
var(59) = -1
ignorehitpause = 1

[State 13500, ParentVarSet]
type = ParentVarSet
trigger1 = Random < 100
trigger1 = var(59)
var(39) = 1
persistent = 0
ignorehitpause = 1

[State 13500, DestroySelf]
type = DestroySelf
trigger1 = !AnimTime
trigger2 = parent, StateNo != 3501


;---------------------------------------------------------------------------;
;                      HYPER/SUPER BG'S AND SOUNDS                        ;
;---------------------------------------------------------------------------;
; Hyper Combo Finish BG by Kamekaze
[Statedef 6000]
movetype= I
physics = S
velset = 0,0
anim = 123456
ctrl = 0
sprpriority = 5

[State 6000, Hyper Combo Finish]
type = PlaySnd
trigger1 = Time = 10
value = S5000,13
volume = 255
ignorehitpause = 1
persistent = 1

[State 6000, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S5000,11
volume = 255
ignorehitpause = 1
persistent = 1

[State 6000, PlaySnd]
type = PlaySnd
trigger1 = Time = 120
value = S5000,12
volume = 255
ignorehitpause = 1
persistent = 1

[State 6000, Explod]
type = Explod
trigger1 = Time = 0
anim = 6026
ID = 6026
postype = Left
pos = 0,0
bindtime = -1
facing = 1
vfacing = 1
removetime = -2
sprpriority = -3
scale = 1,1
ownpal = 1
ignorehitpause = 1
ontop = 0
supermovetime = 9999
pausemovetime  = 9999
name = "MVC2 Hyper Combo Finish BG"

[State 6000, Explod]
type = Explod
trigger1 = Time = 0
anim = 6027
ID = 6027
postype = Left
pos = 0,0
bindtime = -1
facing = 1
vfacing = 1
removetime = 120
sprpriority = -3
scale = 1,1
ownpal = 1
ignorehitpause = 1
ontop = 0
supermovetime = 9999
pausemovetime  = 9999
name = "Black BG"

[State 6000, Explod]
type = Explod
trigger1 = Time = 120
anim = 6028
ID = 6028
postype = Left
pos = 0,0
bindtime = -1
facing = 1
vfacing = 1
removetime = -2
sprpriority = -3
scale = 1,1
ownpal = 1
ignorehitpause = 1
ontop = 0
supermovetime = 9999
pausemovetime  = 9999
name = "TVC Glass Shatter"

;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------

[Statedef -2]
;------------------------------------------------------------------------------;
;                          CUSTOM MVC2 SYSTEM PART 2                           ;
;------------------------------------------------------------------------------;
; Get Hit Sounds
[State -2]
type = PlaySnd
triggerall = LoseKO = 0
triggerall = random < 500
triggerall = time = 1
triggerall = StateNo = 5000 || StateNo = 5010 || StateNo = 5020
trigger1 = GetHitVar(AnimType) = 0
value = S5000,0
volume = 255
ignorehitpause = 1
persistent = 1

[State -2]
type = PlaySnd
triggerall = LoseKO = 0
triggerall = random < 500
triggerall = time = 1
triggerall = StateNo = 5000 || StateNo = 5010 || StateNo = 5020
trigger1 = GetHitVar(AnimType) = 1
value = S5000,1
volume = 255
ignorehitpause = 1
persistent = 1

[State -2]
type = PlaySnd
triggerall = LoseKO = 0
triggerall = random < 500
triggerall = time = 1
triggerall = StateNo = 5000 || StateNo = 5010 || StateNo = 5020
trigger1 = GetHitVar(AnimType) >= 2
value = S5000,2
volume = 255
ignorehitpause = 1
persistent = 1

[State -2]
type = VarAdd
trigger1 = LoseKO = 1
var(3) = 1
ignorehitpause = 1

[State -2]
type = PlaySnd
trigger1 = var(3) = 1
value = S5000,8
volume = 255
ignorehitpause = 1
persistent = 1

[State -2]
type = PlaySnd
trigger1 = var(3) = 1
value = S5000,7
volume = 255
ignorehitpause = 1
persistent = 1

;---------------------------------------------------------------------------
; Remove Hyper BG
[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [1000,4000]
trigger2 = winko
id = 6021

[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [1000,4000]
trigger2 = winko
id = 6022

[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [1000,4000]
trigger2 = winko
id = 6027

;----------------------------------------------------------------------------
; First Attack Announcer
[State -2, First Attack]
type = VarSet
triggerall = Var(4) = 0
triggerall = RoundState = 2
trigger1 = movetype = A && movehit
trigger2 = NumHelper = 1
trigger2 = helper, movehit
trigger3 = (stateno = [1000,1041]) || stateno = [3000,4500]
trigger3 = p2movetype = H && p2stateno != [120,160]
v = 4
value = 1
ignorehitpause = 1

[State -2, First Attack]
type = PlaySnd
triggerall = (Teamside =1 && IsHomeTeam) || (Teamside =2 && !IsHomeTeam) || (TeamSide=1 && !IsHomeTeam)
trigger1 = Var(4) = 1
value = S0,3
volume = 255
ignorehitpause = 0
persistent = 1

[State -3, First Attack Left]
trigger1 = Var(4) = 1
trigger1 = TeamSide = 1
type = Explod
ownpal = 1
anim = 6014
postype = Left
pos = 5,50
ontop = 1
bindtime = -1
facing = 1
vfacing = 1
scale = .4,.4
ID = 6014
removetime = 50
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State -3, First Attack Right]
trigger1 = Var(4) = 1
trigger1 = TeamSide = 2 && !IsHomeTeam
type = Explod
ownpal = 1
anim = 6015
ontop = 1
postype = Right
pos = -125,50
bindtime = -1
facing = 1
vfacing = 1
scale = .4,.4
ID = 6015
removetime = 50
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State -2, First Attack]
type = VarSet
trigger1 = Var(4) = 1
trigger2 = movetype = H && Var(4) = 0 && stateno != [150,159]
v = 4
value = 2

;-----------------------------------------------------------------------------
; Air Combo Announcer Related
[State -2, Super Jump Detect VarSet Reset]
type = VarSet
trigger1 = (StateType = L) || ((StateType = S) && (StateNo != 40))
v = 15
value = 0

[State -2, VarReset]
type = VarSet
trigger1 = (StateType != A) || (P2MoveType != H)
v = 16
value = 0

;----------------------------------------------------------------------------
; Damage Dampener
[State -2, VarSet]
type = VarSet
trigger1 = numenemy
fvar(1) = enemynear,gethitvar(hitcount)
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
trigger1 = numenemy
trigger1 = (enemynear,movetype!=H)
trigger2 = !numenemy
fvar(1) = 1

[State -2, VarSet]
type = VarSet
trigger1 = 1
fvar(0) = ifelse(fvar(1) = 0, 1, ifelse(fvar(1) = 1, .8, .8**fvar(1)))
ignorehitpause = 1

[State -2, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = fvar(0)
ignorehitpause = 1

;-----------------------------------------------------------------------------
; Wall Hit
[State -2, Explod]
type = Explod
triggerall = Time = 1
triggerall = Enemynear,StateNo!= [120,155]
trigger1 = Enemynear,Movetype = H
trigger1 = Enemynear,Backedgedist<15
trigger1 = Enemynear,Statetype = A
trigger2 = Enemy,Movetype = H
trigger2 = Enemy,frontedgebodydist<25
trigger2 = Enemy,stateno = 5400
anim = 6013
pos = -15,(enemy,const(size.mid.pos.y))
postype = p2
sprpriority = -3
bindtime = 1
facing = -1
scale = 0.6,0.52
removetime = -2
id = 6013
shadow = 0,0,0
ownpal = 1

[State -2, PlaySnd]
type = PlaySnd
triggerall = Time = 1
triggerall = Enemynear,StateNo!= [120,155]
trigger1 = Enemynear,Movetype = H
trigger1 = Enemynear,Backedgedist<15
trigger1 = Enemynear,Statetype = A
trigger2 = Enemy,Movetype = H
trigger2 = Enemy,frontedgebodydist<25
trigger2 = Enemy,stateno = 5400
value = S5000,3
volume = 255
ignorehitpause = 1
persistent = 1

;---------------------------------------------------------------------------
; Hyper Combo Finish BG & Sounds
[State -2, Helper]
type = Helper
trigger1 = winko && stateno = [3000,4500]
triggerall = NumHelper(6000) < 1
helpertype = normal
name = "Hyper Combo Finish BG"
ID = 6000
stateno = 6000
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 0
supermove = 1
pausemove = 1
supermovetime = 999999
pausemovetime = 999999
ignorehitpause = 1

;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -3]

;This controller plays a sound everytime the player lands from a jump, or
;from a back-dash.
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52 ;Jump land
trigger2 = stateno = 106 ;Run-back land
value = S52, 0
volume = 255
ignorehitpause = 1
persistent = 1

;-------------------------------------------------------------------------------
; Danger Announcer
[State -3, Danger Sound]
type = PlaySnd
trigger1 = (Life <= 200) && (var(9) = 0)
value = S5000,9
volume = 255
ignorehitpause = 1
persistent = 1

[State -3, Danger Sound]
type = PlaySnd
trigger1 = (Life <= 200) && (var(9) = 0)
value = S5000,10
volume = 255
ignorehitpause = 1
persistent = 1

[State -3, VarSet]
type = VarSet
trigger1 = Life <= 200
trigger1 = !time
trigger1 = var(9) < 9
v = 9
value = 1

[State -3, Danger Left]
triggerall = Var(9) = 1
triggerall = TeamSide = 1
trigger1 = Life <= 200
type = Explod
ownpal = 1
anim = 6018
id = 6018
postype = Left
pos = 5,50
ontop = 1
bindtime = -1
facing = 1
vfacing = 1
scale = .4,.4
removetime = 50
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State -3, Danger Right]
triggerall = Var(9) = 1
triggerall = TeamSide = 2 && !IsHomeTeam
trigger1 = Life <= 200
type = Explod
ownpal = 1
anim = 6019
id = 6019
postype = Right
pos = -70,50
ontop = 1
bindtime = -1
facing = 1
vfacing = 1
scale = .4,.4
removetime = 50
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State -3, VarAdd]
type = VarAdd
trigger1 = life <= 200
v = 9
value = 1

;-------------------------------------------------------------------------------
; Air Combo Announcer
[State -3: Hits]
type = VarAdd
trigger1 = HitCount > var(5)
v = 6
value = 1

[State -3: Combo Counter]
type = VarSet
trigger1 = HitCount > var(5)
trigger2 = HitCount = 0
var(5) = HitCount

[State -3: Combo Counter]
type = VarSet
trigger1 = var(5) > 0
var(7) = var(6)

[State -3, Air Combo Sound]
type = PlaySnd
trigger1 = var(7) >= 3
trigger1 = enemyNear, MoveType != H && var(7) > 0
trigger1 = NumEnemy = 1
trigger1 = var(8) >= 1
value = S600,0
volume = 255
ignorehitpause = 1
persistent = 1

[State -3, Air Combo Left]
trigger1 = var(7) >= 3
trigger1 = enemyNear, MoveType != H && var(7) > 0
trigger1 = TeamSide = 1
trigger1 = NumEnemy = 1
trigger1 = var(8) >= 1
type = Explod
ownpal = 1
anim = 6016
ID = 6016
postype = Left
pos = 5,50
ontop = 1
bindtime = -1
facing = 1
vfacing = 1
scale = .4,.4
removetime = 50
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State -3, Air Combo Right]
trigger1 = var(7) >= 3
trigger1 = enemyNear, MoveType != H && var(7) > 0
trigger1 = TeamSide = 2
trigger1 = NumEnemy = 1
trigger1 = var(8) >= 1
type = Explod
ownpal = 1
anim = 6017
ID = 6017
postype = Right
pos = -105,50
ontop = 1
bindtime = -1
facing = 1
vfacing = 1
scale = .4,.4
removetime = 50
removeongethit = 0
ignorehitpause = 1
persistent = 1

[State -3: Reset Combo Counter]
type = VarSet
trigger1 = enemyNear, MoveType != H
var(7) = ((var(5) := (var(6) := (var(8) := 0))))

