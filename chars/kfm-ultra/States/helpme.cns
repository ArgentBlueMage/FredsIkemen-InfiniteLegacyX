;Helpers go here

;Bullets fly
[Statedef 1011]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1031
sprpriority = 5

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 3010, Counter Flag]
type = VarSet
trigger1 = NumEnemy
trigger1 = MoveContact != 1
var(9) = (EnemyNear, MoveType = A)

[State 3010, Damage Dampener]
type = VarSet
trigger1 = 1
fvar(11) = (Root, fvar(10)) * ifElse(var(9), 1.2, 1)

[State 1000, 5] ;Opponent near
type = hitdef
triggerall = parent, var(41) = 0
trigger1 = time = 0
attr = S, SP
animtype  = hard
damage = ceil(ifElse(fvar(11) * 60 < 7, 7, fvar(11) * 60)), 4
priority  = 5
guardflag = MA
hitflag = MAF
pausetime = 5,5
sparkno = -1
sparkxy = 0,0
guard.sparkno = -1
hitsound   = -1
guardsound = -1
ground.type = high
ground.slidetime = 10
ground.hittime  = 35
ground.velocity = -10,0
air.velocity = -5.0,-6
fall = 0
air.fall = 1
yaccel = 0.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
palfx.add = 255,0,0
palfx.time = 2

[State 1000, 5] ;Opponent near
type = hitdef
triggerall = parent, var(41) = 1
trigger1 = time = 0
attr = S, SP
animtype  = hard
damage = ceil(ifElse(fvar(11) * 35 < 7, 7, fvar(11) * 35)), 4
priority  = 5
guardflag = MA
hitflag = MAF
pausetime = 5,5
sparkno = -1
sparkxy = 0,0
guard.sparkno = -1
hitsound   = -1
guardsound = -1
ground.type = high
ground.slidetime = 10
ground.hittime  = 35
ground.velocity = -10,0
air.velocity = -5.0,-6
fall = 0
air.fall = 1
yaccel = 0.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
palfx.add = 255,0,0
palfx.time = 2

[State 1035, HitSound]
type = PlaySnd
trigger1 = movehit && numtarget
trigger1 = !(target, time) && target, movetype = H
value = ifElse(MoveGuarded, -1, 2), ifElse(MoveGuarded, -1, 9)
persistent = 1
ignorehitPause = 1

[State 1035, HitSound]
type = PlaySnd
trigger1 = movehit && numtarget
trigger1 = !(target, time) && target, movetype = H
value = ifElse(MoveGuarded, -1, 2), ifElse(MoveGuarded, -1, 2)
persistent = 1
ignorehitPause = 1

[State 1035, HitSpark]
type = Helper
trigger1 = MoveContact = 1 && NumTarget
helperType = Normal
stateNo = ifElse(MoveGuarded, 8000, 8015)
ID = 8000
name = "Spark"
posType = P1
pos = ceil(p2dist X),0
facing = -1
ownPal = 1
size.xScale = 0.75
size.yScale = 0.75
pauseMoveTime = 65535
superMoveTime = 65535
persistent = 0
ignoreHitPause = 1

[state 1000]
type = velset
trigger1 = 1
x = 70

[State 1005, End]
type = destroyself
trigger1 = pos x != [ -200, 200]

[state 1000]
type = changestate
trigger1 = movecontact
value = 1012

;Bullets hit
[Statedef 1012]
type    = A
movetype= A
physics = N
;juggle  = 0
velset = 0,0
anim = 19999
ctrl = 0
sprpriority = 5

[state 1000]
type = null
trigger1 = time = 0
value = S0,9

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state 1000]
type = destroyself
trigger1 = p2movetype != H

;Bullets hit
[Statedef 10122]
type    = A
movetype= A
physics = N
;juggle  = 0
velset = 0,0
anim = 19999
ctrl = 0
sprpriority = 5

[state 1000]
type = null
trigger1 = time = 0
value = S0,9

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state 1000]
type = destroyself
trigger1 = time = 10

;Bullets fly - Powerful version
[Statedef 1013]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1031
sprpriority = 5

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 3010, Counter Flag]
type = VarSet
trigger1 = NumEnemy
trigger1 = MoveContact != 1
var(9) = (EnemyNear, MoveType = A)

[State 3010, Damage Dampener]
type = VarSet
trigger1 = 1
fvar(11) = (Root, fvar(10)) * ifElse(var(9), 1.2, 1)

[State 1000, 5] ;Opponent near
type = hitdef
triggerall = parent, var(41) = 0
trigger1 = time = 0
attr = S, SP
animtype  = hard
damage = ceil(ifElse(fvar(11) * 60 < 7, 7, fvar(11) * 60)), 4
priority  = 5
guardflag = MA
hitflag = MAF
pausetime = 5,5
sparkno = -1
sparkxy = 0,0
guard.sparkno = -1
hitsound   = -1
guardsound = -1
ground.type = high
ground.slidetime = 10
ground.hittime  = 35
ground.velocity = -5,-5
air.velocity = -5.0,-6.5
fall = 1
air.fall = 1
yaccel = 0.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
palfx.add = 255,0,0
palfx.time = 2

[State 1000, 5] ;Opponent near
type = hitdef
triggerall = parent, var(41) = 1
trigger1 = time = 0
attr = S, SP
animtype  = hard
damage = ceil(ifElse(fvar(11) * 35 < 7, 7, fvar(11) * 35)), 4
priority  = 5
guardflag = MA
hitflag = MAF
pausetime = 5,5
sparkno = -1
sparkxy = 0,0
guard.sparkno = -1
hitsound   = -1
guardsound = -1
ground.type = high
ground.slidetime = 10
ground.hittime  = 35
ground.velocity = -5,-5
air.velocity = -5.0,-6.5
fall = 1
air.fall = 1
yaccel = 0.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
palfx.add = 255,0,0
palfx.time = 2

[State 1035, HitSound]
type = PlaySnd
trigger1 = movehit && numtarget
trigger1 = !(target, time) && target, movetype = H
value = ifElse(MoveGuarded, -1, 2), ifElse(MoveGuarded, -1, 9)
persistent = 1
ignorehitPause = 1

[State 1035, HitSound]
type = PlaySnd
trigger1 = movehit && numtarget
trigger1 = !(target, time) && target, movetype = H
value = ifElse(MoveGuarded, -1, 2), ifElse(MoveGuarded, -1, 2)
persistent = 1
ignorehitPause = 1

[State 1035, HitSpark]
type = Helper
trigger1 = MoveContact = 1 && NumTarget
helperType = Normal
stateNo = ifElse(MoveGuarded, 8000, 8015)
ID = 8000
name = "Spark"
posType = P1
pos = ceil(p2dist X),0
facing = -1
ownPal = 1
size.xScale = 0.75
size.yScale = 0.75
pauseMoveTime = 65535
superMoveTime = 65535
persistent = 0
ignoreHitPause = 1

[state 1000]
type = velset
trigger1 = 1
x = 70

[State 1005, End]
type = destroyself
trigger1 = pos x != [ -200, 200]

[state 1000]
type = changestate
trigger1 = movecontact
value = 1012

;Stronk Bullets fly
[Statedef 1014]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1033
sprpriority = 5
poweradd = 0

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 3010, Counter Flag]
type = VarSet
trigger1 = NumEnemy
trigger1 = MoveContact != 1
var(9) = (EnemyNear, MoveType = A)

[State 3010, Damage Dampener]
type = VarSet
trigger1 = 1
fvar(11) = (Root, fvar(10)) * ifElse(var(9), 1.2, 1)

[State 1000, 5] ;Opponent near
type = hitdef
trigger1 = time = 0
attr = S, HP
animtype  = hard
damage = ceil(ifElse(fvar(11) * 138 < 7, 7, fvar(11) * 138)), 8
priority  = 5
guardflag = MA
getpower = 0
givepower = 50,10
hitflag = MAF
pausetime = 10,10
sparkno = -1
sparkxy = 0,0
guard.sparkno = -1
hitsound   = -1
guardsound = -1
ground.type = high
ground.slidetime = 10
ground.hittime  = 35
ground.velocity = -8,-6.5
air.velocity = -7.5,-6.5
fall = 1
air.fall = 1
yaccel = 0.45
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
palfx.add = 255,0,0
palfx.time = 2

[State 1035, HitSound]
type = PlaySnd
trigger1 = movehit && numtarget
trigger1 = !(target, time) && target, movetype = H
value = ifElse(MoveGuarded, -1, 2), ifElse(MoveGuarded, -1, 6)
persistent = 1
ignorehitPause = 1

[State 1035, HitSound]
type = PlaySnd
trigger1 = movehit && numtarget
trigger1 = !(target, time) && target, movetype = H
value = ifElse(MoveGuarded, -1, 2), ifElse(MoveGuarded, -1, 2)
persistent = 1
ignorehitPause = 1

[State 1035, HitSpark]
type = Helper
trigger1 = MoveContact = 1 && NumTarget
helperType = Normal
stateNo = ifElse(MoveGuarded, 8000, 8016)
ID = 8000
name = "Spark"
posType = P1
pos = ceil(p2dist X),0
facing = -1
ownPal = 1
size.xScale = 0.75
size.yScale = 0.75
pauseMoveTime = 65535
superMoveTime = 65535
persistent = 0
ignoreHitPause = 1

[state 1000]
type = velset
trigger1 = 1
x = 80

[State 1006, HitCount]
type = ParentVarAdd
trigger1 = !Time
trigger1 = MoveContact && NumTarget
var(13) = 1
persistent = 0

[State 1006, Juggle Points]
type = ParentVarAdd
trigger1 = !Time
trigger1 = MoveContact && NumTarget
var(15) = 1
persistent = 0

[State 1006, ProjContact]
type = VarSet
trigger1 = MoveContact && NumTarget
var(18) = 1
persistent = 0

[state 1000]
type = destroyself
trigger1 = BackEdgeBodyDist <= -30
trigger2 = FrontEdgeBodyDist <= -30

[state 1000]
type = changestate
trigger1 = movecontact
value = 1012

;Bullets fly - Hyper attack variation
[Statedef 1016]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1031
sprpriority = 5
poweradd = 0

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 3010, Counter Flag]
type = VarSet
trigger1 = NumEnemy
trigger1 = MoveContact != 1
var(9) = (EnemyNear, MoveType = A)

[State 3010, Damage Dampener]
type = VarSet
trigger1 = 1
fvar(11) = (Root, fvar(10)) * ifElse(var(9), 1.2, 1)

[State 1000, 5] ;Opponent near
type = hitdef
trigger1 = time = 0
attr = S, HP
animtype  = hard
damage = ceil(ifElse(fvar(11) * 50 < 7, 7, fvar(11) * 50)), 4
priority  = 5
guardflag = MA
getpower = 0
hitflag = MAF
pausetime = 5,5
sparkno = -1
sparkxy = 0,0
guard.sparkno = -1
hitsound   = -1
guardsound = -1
ground.type = high
ground.slidetime = 10
ground.hittime  = 35
ground.velocity = -10,-5.5
air.velocity = -5.0,-6.20
fall = 1
air.fall = 1
yaccel = 0.19
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
palfx.add = 255,0,0
palfx.time = 2
kill = 0

[State 1035, HitSound]
type = PlaySnd
trigger1 = movehit && numtarget
trigger1 = !(target, time) && target, movetype = H
value = ifElse(MoveGuarded, -1, 2), ifElse(MoveGuarded, -1, 9)
persistent = 1
ignorehitPause = 1

[State 1035, HitSound]
type = PlaySnd
trigger1 = movehit && numtarget
trigger1 = !(target, time) && target, movetype = H
value = ifElse(MoveGuarded, -1, 2), ifElse(MoveGuarded, -1, 2)
persistent = 1
ignorehitPause = 1

[State 1035, HitSpark]
type = Helper
trigger1 = MoveContact = 1 && NumTarget
helperType = Normal
stateNo = ifElse(MoveGuarded, 8000, 8015)
ID = 8000
name = "Spark"
posType = P1
pos = ceil(p2dist X),0
facing = -1
ownPal = 1
size.xScale = 0.75
size.yScale = 0.75
pauseMoveTime = 65535
superMoveTime = 65535
persistent = 0
ignoreHitPause = 1

[state 1000]
type = velset
trigger1 = 1
x = 80

[State 1006, HitCount]
type = ParentVarAdd
trigger1 = !Time
trigger1 = MoveContact && NumTarget
var(13) = 1
persistent = 0

[State 1006, Juggle Points]
type = ParentVarAdd
trigger1 = !Time
trigger1 = MoveContact && NumTarget
var(15) = 1
persistent = 0

[State 1006, ProjContact]
type = VarSet
trigger1 = MoveContact && NumTarget
var(18) = 1
persistent = 0

[state 1000]
type = destroyself
trigger1 = BackEdgeBodyDist <= -30
trigger2 = FrontEdgeBodyDist <= -30

[state 1000]
type = changestate
trigger1 = movecontact
value = 1012

;Stronk Bullets fly - Hyper attack variant
[Statedef 1018]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1033
sprpriority = 5
poweradd = 0

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 3010, Counter Flag]
type = VarSet
trigger1 = NumEnemy
trigger1 = MoveContact != 1
var(9) = (EnemyNear, MoveType = A)

[State 3010, Damage Dampener]
type = VarSet
trigger1 = 1
fvar(11) = (Root, fvar(10)) * ifElse(var(9), 1.2, 1)

[State 1000, 5] ;Opponent near
type = hitdef
trigger1 = time = 0
attr = S, HP
animtype  = hard
damage = ceil(ifElse(fvar(11) * 75 < 7, 7, fvar(11) * 75)), 10
priority  = 5
guardflag = MA
getpower = 0
givepower = 50,10
hitflag = MAF
pausetime = 10,10
sparkno = -1
sparkxy = 0,0
guard.sparkno = -1
hitsound   = -1
guardsound = -1
ground.type = high
ground.slidetime = 10
ground.hittime  = 35
ground.velocity = -8,-4.7
air.velocity = -7.5,-4.7
fall = 1
air.fall = 1
yaccel = 0.45
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
palfx.add = 255,0,0
palfx.time = 2

[State 1035, HitSound]
type = PlaySnd
trigger1 = movehit && numtarget
trigger1 = !(target, time) && target, movetype = H
value = ifElse(MoveGuarded, -1, 2), ifElse(MoveGuarded, -1, 6)
persistent = 1
ignorehitPause = 1

[State 1035, HitSound]
type = PlaySnd
trigger1 = movehit && numtarget
trigger1 = !(target, time) && target, movetype = H
value = ifElse(MoveGuarded, -1, 2), ifElse(MoveGuarded, -1, 2)
persistent = 1
ignorehitPause = 1

[State 1035, HitSpark]
type = Helper
trigger1 = MoveContact = 1 && NumTarget
helperType = Normal
stateNo = ifElse(MoveGuarded, 8000, 8016)
ID = 8000
name = "Spark"
posType = P1
pos = ceil(p2dist X),0
facing = -1
ownPal = 1
size.xScale = 0.75
size.yScale = 0.75
pauseMoveTime = 65535
superMoveTime = 65535
persistent = 0
ignoreHitPause = 1

[state 1000]
type = velset
trigger1 = 1
x = 70

[State 1005, End]
type = destroyself
trigger1 = pos x != [ -200, 200]

[state 1000]
type = changestate
trigger1 = movecontact
value = 1012

;Handgun Bullets fly
[Statedef 1019]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1502
sprpriority = 5

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 3010, Counter Flag]
type = VarSet
trigger1 = NumEnemy
trigger1 = MoveContact != 1
var(9) = (EnemyNear, MoveType = A)

[State 3010, Damage Dampener]
type = VarSet
trigger1 = 1
fvar(11) = (Root, fvar(10)) * ifElse(var(9), 1.2, 1)

[State 1000, 5] ;Opponent near
type = hitdef
triggerall = parent, var(41) = 0
trigger1 = animelem = 1
attr = S, SP
animtype  = hard
damage = ceil(ifElse(fvar(11) * 20 < 7, 7, fvar(11) * 20)), 2
priority  = 5
guardflag = MA
hitflag = MAF
pausetime = 5,5
sparkno = -1
sparkxy = 0,0
guard.sparkno = -1
hitsound   = -1
guardsound = -1
ground.type = high
ground.slidetime = 10
ground.hittime  = 30
ground.velocity = -5,0
air.velocity = -2.5,-2.5
fall = 0
air.fall = 1
yaccel = 0.39
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
palfx.add = 255,0,0
palfx.time = 2

[State 1000, 5] ;Opponent near
type = hitdef
triggerall = parent, var(41) = 1
trigger1 = animelem = 1
attr = S, SP
animtype  = hard
damage = ceil(ifElse(fvar(11) * 10 < 7, 7, fvar(11) * 10)), 2
priority  = 5
guardflag = MA
hitflag = MAF
pausetime = 5,5
sparkno = -1
sparkxy = 0,0
guard.sparkno = -1
hitsound   = -1
guardsound = -1
ground.type = high
ground.slidetime = 10
ground.hittime  = 30
ground.velocity = -5,0
air.velocity = -2.5,-2.5
fall = 0
air.fall = 1
yaccel = 0.39
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
palfx.add = 255,0,0
palfx.time = 2

[State 1035, HitSound]
type = PlaySnd
trigger1 = movehit && numtarget
trigger1 = !(target, time) && target, movetype = H
value = ifElse(MoveGuarded, -1, 2), ifElse(MoveGuarded, -1, 9)
persistent = 1
ignorehitPause = 1

[State 1035, HitSpark]
type = Helper
trigger1 = MoveContact = 1 && NumTarget
helperType = Normal
stateNo = ifElse(MoveGuarded, 8000, 8018)
ID = 8000
name = "Spark"
posType = P1
pos = ceil(p2dist X),0
facing = -1
ownPal = 1
size.xScale = 0.80
size.yScale = 0.80
pauseMoveTime = 65535
superMoveTime = 65535
persistent = 0
ignoreHitPause = 1

[state 1000]
type = velset
trigger1 = 1
x = 70

[State 1005, End]
type = destroyself
trigger1 = pos x != [ -200, 200]

[state 1000]
type = changestate
trigger1 = movecontact
value = 1012

;Rifle Bullets fly
[Statedef 1070]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1502
sprpriority = 5
poweradd = 0

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 3010, Counter Flag]
type = VarSet
trigger1 = NumEnemy
trigger1 = MoveContact != 1
var(9) = (EnemyNear, MoveType = A)

[State 3010, Damage Dampener]
type = VarSet
trigger1 = 1
fvar(11) = (Root, fvar(10)) * ifElse(var(9), 1.2, 1)

[State 1000, 5] ;Opponent near
type = hitdef
trigger1 = animelem = 1
attr = S, HP
animtype  = hard
damage = ceil(ifElse(fvar(11) * 15 < 7, 7, fvar(11) * 15)), 2
priority  = 5
guardflag = MA
hitflag = MAF
pausetime = 0,4
getpower = 0
sparkno = -1
sparkxy = 0,0
guard.sparkno = -1
hitsound   = -1
guardsound = -1
ground.type = high
ground.slidetime = 10
ground.hittime  = 35
ground.velocity = -7,0
air.velocity = -3.5,-1.0
fall = 0
air.fall = 1
yaccel = 0.32
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
palfx.add = 255,0,0
palfx.time = 2

[State 1035, HitSound]
type = PlaySnd
trigger1 = movehit && numtarget
trigger1 = !(target, time) && target, movetype = H
value = ifElse(MoveGuarded, -1, 2), ifElse(MoveGuarded, -1, 9)
persistent = 1
ignorehitPause = 1

[State 1035, HitSpark]
type = Helper
trigger1 = MoveContact = 1 && NumTarget
helperType = Normal
stateNo = ifElse(MoveGuarded, 8000, 8018)
ID = 8000
name = "Spark"
posType = P1
pos = ceil(p2dist X),0
facing = -1
ownPal = 1
size.xScale = 0.80
size.yScale = 0.80
pauseMoveTime = 65535
superMoveTime = 65535
persistent = 0
ignoreHitPause = 1

[state 1000]
type = velset
trigger1 = 1
x = 70

[State 1005, End]
type = destroyself
trigger1 = pos x != [ -200, 200]

[state 1000]
type = changestate
trigger1 = movecontact
value = 10122

;Rifle Bullets fly
[Statedef 1071]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1502
sprpriority = 5
poweradd = 0

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 3010, Counter Flag]
type = VarSet
trigger1 = NumEnemy
trigger1 = MoveContact != 1
var(9) = (EnemyNear, MoveType = A)

[State 3010, Damage Dampener]
type = VarSet
trigger1 = 1
fvar(11) = (Root, fvar(10)) * ifElse(var(9), 1.2, 1)

[State 1000, 5] ;Opponent near
type = hitdef
trigger1 = animelem = 1
attr = S, HP
animtype  = hard
damage = ceil(ifElse(fvar(11) * 15 < 7, 7, fvar(11) * 15)), 2
priority  = 5
guardflag = MA
hitflag = MAF
getpower = 0
pausetime = 0,4
sparkno = -1
sparkxy = 0,0
guard.sparkno = -1
hitsound   = -1
guardsound = -1
ground.type = high
ground.slidetime = 10
ground.hittime  = 35
ground.velocity = -6,-4
air.velocity = -4,-4
fall = 1
air.fall = 1
yaccel = 0.45
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
palfx.add = 255,0,0
palfx.time = 2

[State 1035, HitSound]
type = PlaySnd
trigger1 = movehit && numtarget
trigger1 = !(target, time) && target, movetype = H
value = ifElse(MoveGuarded, -1, 2), ifElse(MoveGuarded, -1, 9)
persistent = 1
ignorehitPause = 1

[State 1035, HitSpark]
type = Helper
trigger1 = MoveContact = 1 && NumTarget
helperType = Normal
stateNo = ifElse(MoveGuarded, 8000, 8018)
ID = 8000
name = "Spark"
posType = P1
pos = ceil(p2dist X),0
facing = -1
ownPal = 1
size.xScale = 0.80
size.yScale = 0.80
pauseMoveTime = 65535
superMoveTime = 65535
persistent = 0
ignoreHitPause = 1

[state 1000]
type = velset
trigger1 = 1
x = 70

[State 1005, End]
type = destroyself
trigger1 = pos x != [ -200, 200]

[state 1000]
type = changestate
trigger1 = movecontact
value = 1012

;Bridget
[StateDef 1911]
type = S
physics = S
moveType = I
anim = 1912
velset = 0,0
sprPriority = 5

[state 1000]
type = playsnd
trigger1 = animelem = 7
value = S191,0
channel = 3

[state 1000]
type = stopsnd
trigger1 = roundstate = 2
channel = 3

[state 1000]
type = playsnd
trigger1 = animelem = 9
value = S5,0
volumescale = 170

[state 1000]
type = explod
trigger1 = animelem = 9
anim = 1915
pos = -8,-75
bindtime = -1
scale = 1,1
sprpriority = 6
ignorehitpause = 1

[State 2500, 0]
type = Helper
trigger1 = animelem = 9
helpertype = normal
name = "bridget gives you a head"
id = 1913
pos = -10,-70
stateno = 1913
keyctrl = 0
ownpal = 1
size.xscale = 0.50
size.yscale = 0.50

[State 2500, 0]
type = Helper
trigger1 = animelem = 9
helpertype = normal
name = "bridget holds your hand"
id = 1914
pos = -10,-70
stateno = 1914
keyctrl = 0
ownpal = 1
size.xscale = 0.50
size.yscale = 0.50

[State 2500, 0]
type = Helper
trigger1 = animelem = 9
helpertype = normal
name = "bridget holds your hand"
id = 1915
pos = -8,-70
stateno = 1915
keyctrl = 0
ownpal = 1
size.xscale = 0.50
size.yscale = 0.50


[state 1000]
type = destroyself
trigger1 = time = 280

;He comin'
[StateDef 1912]
type = S
physics = S
moveType = I
anim = 1910
velset = 0,0
sprPriority = 5

[state 1000]
type = velset
triggerall = anim = 1910
trigger1 = 1
x = 2.5

[state 1000]
type = velset
trigger1 = anim = 1911
x = 0

[state 1000]
type = changeanim
triggerall = anim = 1910
trigger1 = time = 40
value = 1911

[state 1000]
type = changeanim
triggerall = 1911
trigger1 = animtime = 0
value = 1910

[state 1000]
type = explod
triggerall = anim = 1911
trigger1 = animelem = 7
anim = 1914
pos = -8,6
bindtime = -1
sprpriority = 5
scale = 1.10,1.10
ignorehitpause = 1

[state 1000]
type = playsnd
triggerall = anim = 1911
trigger1 = animelem = 7
value = S4,2
volumescale = 170

[state 1000]
type = playsnd
triggerall = anim = 1911
trigger1 = animelem = 4
trigger2 = animelem = 12
value = S3,0
volumescale = 180

[state 1000]
type = envshake
trigger1 = anim = 1911
trigger1 = animelem = 7
time = 4
freq = 90
ampl = -10
phase = 50

[state 1000]
type = playsnd
triggerall = anim = 1911
trigger1 = animelem = 10
value = S1001,0+random%6
volumescale = 250
channel = 3

[state 1000]
type = stopsnd
trigger1 = roundstate = 2
channel = 3

[state 1000]
type = destroyself
trigger1 = time = 215

;Bridget gives you a head
[Statedef 1913]
type    = A
movetype= I
physics = N
velset = 0,0
anim = 1916
ctrl = 0
sprpriority = 4

[state 1000]
type = assertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state 1000]
type = veladd
trigger1 = 1
y = 0.38

[state 1000]
type = velset
trigger1 = time = 0
y = -8
x = 1.5

[State 0, AngleAdd]
type = Angledraw
trigger1 = 1
value = Time * (5)
ignorehitpause = 1
persistent = 1

[state 1000]
type = destroySelf
trigger1 = time = 150

;Bridget gives you a head
[Statedef 1914]
type    = A
movetype= I
physics = N
velset = 0,0
anim = 1917
ctrl = 0
sprpriority = 4

[state 1000]
type = assertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state 1000]
type = veladd
trigger1 = 1
y = 0.38

[state 1000]
type = velset
trigger1 = time = 0
y = -7
x = -1.0

[State 0, AngleAdd]
type = Angledraw
trigger1 = 1
value = Time * (5)
ignorehitpause = 1
persistent = 1

[state 1000]
type = destroySelf
trigger1 = time = 150

;Bridget gives you a head
[Statedef 1915]
type    = A
movetype= I
physics = N
velset = 0,0
anim = 1918
ctrl = 0
sprpriority = 4

[state 1000]
type = assertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state 1000]
type = veladd
trigger1 = 1
y = 0.38

[state 1000]
type = velset
trigger1 = time = 0
y = -6
x = 1.2

[State 0, AngleAdd]
type = Angledraw
trigger1 = 1
value = Time * (5)
ignorehitpause = 1
persistent = 1

[state 1000]
type = destroySelf
trigger1 = time = 150

;Mushroom kingdom
[Statedef 1920]
physics=N
anim=19999
Sprpriority=100

[state -3]
type = explod
trigger1 = time = 0
anim = 1920
pos = 0,0
facing = 1
vfacing = 1
postype = left
;ontop = 1
ownpal = 1
ID = 1920
bindtime = 250
scale = 0.50,0.50
sprpriority = 998
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
flag2 = nobardisplay
flag3 = nofg
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 =1
value = 1

[state -3]
type = explod
trigger1 = time = 150
anim = 1921
postype = left
persistent = 0
pos = 0,0
facing = 1
;ontop = 1
ownpal = 1
ID = 1921
bindtime = -1
removetime = 100
sprpriority = 999
ontop = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1

[State 8290, Scale]
type = ModifyExplod
trigger1 = Time >= 150
ID = 1921
trans = AddAlpha
alpha = 1 + 20 * (Time - 150), 256 - 20 * (Time - 150)

[State 6969]
type=helper
trigger1 = time = 0
helpertype=normal
stateno = 1922
ID = 1924
name ="he comin"
postype=Back
facing = facing
pos = 0,0
supermovetime=99999
pausemovetime=99999
ownpal=0
ignorehitpause=1
size.xscale=1
size.yscale=1

[State 0, PosSet]
type = PosSet
trigger1 =1
x =ceil(pos x-screenpos x+160)
y =ceil(pos y-screenpos y+120)
ignorehitpause=1

[State 6031, end]
type= changestate
trigger1 = time = 250
value = 1921
ctrl = 0

;Gay luigi?
[Statedef 1921]
physics=N
anim=19999
Sprpriority=100

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 =1
value = 1

[state -3]
type = explod
trigger1 = !time
anim = 1921
pos = 0,0
facing = 1
ontop = 1
ownpal = 1
ID = 1922
bindtime = -1
sprpriority = 999
ontop = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1

[State 8290, Scale]
type = ModifyExplod
trigger1 = Time >= 1
ID = 1922
trans = AddAlpha
alpha = 256 - 32 * (Time - 1), 32 * (Time - 1)

[State 0, PosSet]
type = PosSet
trigger1 =1
x =ceil(pos x-screenpos x+160)
y =ceil(pos y-screenpos y+120)
ignorehitpause=1

[State 6031, end]
type= destroyself
trigger1 = time = 100

;Walking
[Statedef 1922]
physics=N
anim=1910
Sprpriority=999

[State 0, PosSet]
type = PosSet
trigger1 =!time
x =ceil(pos x-screenpos x-55)
y =ceil(pos y-screenpos y+305)
ignorehitpause=1

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state 1000]
type = velset
trigger1 = 1
x = 1.25
y = -0.80

[State 8223]
type = AngleDraw
trigger1 = time <= 180
;scale = 6.5*(time*.005),6.5*(time*.005)
scale = 1.28-Time * (.003),1.28-Time * (.003)
ignorehitpause = 1
value =1

[state 1000]
type = destroyself
trigger1 = time = 180

;Walk again
[Statedef 1923]
physics=N
anim=1910
Sprpriority=115

[state 1000]
type = velset
trigger1 = 1
x = 2.5

[state 1000]
type = destroyself
trigger1 = time = 104

;Dizzy
[StateDef 1925]
type = S
physics = S
moveType = I
anim = 1930
velset = 0,0
sprPriority = 5

[state 1000]
type = changeanim
triggerall = anim = 1930
trigger1 = animtime = 0
value = 1931

[state 1000]
type = playsnd
trigger1 = time = 10
value = S193,0
channel = 3

[state 1000]
type = stopsnd
trigger1 = roundstate = 2
channel = 3

[state 1000]
type = explod
triggerall = facing = 1
trigger1 = !time
anim = 1934
pos = -27,63
bindtime = -1
removetime = 240
scale = 1,1
sprpriority = 6
ignorehitpause = 1

[state 1000]
type = explod
triggerall = facing = -1
trigger1 = !time
anim = 19344
pos = -27,63
bindtime = -1
removetime = 240
scale = 1,1
sprpriority = 6
ignorehitpause = 1

[State 6969]
type=helper
trigger1 = !time
helpertype=normal
stateno = 1928
ID = 1928
name ="melty blood chick"
pos = 70,0
ownpal=0
ignorehitpause=1
size.xscale=1
size.yscale=1

[State 6034, HyperBG]
type=helper
trigger1 = time = 0
helpertype=normal
stateno = 1927
ID = 1927
name ="Subtitles"
facing = facing
postype=Back
ownpal=1
ignorehitpause=1
size.xscale=.5
size.yscale=.5
facing = facing

[state 1000]
type = changeanim
triggerall = anim = 1931
trigger1 = time = 100
value = 1939

[state 1000]
type = changestate
trigger1 = time = 240
value = 1926
ctrl = 0

;Ring my dink and suck my duck!
[StateDef 1926]
type = S
physics = S
moveType = I
anim = 1932
velset = 0,0
sprPriority = 5

[state 1000]
type = changeanim
triggerall = anim = 1932
trigger1 = time = 40
value = 1933

[state 1000]
type = playsnd
trigger1 = !time
value = S193,3

[state 1000]
type = playsnd
trigger1 = time = 40
value = S193,6

[State 100, 2]
type = Explod
triggerall = anim = 1933
trigger1 = numexplod(6100) <= 6
trigger1 = Timemod = 3,0
anim = 1938
id = 6100
pos = 0,5
ownpal = 1
ignorehitpause = 1
persistent = 1
sprpriority = 4
scale = 0.5,0.5

[state 1000]
type = velset
triggerall = anim = 1933
trigger1 = 1
x = 15

[state 1000]
type = destroyself
trigger1 = time = 600

;Subtitles plz
[Statedef 1927]
physics=N
anim=19999;1937
Sprpriority=100

[state -3]
type = explod
trigger1 = !time
anim = 1937
pos = 160,120
facing = facing
vfacing = 1
postype = left
ontop = 1
ownpal = 1
ID = 1937
bindtime = -1
scale = 0.50,0.50
sprpriority = 999
removetime = 100
ignorehitpause = 1
persistent = 0

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 =1
value = 1

[State 0, PosSet]
type = PosSet
trigger1 =1
x =ceil(pos x-screenpos x+160)
y =ceil(pos y-screenpos y+120)
ignorehitpause=1

[State 6031, end]
type= destroyself
trigger1 = time = 100

;Some melty blood chick
[StateDef 1928]
type = S
physics = S
moveType = I
anim = 1935
velset = 0,0
sprPriority = 5

[state 1000]
type = playsnd
trigger1 = animelem = 2
value = S193,1

[state 1000]
type = changestate
trigger1 = time = 282
value = 1929
ctrl = 0

;Ouch
[StateDef 1929]
type = A
physics = N
moveType = I
anim = 1936
velset = 5,-5
sprPriority = 8

[state 1000]
type = playsnd
trigger1 = !time
value = S193,2

[state 1000]
type = playsnd
trigger1 = !time
value = S193,5

[state 1000]
type = assertSpecial
trigger1 = time >= 20 && time <= 40
flag = noshadow
ignorehitpause = 1

[state 1000]
type = veladd
trigger1 = 1
y = .52

[state 1000]
type = destroyself
trigger1 = time = 40

;Kung fu man coming in
[StateDef 1930]
type = A
physics = N
moveType = I
anim = 192
velset = 14,10
sprPriority = 8

[state 1000]
type = playsnd
trigger1 = !time
value = S1,5

[State 1100, 5]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1931
ctrl = 0

;Kung fu man finishing it
[StateDef 1931]
type = S
physics = S
moveType = I
anim = 19999
velset = 0,0
sprPriority = 8

[state 1000]
type = posset
trigger1 = time = 0
y = 0

[state 1000]
type = destroyself
trigger1 = time = 0

;Woosh
[StateDef 1938]
type = A
physics = N
moveType = I
anim = 196
velset = 0,20
sprPriority = 3

[state 1000]
type = explod
trigger1 = !time
anim = 1966
pos = 0,0
bindtime = -1
sprpriority = 4
removetime = -1
scale = 1,1
ignorehitpause = 1
persistent = 0
ID = 69

[state 1000]
type = playsnd
trigger1 = time = 20
value = S500,0
volumescale = 200

[state 1000]
type = removeexplod
trigger1 = Vel Y > 0 && Pos Y >= 0
ID = 69

[state 1000]
type = destroyself
trigger1 = Vel Y > 0 && Pos Y >= 0

;Woosh
[StateDef 1939]
type = S
anim = 1970
sprPriority = 8

[state 1000]
type = envshake
trigger1 = !time
time = 38
ampl = 12
phase = 8
freq = 90

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state 1000]
type = playsnd
trigger1 = !time
value = S5,2

[state -3]
type = explod
trigger1 = time = 1
anim = 3066
pos = 0,0
facing = 1
ontop = 1
ownpal = 1
ID = 3067
bindtime = -1
removetime = 28
sprpriority = 120
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1

[State 8290, Scale]
type = ModifyExplod
trigger1 = Time >= 1
ID = 3067
trans = AddAlpha
alpha = 1 + 20 * (Time - 1), 256 - 20 * (Time - 1)

[state 1000]
type = changestate
trigger1 = animtime = 0
value = 3122
ctrl = 0

;This is...
[StateDef 1940]
type = S
physics = N
moveType = I
anim = 1962
velset = 0,0
sprPriority = 5

[state 1000]
type = playsnd
trigger1 = time = 0
value = S190,3

[state 1000]
type = destroyself
trigger1 = time = 160

;This is...
[StateDef 1941]
type = S
physics = N
moveType = I
anim = 1963
velset = 0,0
sprPriority = 5

[state 1000]
type = playsnd
trigger1 = time = 0
value = S190,2

[state 1000]
type = destroyself
trigger1 = time = 200

;This is...
[StateDef 1942]
type = S
physics = N
moveType = I
anim = 1964
velset = 0,0
sprPriority = 5

[state 1000]
type = playsnd
trigger1 = time = 0
value = S190,4

[state 1000]
type = destroyself
trigger1 = time = 130

;This is...
[StateDef 1943]
type = S
physics = N
moveType = I
anim = 1965
velset = 0,0
sprPriority = 5

[state 1000]
type = playsnd
trigger1 = time = 0
value = S190,1

[state 1000]
type = destroyself
trigger1 = time = 220

;ASS
[Statedef 1970]
physics=N
anim=19999
Sprpriority=100

;[state 1000]
;type = changeanim
;triggerall = facing = 1
;trigger1 = !time
;value = 1975

;[state 1000]
;type = changeanim
;triggerall = facing = -1
;trigger1 = !time
;value = 1976

[state -3]
type = explod
triggerall = facing = 1
trigger1 = time = 0
anim = 1975
pos = 0,0
facing = 1
vfacing = 1
postype = left
ontop = 1
ownpal = 1
ID = 1975
bindtime = -1
scale = 0.50,0.50
sprpriority = 100
removetime = 122
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[state -3]
type = explod
triggerall = facing = -1
trigger1 = time = 0
anim = 1976
pos = 0,0
facing = -1
vfacing = 1
postype = right
ontop = 1
ownpal = 1
ID = 1976
bindtime = -1
removetime = 122
scale = 0.50,0.50
sprpriority = 100
removetime = -1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[state 1000]
type = playsnd
trigger1 = time = 10
value = S194,0
abspan = 1
volumescale = 250
channel = 0

[state 1000]
type = playsnd
trigger1 = time = 73
value = S194,1
abspan = 1
volumescale = 250
channel = 0

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 =1
value = 1

[State 0, PosSet]
type = PosSet
trigger1 =1
x =ceil(pos x-screenpos x+160)
y =ceil(pos y-screenpos y+120)
ignorehitpause=1

[State 6031, end]
type= destroyself
trigger1 = time = 122

;Bro you horny
[Statedef 1980]
physics=N
anim=19997
Sprpriority=100

[state -3]
type = explod
trigger1 = !time
anim = 19998
pos = 160,120
facing = facing
vfacing = 1
postype = left
ontop = 1
ownpal = 1
ID = 19998
bindtime = -1
scale = 0.50,0.50
sprpriority = 100
supermovetime = 9999
pausemovetime = 9999
removetime = 140
ignorehitpause = 1
persistent = 0

[state 1000]
type = playsnd
trigger1 = animelem = 1
value = S197,2
volumescale = 250
channel = 1
abspan = 1

[state 1000]
type = playsnd
trigger1 = animelem = 3
value = S197,2
volumescale = 250
channel = 1
abspan = 1

[state 1000]
type = playsnd
trigger1 = animelem = 5
value = S194,1
abspan = 1
volumescale = 250
channel = 1

[state 1000]
type = stopsnd
trigger1 = time = 140
trigger2 = roundstate = 2
channel = 1

[state 1000]
type = destroyself
trigger1 = time = 140

;This guy points at you
[Statedef 1981]
physics=N
anim=1999
Sprpriority=70

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state 1000]
type = velset
trigger1 = time <= 20
y = -20

[state 1000]
type = velset
trigger1 = time >= 20
y = 0

[state 1000]
type = destroyself
trigger1 = time = 150

;Terreh
[StateDef 1990]
type = S
physics = S
moveType = I
anim = 981
velset = 0,0
sprPriority = 2

[State 181, 2]
type = PlaySnd
trigger1 = time = 35
value = S198, 1

[state 1000]
type = changeanim
trigger1 = time = 100
value = 982

[state 1000]
type = changeanim
trigger1 = time = 170
value = 983

[State 181, 2]
type = PlaySnd
trigger1 = time = 170
value = S198, 2

[state 1000]
type = turn
trigger1 = time = 170

[state 1000]
type = changeanim
trigger1 = time = 182
value = 982

[state 1000]
type = changestate
trigger1 = time = 202
value = 1991
ctrl = 0

;Ouch
[StateDef 1991]
type = A
physics = N
moveType = I
anim = 984
velset = -8,-4
sprPriority = 2

[state 1000]
type = playsnd
trigger1 = !time
value = S193,5

[State 181, 2]
type = PlaySnd
trigger1 = time = 0
value = S198, 3

[state 1000]
type = veladd
trigger1 = 1
y = .48

[state 1000]
type = assertSpecial
trigger1 = time >= 12
flag = noshadow
ignorehitpause = 1

[state 1000]
type = destroyself
trigger1 = time = 60

;Car FMV
[Statedef 3011]
physics=N
anim=19999;3022
Sprpriority=120

[state -3]
type = explod
triggerall = facing = 1
trigger1 = time = 0
anim = 3022
pos = 0,0
facing = 1
vfacing = 1
postype = left
ontop = 1
ownpal = 1
ID = 3022
bindtime = -1
scale = 1,1
sprpriority = 900
removetime = 78
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[state -3]
type = explod
triggerall = facing = -1
trigger1 = time = 0
anim = 3022
pos = 0,0
facing = -1
vfacing = 1
postype = right
ontop = 1
ownpal = 1
ID = 3022
bindtime = -1
scale = 1,1
sprpriority = 900
removetime = 78
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
flag2 = nobardisplay
flag3 = nofg
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 =1
value = 1

[state 1000]
type = playsnd
trigger1 = time = 0
value = S3011,0
abspan = 1
volumescale = 200

[state 1000]
type = null;playsnd
trigger1 = time = 0
value = S3012,0+random%2
abspan = 1
volumescale = 180

[State 0, PosSet]
type = PosSet
trigger1 =1
x =ceil(pos x-screenpos x+160)
y =ceil(pos y-screenpos y+120)
ignorehitpause=1

[state 1000]
type = null;assertspecial
trigger1 = 1
flag = nomusic
ignorehitpause = 1

[State 6031, end]
type= destroyself
trigger1 = time = 78

;Toyota Sprinter Trueno GT AE86 Shuichi Shigeno Version '00
[Statedef 3012]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3025
poweradd = 0
sprpriority = 5

[state 1000]
type = null;assertspecial
trigger1 = 1
flag = nomusic
ignorehitpause = 1

[state 1000]
type = velset
trigger1 = 1
x = 30

[State 3305, ChangeAnim]
type = ChangeAnim
triggerall = anim = 3025
trigger1 = moveguarded = 1
value = 3023

[State 3305, ChangeAnim]
type = ChangeAnim
triggerall = anim = 3025
trigger1 = hitcount >= 5
value = 3024

[State -2, Counter Flag] 
type = VarSet
trigger1 = NumEnemy
fvar(8) = (EnemyNear, MoveType = A)
ignoreHitPause = 1
 
[State 3010, Counter Flag]
type = VarSet
trigger1 = NumEnemy
trigger1 = MoveContact != 1
var(9) = (EnemyNear, MoveType = A)

[State 3010, Damage Dampener]
type = VarSet
trigger1 = 1
fvar(11) = (Root, fvar(10)) * ifElse(var(9), 1.2, 1)

[State 1000, 5] ;Opponent near
type = hitdef
triggerall = anim = 3025
trigger1 = timemod = 2,0
attr = S, HP
animtype  = hard
damage = ceil(ifElse(fvar(11) * 30 < 7, 7, fvar(11) * 30)), 2
priority  = 5
guardflag = MA
hitflag = MAFD
pausetime = 7,2
guard.pausetime = 7,0
sparkNo = S8003
guard.sparkNo = S8004
sparkXY = -25,-60
hitsound   = -1
getpower = 0
givepower = 36,36
guardsound = S2,0
ground.type = high
ground.slidetime = 10
ground.hittime  = 35
ground.velocity = -6,-2
air.velocity = -6.0,-2.0
down.velocity = -2,-2
fall = 1
air.fall = 1
yaccel = 0.32
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
envshake.time = 5
envshake.freq = 70
envshake.ampl = -5
envshake.phase = 40

[State 1000, 5] ;Opponent near
type = hitdef
triggerall = anim != 3025
triggerall = anim = 3023
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
attr = S, HP
animtype  = hard
damage = ceil(ifElse(fvar(11) * 30 < 7, 7, fvar(11) * 30)), 2
priority  = 5
guardflag = MA
hitflag = MAFD
pausetime = 6,2
guard.pausetime = 6,0
sparkNo = S8003
guard.sparkNo = S8004
sparkXY = -25,-60
hitsound   = -1
getpower = 0
givepower = 36,36
guardsound = S2,0
ground.type = high
ground.slidetime = 10
ground.hittime  = 35
ground.velocity = -5,-2.0
down.velocity = -2,-2
air.velocity = -5.0,-2.0
fall = 1
air.fall = 1
yaccel = 0.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
envshake.time = 5
envshake.freq = 70
envshake.ampl = -5
envshake.phase = 40

[State 1035, HitSound]
type = PlaySnd
trigger1 = movehit && numtarget
trigger1 = !(target, time) && target, movetype = H
value = ifElse(MoveGuarded, -1, 2), ifElse(MoveGuarded, -1, 6)
persistent = 1
ignorehitPause = 1

[State 1006, HitCount]
type = ParentVarAdd
trigger1 = !Time
trigger1 = MoveContact && NumTarget
var(13) = 1
persistent = 0

[State 1006, Juggle Points]
type = ParentVarAdd
trigger1 = !Time
trigger1 = MoveContact && NumTarget
var(15) = 1
persistent = 0

[State 1006, ProjContact]
type = VarSet
trigger1 = MoveContact && NumTarget
var(18) = 1
persistent = 0

[state 1000]
type = changestate
trigger1 = FrontEdgeBodyDist <= -500
value = 1012
ctrl = 0

;Disappear - Not used
[StateDef 3013]
type = A
physics = N
moveType = A
anim = 19999
ctrl = 0
velSet = 0,0
sprPriority = 3
moveHitPersist = 1

[State 3007, End]
type = ChangeState
trigger1 = !AnimTime
value = 1069

;Hit Pause
[StateDef 3014]
type = A
physics = N
moveType = A
ctrl = 0
sprPriority = 3
moveHitPersist = 1
hitCountPersist = 1

[State 3306, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1

[State 3306, VarSet]
type = VarSet
trigger1 = 1
var(14) = 1

[State 3306, VelSet]
type = VelSet
trigger1 = MoveContact = 1 && NumTarget && (Parent, StateNo = 3012)
x = 0

[State 3306, Hit Spark]
type = Helper
trigger1 = MoveContact = 1 ;&& NumTarget
;trigger1 = !(Target, HitShakeOver)
;trigger2 = movecontact && p2stateno = [75000,75999]
helperType = Normal
stateNo = ifElse(MoveGuarded, 8000, 8014)
ID = 7500
name = "Spark"
posType = P1
pos = ceil(p2dist X),-60
facing = 1
ownPal = 1
size.xScale = 1
size.yScale = 1
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 1035, HitSound]
type = PlaySnd
trigger1 = movehit && numtarget
trigger1 = !(target, time) && target, movetype = H
value = ifElse(MoveGuarded, -1, 2), ifElse(MoveGuarded, -1, 7)
persistent = 1
ignorehitPause = 1

[State 3306, Parent Hit Count]
type = ParentVarAdd
trigger1 = !Time
trigger1 = MoveContact && NumTarget
var(13) = 1

[State 3306, Self Hit Count]
type = VarAdd
trigger1 = !Time
trigger1 = MoveContact && NumTarget
var(13) = 1

[State 3306, Juggle Points]
type = ParentVarAdd
trigger1 = !Time
trigger1 = MoveContact && NumTarget
var(15) = 1

[State 3306, ProjContact]
type = VarSet
trigger1 = MoveContact && NumTarget
var(18) = 1

[State 3306, End]
type = ChangeState
trigger1 = Time >= 0
value = 3012

;Fucking chaingun
[Statedef 3025]
physics=N
anim=1215
Sprpriority=120

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state 1000]
type = playsnd
triggerall = 1215
trigger1 = animelem = 32
trigger2 = animelem = 33
value = S4,4
volumescale = 180
abspan = 1

[State 6034, HyperBG]
type=helper
triggerall = anim = 1215
trigger1 = animelem = 32
trigger2 = animelem = 33
helpertype=normal
stateno = 3026
ID = 3026
name ="Hitbox lol"
postype=Back
supermovetime=99999
pausemovetime=99999
ownpal=1
ignorehitpause=1
size.xscale=1.0
size.yscale=1.0

[State 0, PosSet]
type = PosSet
trigger1 =1
x =ceil(pos x-screenpos x+160)
y =ceil(pos y-screenpos y+240)
ignorehitpause=1

[state 1000]
type = changeanim
trigger1 = time = 182
value = 1216

[state 1000]
type = destroyself
triggerall = anim = 1216
trigger1 = animtime = 0

;Fuck
[Statedef 3026]
type = S
movetype = A
physics=S
anim=1217
ctrl = 0
Sprpriority=120

[State 1000, 5] ;Opponent near
type = hitdef
trigger1 = time = 0
attr = S, HP
animtype  = hard
damage = 7,0
priority  = 5
guardflag = 
hitflag = MAFD
pausetime = 0,0
sparkno = -1
sparkxy = 0,0
guard.sparkno = -1
hitsound   = -1
guardsound = -1
ground.type = high
ground.slidetime = 10
ground.hittime  = 35
ground.velocity = 0,-1.5
air.velocity = 0,-1.5
fall = 1
air.fall = 1
yaccel = 0.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
palfx.add = 255,0,0
palfx.time = 2
envshake.time = 5
envshake.freq = 70
envshake.ampl = -5
envshake.phase = 40

[state 1000]
type = null;explod
trigger1 = movehit = 1
anim = 1032
pos = enemy,const(size.mid.pos.x)+0,enemy,const(size.mid.pos.y)+0
postype = p2
bindtime = -1
scale = 1,1
facing = -1
sprpriority = 6
ignorehitpause = 1
pauseMoveTime = 65535
superMoveTime = 65535
persistent = 0

[State 1035, HitSpark]
type = Helper
trigger1 = MoveContact = 1 && NumTarget
helperType = Normal
stateNo = ifElse(MoveGuarded, 8000, 8018)
ID = 8000
name = "Spark"
posType = P2
pos = enemy,const(size.mid.pos.x)+0,enemy,const(size.mid.pos.y)+0
facing = -1
ownPal = 1
size.xScale = 1
size.yScale = 1
pauseMoveTime = 65535
superMoveTime = 65535
persistent = 0
ignoreHitPause = 1

[State 1035, HitSound]
type = PlaySnd
trigger1 = movehit && numtarget
trigger1 = !(target, time) && target, movetype = H
value = ifElse(MoveGuarded, 2, 2), ifElse(MoveGuarded, 0, 10)
persistent = 1
ignorehitPause = 1
abspan = 1

[state 1000]
type = destroyself
trigger1 = animtime = 0

;Random bomb helper
[Statedef 3051]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 7.50,-2.0
ctrl = 0
anim = 3052
sprpriority = 5
poweradd = 0

[State 3010, Counter Flag]
type = VarSet
trigger1 = NumEnemy
trigger1 = MoveContact != 1
var(9) = (EnemyNear, MoveType = A)

[State 3010, Damage Dampener]
type = VarSet
trigger1 = 1
fvar(11) = (Root, fvar(10)) * ifElse(var(9), 1.2, 1)

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(ifElse(fvar(11) * 25 < 7, 7, fvar(11) * 25)), 0
guardflag = MA
hitflag = MAF
getpower = 0
pausetime = 5,5
sparkNo = -1
guard.sparkNo = -1
sparkXY = 0,0
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 35
ground.hittime  = 35
ground.velocity = -4
air.velocity = -1,-2
air.type = Low
air.hittime = 40
sprpriority = 5

[State 3306, HitSound]
type = PlaySnd
trigger1 = MoveContact = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
value = ifElse(MoveGuarded, -1, 2), ifElse(MoveGuarded, -1, 2)
channel = 3
ignoreHitPause = 1
persistent = 0

[State 3306, Hit Spark]
type = Helper
trigger1 = MoveContact = 1 && NumTarget
helperType = Normal
stateNo = ifElse(MoveGuarded, 8000, 8011)
ID = 8000
name = "Spark"
posType = P1
pos = ceil(p2dist X),0
facing = 1
ownPal = 1
size.xScale = 1
size.yScale = 1
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1
persistent = 0

[state 1000]
type = velset
trigger1 = movecontact
x = 1.5

[state 1000]
type = veladd
trigger1 = 1
y = .69

[state 1000]
type = veladd
triggerall = movecontact
trigger1 = 1
y = .99

[State 1100, 5]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3052+random%2
ctrl = 0

;Fire Blast
[StateDef 3052]
type = S
physics = N
moveType = A
ctrl = 0
anim = 3055
velset = 0,0
sprPriority = 4

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state 1000]
type = envshake
trigger1 = !time
time = 15

[state 1000]
type = playsnd
trigger1 = !time
value = S5,2

[state 1000]
type = posset
trigger1 = !time
y = 0

[state 1000]
type = nothitby
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 1035, VarAdd]
type = VarAdd
trigger1 = !Time
var(2) = 1

[State 3055, Anim]
type = changeanim
trigger1 = !time && !prevstateno
value = 3055

[State 1035, Counter Flag]
type = VarSet
trigger1 = NumEnemy
trigger1 = moveContact != 1
var(9) = (EnemyNear, MoveType = A)

[State 1035, Dampener]
type = VarSet
trigger1 = 1
fvar(11) = (Root, fvar(10)) * ifElse(var(9), 1.2, 1)

[State 1035, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256, 256
ignoreHitPause = 1

[state 1000]
type = angledraw
trigger1 = 1
scale = 0.70,0.70

[State 1035, Miss]
type = HitDef
trigger1 = 1
attr = S,SP
hitFlag =
sparkXY = -10,0

[State 1035, Hit 2]
type = HitDef
trigger1 = animelem = 5 && movehit = 0
trigger2 = animelem = 6 && movehit = 0
trigger3 = animelem = 7 && movehit = 0
trigger4 = animelem = 8 && movehit = 0
trigger5 = animelem = 9 && movehit = 0
trigger6 = animelem = 10 && movehit = 0
trigger7 = animelem = 11 && movehit = 0
trigger8 = animelem = 12 && movehit = 0
attr = S,HP
hitFlag = MAF
guardFlag = MA
;priority = 4, Hit
damage = 150,1
getPower = 0, 0
givePower = 36, 36
pauseTime = 5,5;12 / ((root, var(20) > 0) + 1)
guard.pauseTime = 0,0
animType = Hard
air.animType = Back
fall.animType = Back
ground.type = High
air.type = Low
ground.hitTime = 18
ground.slideTime = 18
guard.hitTime = 18
air.hitTime = 60
airGuard.ctrlTime = 16
ground.velocity = -1.50, -12.0
ground.cornerPush.velOff = 0
guard.velocity = -10.52
guard.cornerPush.velOff = 0
air.velocity = -1.50, -12.0
air.cornerPush.velOff = 0
airGuard.velocity = -5, 0
airGuard.cornerPush.velOff = 0
yAccel = 0.42
fall = 1
air.fall = 1
fall.recover = 0
forceStand = 1
hitSound = -1
guardSound = 130,0
sparkNo = -1
guard.SparkNo = -1
sparkXY = -10, -32
envShake.time = 15
sprPriority = 5

[State 1035, HitSound]
type = PlaySnd
trigger1 = movehit && numtarget
trigger1 = !(target, time) && target, movetype = H
value = ifElse(MoveGuarded, -1, 2), ifElse(MoveGuarded, -1, 3)
channel = 3
persistent = 1
ignorehitPause = 1
volumescale = 160

[State 1035, HitSpark]
type = Helper
trigger1 = MoveContact = 1 && NumTarget
;trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = ifElse(MoveGuarded, 8000, 8014)
ID = 8000
name = "Spark"
posType = P2
pos = enemy,const(size.mid.pos.x)+0,enemy,const(size.mid.pos.y)+0
facing = 1
ownPal = 1
size.xScale = 0.75
size.yScale = 0.75
pauseMoveTime = 65535
superMoveTime = 65535
persistent = 0
ignoreHitPause = 1

[State 1006, HitCount]
type = ParentVarAdd
trigger1 = !Time
trigger1 = MoveContact && NumTarget
var(13) = 1
persistent = 0

[State 1006, Juggle Points]
type = ParentVarAdd
trigger1 = !Time
trigger1 = MoveContact && NumTarget
var(15) = 1
persistent = 0

[State 1006, ProjContact]
type = VarSet
trigger1 = MoveContact && NumTarget
var(18) = 1
persistent = 0

[State 1006, ProjContact]
type = ParentVarSet
trigger1 = MoveContact && NumTarget
var(18) = 1
persistent = 0

[State 1035, ChangeState]
type = ChangeState
trigger1 = MoveReversed
value = 3093
ignoreHitPause = 1

[State 1035, ChangeState]
type = ChangeState
trigger1 = animtime = 0
trigger2 = movecontact
value = 3093
ignoreHitPause = 1

;Pyron Bullshit
[StateDef 3053]
type = S
moveType = A
physics = S
ctrl = 0
sprPriority = 5

[state 1000]
type = assertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state 1000]
type = envshake
trigger1 = !time
time = 5
ampl = 6
freq = 120

[state 1000]
type = playsnd
trigger1 = !time && prevstateno = 3051 
value = S5,3
volumescale = 170

[state 1000]
type = posset
trigger1 = time = 0
y = 0

[state 1000]
type = velset
trigger1 = 1
x = 1.2
y = 0

[State 3305, ChangeAnim]
type = ChangeAnim
trigger1 = Anim != 3056
value = 3056

[State 3305, Counter Flag]
type = VarSet
trigger1 = NumEnemy
trigger1 = MoveContact != 1
var(9) = (EnemyNear, MoveType = A)

[State 3305, Damage Dampener]
type = VarSet
trigger1 = 1
fvar(11) = (Root, fvar(10)) * ifElse(var(9), 1.2, 1)

[State 3305, HitDef]
type = HitDef
trigger1 = HitCount <= 9
trigger1 = Time = 5 && PrevStateNo = 3082 || (Time = 0 && !var(14))
attr = S, HP
hitFlag = MAFP
guardFlag = M
priority = 4,Hit
damage = 15, 1
getPower = 0, 0
givePower = 36, 36
pauseTime = 0, 3
guard.pauseTime = 0, 10
animType = DiagUp
air.animType = DiagUp
fall.animType = DiagUp
ground.type = High
air.type = High
ground.hitTime = 15
ground.slideTime = 15
guard.hitTime = 15
air.hitTime = 60
ground.velocity = -1.6,-2.5
ground.cornerPush.velOff = 0
guard.velocity = -4.0
guard.cornerPush.velOff = 0
air.velocity = -1.6,-2.5
air.cornerPush.velOff = 0
yAccel = 0.58
fall = 1
air.fall = 1
fall.recover = 0
forceStand = 1
hitSound = -1
guardSound = -1
sparkNo = -1
guard.sparkNo = -1
sparkXY = -10, -48
palFX.time = 12
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envShake.time = 10
envShake.ampl = 6
envShake.freq = 120
sprPriority = 3

[State 3305, Miss]
type = HitDef
trigger1 = (Root, var(16)); || (Root, var(15) >= 12)
attr = S, HP
hitFlag =
sparkXY = -10,0

[State 3305, End]
type = ChangeState
trigger1 = MoveContact
value = 3082
ignoreHitPause = 1

[State 3305, End]
type = ChangeState
trigger1 = AnimElemTime(21) >= 2
value = 3081
ignoreHitPause = 1

;Wait
[StateDef 3080]
type = A
physics = N
moveType = I
anim = 19999
ctrl = 0
velSet = 0,0

[state 1000]
type = assertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1008, End]
type = DestroySelf
trigger1 = !NumTarget
trigger2 = NumTarget
trigger2 = Target, Time <= 1 && !(Target,HitShakeOver)

;Disappear
[StateDef 3081]
type = A
physics = N
moveType = A
ctrl = 0
velSet = 0,0
sprPriority = 3
moveHitPersist = 1

[state 1000]
type = assertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state 1000]
type = velset
trigger1 = 1
x = 1.2
y = 0

[State 3004, Transparency]
type = Trans
trigger1 = time >= 1
trans = AddAlpha
alpha = 256 - 32 * (Time - 1), 32 * (Time - 1)
ignoreHitPause = 1

[State 3007, End]
type = ChangeState
trigger1 = !AnimTime
value = 3080

;Hit Pause
[StateDef 3082]
type = A
physics = N
moveType = A
ctrl = 0
sprPriority = 3
moveHitPersist = 1
hitCountPersist = 1

[state 1000]
type = assertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 3306, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1

[State 3306, VarSet]
type = VarSet
trigger1 = 1
var(14) = 1

[State 3306, VelSet]
type = VelSet
trigger1 = MoveContact = 1 && NumTarget && (Parent, StateNo = 3017)
x = 0

[State 3306, HitSound]
type = PlaySnd
trigger1 = MoveContact = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
value = ifElse(MoveGuarded, -1, 2), ifElse(MoveGuarded, -1, 3)
channel = 3
ignoreHitPause = 1

[State 3306, Hit Spark]
type = Helper
trigger1 = MoveContact = 1 && NumTarget
helperType = Normal
stateNo = ifElse(MoveGuarded, 8000, 8012)
ID = 8000
name = "Spark"
posType = P2
pos = enemy,const(size.mid.pos.x)+0,enemy,const(size.mid.pos.y)+0
facing = 1
ownPal = 1
size.xScale = 0.75
size.yScale = 0.75
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 3306, Parent Hit Count]
type = ParentVarAdd
trigger1 = !Time
trigger1 = MoveContact && NumTarget
var(13) = 1

[State 3306, Self Hit Count]
type = VarAdd
trigger1 = !Time
trigger1 = MoveContact && NumTarget
var(13) = 1

[State 3306, Juggle Points]
type = ParentVarAdd
trigger1 = !Time
trigger1 = MoveContact && NumTarget
var(15) = 1

[State 3306, ProjContact]
type = VarSet
trigger1 = MoveContact && NumTarget
var(18) = 1

[State 3306, ProjContact]
type = ParentVarSet
trigger1 = MoveContact && NumTarget
var(18) = 1

[State 3306, End]
type = ChangeState
trigger1 = Time >= 0
value = 3053

;Dead State
[Statedef 3093]
type = A
movetype= I
physics = N
ctrl = 0
;velset = 0,0
sprpriority = 4
movehitpersist = 1

[State 1014, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256,256
ignoreHitPause = 1

[State 1014, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 1014, Muteki]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1014, End]
type = ChangeState
trigger1 = !AnimTime
value = 3094

[State 1014, End]
type = DestroySelf
trigger1 = Root,MoveType=H
trigger1 = animtime = 0


;Wait
[StateDef 3094]
type = A
physics = N
moveType = I
anim = 9999
ctrl = 0
velSet = 0,0

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1015, AfterImageTime]
type = AfterImageTime
trigger1 = 1 
time = 0
ignorehitpause = 1 

[State 1015, DestroySelf]
type = DestroySelf
trigger1 = !NumTarget
trigger2 = NumTarget
trigger2 = Target, Time <= 1 && !(Target, HitShakeOver)

;Hit Pause
[StateDef 3082]
type = A
physics = N
moveType = A
ctrl = 0
sprPriority = 3
moveHitPersist = 1
hitCountPersist = 1

[state 1000]
type = assertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 3306, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1

[State 3306, VarSet]
type = VarSet
trigger1 = 1
var(14) = 1

[State 3306, VelSet]
type = VelSet
trigger1 = MoveContact = 1 && NumTarget && (Parent, StateNo = 3017)
x = 0

[State 3306, HitSound]
type = PlaySnd
trigger1 = MoveContact = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
value = ifElse(MoveGuarded, -1, 2), ifElse(MoveGuarded, -1, 3)
channel = 3
ignoreHitPause = 1

[State 3306, Hit Spark]
type = Helper
trigger1 = MoveContact = 1 && NumTarget
helperType = Normal
stateNo = ifElse(MoveGuarded, 8000, 8012)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < -64, -64, ifElse(P2Dist x < 64, ceil(P2Dist x), 64)), ceil(P2Dist y - 64)
facing = 1
ownPal = 1
size.xScale = 0.75
size.yScale = 0.75
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 3306, Parent Hit Count]
type = ParentVarAdd
trigger1 = !Time
trigger1 = MoveContact && NumTarget
var(13) = 1

[State 3306, Self Hit Count]
type = VarAdd
trigger1 = !Time
trigger1 = MoveContact && NumTarget
var(13) = 1

[State 3306, Juggle Points]
type = ParentVarAdd
trigger1 = !Time
trigger1 = MoveContact && NumTarget
var(15) = 1

[State 3306, ProjContact]
type = VarSet
trigger1 = MoveContact && NumTarget
var(18) = 1

[State 3306, ProjContact]
type = ParentVarSet
trigger1 = MoveContact && NumTarget
var(18) = 1

[State 3306, End]
type = ChangeState
trigger1 = Time >= 0
value = 3053

;Attach this to p2
[Statedef 3120]
type = S
physics = N
moveType = I
anim=19999
Sprpriority=100

[state 1000]
type= playsnd
trigger1 = time = 90
value = S500,0
volumescale = 160
abspan = 1

[state 1000]
type = changestate
trigger1 = p2stateno = 3103 || p2stateno = 3167
value = 3121

[state 1000]
type = destroyself
trigger1 = time = 500

;KA-BEEEEAAM!
[Statedef 3121]
physics=N
anim=19999;3065
Sprpriority=100

[state -3]
type = explod
triggerall = facing = 1
trigger1 = time = 0
anim = 3065
pos = 160,120
facing = 1
vfacing = 1
postype = left
;ontop = 1
ownpal = 1
ID = 3065
bindtime = -1
scale = 1.05,1.05
sprpriority = 100
removetime = 88
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[state -3]
type = explod
trigger1 = !time
anim = 3068
pos = 0,0
facing = 1
;ontop = 1
ownpal = 1
ID = 3068
bindtime = -1
removetime = 88
sprpriority = 100
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1

[state -3]
type = explod
trigger1 = !time
anim = 3066
pos = 0,0
facing = 1
ontop = 1
ownpal = 1
ID = 3066
bindtime = -1
sprpriority = 120
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1

[State 8290, Scale]
type = ModifyExplod
trigger1 = Time >= 1
ID = 3066
trans = AddAlpha
alpha = 256 - 32 * (Time - 1), 32 * (Time - 1)

[state 1000]
type= playsnd
trigger1 = !time
value = S5,4
volumescale = 120
abspan = 1

[state 1000]
type = envshake
trigger1 = !time
time = 88
ampl = 4
freq = 95

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
flag2 = nobardisplay
flag3 = nofg
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 =1
value = 1

[State 0, PosSet]
type = PosSet
trigger1 =1
x =ceil(pos x-screenpos x+160)
y =ceil(pos y-screenpos y+120)
ignorehitpause=1

[state -3]
type = explod
trigger1 = time = 80
anim = 3066
pos = 0,0
facing = 1
ontop = 1
ownpal = 1
ID = 3067
bindtime = -1
sprpriority = 120
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1

[State 8290, Scale]
type = ModifyExplod
trigger1 = Time >= 80
ID = 3067
trans = AddAlpha
alpha = 1 + 20 * (Time - 70), 256 - 20 * (Time - 70)

[State 6031, end]
type= changestate
trigger1 = time = 88
value = 3122
ctrl = 0

;White screen fade out
[Statedef 3122]
physics=N
anim=19999
Sprpriority=100

[state 1000]
type = stopsnd
trigger1 = !time
channel = 7

[state -3]
type = explod
trigger1 = !time
anim = 3066
pos = 0,0
facing = 1
ontop = 1
ownpal = 1
ID = 3066
bindtime = -1
sprpriority = 120
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1

[State 8290, Scale]
type = ModifyExplod
trigger1 = Time >= 1
ID = 3066
trans = AddAlpha
alpha = 256 - 32 * (Time - 1), 32 * (Time - 1)

[State 6031, end]
type= destroyself
trigger1 = time = 50

;FUCKING RUN!
[Statedef 3123]
type = S
physics= S
movetype = I
anim=3064
Sprpriority=100

[state 1000]
type = screenbound
trigger1 = 1
value = 0
ignorehitpause = 1

[state 1000]
type = velset
triggerall = anim = 3064
trigger1 = 1
x = -14

[State 100, 1a]
type = playsnd
triggerall = anim = 3064
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
value = S100,0
volumescale = 125

[state 1000]
type = destroyself
trigger1 = time = 40

;Someone left gas on this lad
[Statedef 3125]
physics=N
anim=3069
Sprpriority=10

[state 1000]
type= playsnd
triggerall = p2life > 0
trigger1 = !time
value = S5,5
volumescale = 120
abspan = 1

[State 3305, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256,256
ignoreHitPause = 1

[State 3004, Transparency]
type = Trans
triggerall = p2life > 0
trigger1 = time >= 120
trans = AddAlpha
alpha = 256 - 32 * (Time - 120), 256
ignoreHitPause = 1

[state 1000]
type = destroyself
triggerall = p2life > 0
trigger1 = time = 150

;Chicken
[Statedef 3168]
physics=N
anim=3085
Sprpriority=50

[state 1000]
type = posset
trigger1 = !time
y = 0
x = 0
ignorehitpause = 1

[state 1000]
type = nothitby
trigger1 = 1
value = SCA

;Michael Rosen
[Statedef 3200]
physics=N
anim=19999
Sprpriority=50

;[state 1000]
;type = changeanim
;triggerall = facing = 1
;trigger1 = !time
;value = 3073

;[state 1000]
;type = changeanim
;triggerall = facing = -1
;trigger1 = !time
;value = 30733

[state -3]
type = explod
triggerall = facing = 1
trigger1 = time = 0
anim = 3073
pos = 0,0
facing = 1
vfacing = 1
postype = left
;ontop = 1
ownpal = 1
ID = 3073
bindtime = -1
scale = 1,1
sprpriority = 50
removetime = -2
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[state -3]
type = explod
triggerall = facing = -1
trigger1 = time = 0
anim = 30733
pos = 0,0
facing = -1
vfacing = 1
postype = right
;ontop = 1
ownpal = 1
ID = 3073
bindtime = -1
removetime = -2
scale = 1,1
sprpriority = 50
removetime = -1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
flag2 = nobardisplay
flag3 = nofg
ignorehitpause = 1

[state 1000]
type = assertspecial
trigger1 = 1
flag = nomusic
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 =1
value = 1

[state 1000]
type = playsnd
trigger1 = !time
value = S3150,0
abspan = 1
volumescale = 200

[State 0, PosSet]
type = PosSet
trigger1 =1
x =ceil(pos x-screenpos x+160)
y =ceil(pos y-screenpos y+120)
ignorehitpause=1

[state 1000]
type = playsnd
trigger1 = p2stateno = 3162
value = S193,5
abspan = 1
persistent = 0

[state 1000]
type = removeexplod
trigger1 = p2stateno = 3163
ID = 3073
ignorehitpause = 1

[state 1000]
type = changestate
trigger1 = p2stateno = 3163
value = 3202
ctrl = 0

;SIKE!
[Statedef 3201]
physics=N
anim=19999
Sprpriority=59

[state -3]
type = explod
trigger1 = time = 0
anim = 3074
pos = 160,120
facing = 1
vfacing = 1
postype = left
;ontop = 1
ownpal = 1
ID = 3074
bindtime = -1
scale = 0.50,0.50
sprpriority = 59
removetime = 130
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[state -3]
type = explod
trigger1 = time = 130
anim = 3074
pos = 160,120
facing = 1
vfacing = 1
postype = left
;ontop = 1
ownpal = 1
ID = 3074
bindtime = 1
scale = 0.50,0.50
sprpriority = 59
removetime = 50
velocity = 25,0
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[State 0, PosSet]
type = PosSet
trigger1 = !time
x =ceil(pos x-screenpos x+160)
y =ceil(pos y-screenpos y+120)
ignorehitpause=1

[state 1000]
type = velset
trigger1 = time >= 130 && time <= 200
x = 25

[state 1000]
type = removeexplod
trigger1 = time = 150
ID = 3074

[state 1000]
type = destroyself
trigger1 = time > 150

;SIKE! alt.
[Statedef 32011]
physics=N
anim=19999;30744
Sprpriority=59

[state -3]
type = explod
trigger1 = time = 0
anim = 30744
pos = 160,120
facing = -1
vfacing = 1
postype = left
;ontop = 1
ownpal = 1
ID = 3074
bindtime = -1
scale = 0.50,0.50
sprpriority = 59
removetime = 130
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[state -3]
type = explod
trigger1 = time = 130
anim = 30744
pos = 160,120
facing = -1
vfacing = 1
postype = left
;ontop = 1
ownpal = 1
ID = 3074
bindtime = 1
scale = 0.50,0.50
sprpriority = 59
removetime = 50
velocity = -25,0
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[State 0, PosSet]
type = PosSet
trigger1 = !time
x =ceil(pos x-screenpos x+160)
y =ceil(pos y-screenpos y+120)
ignorehitpause=1

[state 1000]
type = velset
trigger1 = time >= 130 && time <= 200
x = 25

[state 1000]
type = destroyself
trigger1 = time > 150

;Super laser piss
[Statedef 3202]
physics=N
anim=19999
Sprpriority=50

;[state 1000]
;type = changeanim
;triggerall = facing = 1
;trigger1 = !time
;value = 3075

;[state 1000]
;type = changeanim
;triggerall = facing = -1
;trigger1 = !time
;value = 30755

[state -3]
type = explod
triggerall = facing = -1
trigger1 = time = 0
anim = 3075
pos = 160,120
facing = 1
vfacing = 1
postype = left
;ontop = 1
ownpal = 1
ID = 3075
bindtime = -1
scale = 1,1
sprpriority = 50
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[state -3]
type = explod
triggerall = facing = 1
trigger1 = time = 0
anim = 30755
pos = -160,120
facing = -1
vfacing = 1
postype = right
;ontop = 1
ownpal = 1
ID = 3075
bindtime = -1
removetime = -1
scale = 1,1
sprpriority = 50
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[state 1000]
type = removeExplod
trigger1 = time = 194
ID = 3075

[state 1000]
type = playsnd
trigger1 = time = 0
value = S3150,1
ignorehitpause = 1
volumescale = 150

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
flag2 = nobardisplay
flag3 = nofg
ignorehitpause = 1

[state 1000]
type = assertspecial
trigger1 = 1
flag = nomusic
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 =1
value = 1

[State 0, PosSet]
type = PosSet
trigger1 =1
x =ceil(pos x-screenpos x+160)
y =ceil(pos y-screenpos y+120)
ignorehitpause=1

[state 1000]
type = changestate
trigger1 = time = 194
value = 3203
ctrl = 0

;Super laser piss part 2
[Statedef 3203]
physics=N
anim=3077
Sprpriority=50

[state 1000]
type = stopsnd
trigger1 = !time
channel = 6

[state -3]
type = explod
triggerall = facing = -1
trigger1 = time = 0
anim = 3077
pos = 160,-155
facing = 1
vfacing = 1
postype = left
;ontop = 1
ownpal = 1
ID = 3077
bindtime = -1
scale = 2.8,2.8
sprpriority = 50
removetime = 200
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[state -3]
type = explod
triggerall = facing = 1
trigger1 = time = 0
anim = 3077
pos = -160,-155
facing = -1
vfacing = 1
postype = right
;ontop = 1
ownpal = 1
ID = 3077
bindtime = -1
scale = 2.8,2.8
removetime = 200
sprpriority = 50
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[state 1000]
type = removeexplod
trigger1 = time = 200
ID = 3077

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
flag2 = nobardisplay
flag3 = nofg
ignorehitpause = 1

[state 1000]
type = assertspecial
trigger1 = 1
flag = nomusic
ignorehitpause = 1

[state -3]
type = explod
trigger1 = !time
anim = 1921
pos = 0,0
facing = 1
;ontop = 1
ownpal = 1
ID = 1921
bindtime = -1
removetime = 200
sprpriority = 48
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1

[state 1000]
type = playsnd
trigger1 = time = 0
value = S3150,2
ignorehitpause = 1
volumescale = 120
channel = 2

[state 1000]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256,256
ignorehitpause = 1

[state 1000]
type = angledraw
trigger1 = 1
scale = 2.8,2.8

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 =1
value = 1

[State 0, PosSet]
type = PosSet
trigger1 =1
x =ceil(pos x-screenpos x+160)
y =ceil(pos y-screenpos y+275)
ignorehitpause=1

[state -3]
type = explod
trigger1 = time = 180
anim = 3066
pos = 0,0
facing = 1
ontop = 1
ownpal = 1
ID = 3067
bindtime = -1
sprpriority = 120
removetime = 20
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1

[State 8290, Scale]
type = ModifyExplod
trigger1 = Time >= 180
ID = 3067
trans = AddAlpha
alpha = 1 + 20 * (Time - 5), 256 - 20 * (Time - 5)

[state 1000]
type = hitadd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
value = 1
ignorehitpause = 1

[state 1000]
type = playsnd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
value = S2,7
ignorehitpause = 1
channel = 1

[state 1000]
type = explod
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
anim = 8003
pos = 0,-150
facing = facing
pauseMoveTime = 65535
superMoveTime = 65535
persistent = 1
ignoreHitPause = 1
scale = 1,1
removeongethit = 1
removetime = 15
sprpriority = 150
ID = 69

[State 1035, HitSpark]
type = Null;Helper
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
helperType = Normal
stateNo = 8014
ID = 8000
name = "Spark"
posType = P1
pos = 0,-150
facing = -1
ownPal = 1
size.xScale = 1
size.yScale = 1
pauseMoveTime = 65535
superMoveTime = 65535
persistent = 1
ignoreHitPause = 1

[state 1000]
type = playsnd
trigger1 = time = 180
value = S3150,4
abspan = 1
volumescale = 150
persistent = 0

[state 1000]
type = removeexplod
trigger1 = time = 200
ID = 69

[state 1000]
type = changestate
trigger1 = time = 200
value = 3122
ctrl = 0

;Missile launch sound controller
[Statedef 3205]
physics=N
anim=19999
Sprpriority=100

[state 1000]
type = playsnd
trigger1 = time = 4
value = S3150,3
abspan = 1
volumescale = 120
channel = 4
persistent = 0

[state 1000]
type = changestate
trigger1 = p2stateno = 3162
value = 3206
ctrl = 0

;Turn off that sound
[Statedef 3206]
physics=N
anim=19999
Sprpriority=100

[state 1000]
type = stopsnd
trigger1 = time = 30
channel = 4

[state 1000]
type = destroyself
trigger1 = time = 31

;I jump into void
[StateDef 3309]
type = S
physics = N
moveType = I
ctrl = 0
anim = 3091
sprPriority = 3

[State 40, Dust]
type = helper
trigger1 = time = 20
helpertype = normal
stateno = 7000
ID = 7000
name = "Dust"
postype = p1
ownpal = 1

[state 1000]
type = playsnd
trigger1 = time = 20
value = S0,40

[state 1000]
type = changestate
trigger1 = time = 20
value = 3310

;I jump into void
[StateDef 3310]
type = A
physics = N
moveType = I
ctrl = 0
velset = 0,-6
sprPriority = 3

[state 1000]
type = assertspecial
trigger1 = time >= 30
flag = noshadow
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[state 1000]
type = veladd
trigger1 = 1
y = .42

[state 1000]
type = destroyself
trigger1 = time = 100

;Metal Gear Ray
[StateDef 3311]
type = A
physics = N
moveType = A
;            L Fisting
ctrl = 0
anim = 3092
velset = 0,0
sprPriority = -999

[state 1000]
type = playsnd
trigger1 = time = 0
value = S3300,1
abspan = 1
volumescale = 150

[state 1000]
type = playsnd
trigger1 = time = 5
value = S3300,2
volumescale = 130

[state 1000]
type = envshake
trigger1 = time = 15
time = 75
ampl = 2

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state 1000]
type = velset
trigger1 = time > 0 && time <= 40
y = -8

[state 1000]
type = velset
trigger1 = time >= 40 && time <= 100
y = -0.6

[state 1000]
type = velset
trigger1 = time >= 100
y = 0

[State 3000, Super A]
type = SuperPause
trigger1 = time = 100
pos = -12, -28
anim = -1
sound = -1
time = 30
movetime = 30
poweradd = -3000
p2defmul = 1
darken = 0

[state 1000]
type = playsnd
trigger1 = time = 100
value = S8005,0
volumescale = 125

[State 3000, SuperPause FX]
type = Helper
trigger1 = time = 100
helperType = Normal
stateNo = 8502
ID = 8502
name = "Superpause FX"
posType = P1
pos = 92,-185
superMoveTime = 255
size.xScale = 1
size.yScale = 1
ownPal = 1
persistent = 0

[State 2500, 0]
type = Helper
trigger1 = time = 130
helpertype = normal
name = "Blast"
id = 3315
pos = 0,0
stateno = 3315
keyctrl = 0
ownpal = 1
size.xscale = 1.50
size.yscale = 1.30

[state 1000]
type = playsnd
trigger1 = time = 130
value = S3150,2

[state 1000]
type = velset
trigger1 = time >= 200 && time <= 220
y = -1.5
x = 2.2

[state 1000]
type = playsnd
trigger1 = time = 200
value = S3300,3
volumescale = 180
abspan = 1

[state 1000]
type = playsnd
trigger1 = time = 220
value = S3300,4
volumescale = 200
abspan = 1

[state 1000]
type = velset
trigger1 = time >= 220
y = -20.2
x = 40.0

[state 1000]
type = envshake
trigger1 = time = 200
time = 4
ampl = 5

[state 1000]
type = envshake
trigger1 = time = 220
time = 30
ampl = 10

[state 1000]
type = destroyself
trigger1 = time = 300

;Blast Bullshit
[StateDef 3315]
type = S
moveType = A
physics = S
ctrl = 0
sprPriority = 5

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 1035, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256, 256
ignoreHitPause = 1

[state 1000]
type = bindtoparent
trigger1 = 1
pos = 92,-185
ignorehitpause = 1
time = 1

[state 1000]
type = assertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state 1000]
type = posset
trigger1 = time = 0
y = 0

[State 3305, ChangeAnim]
type = ChangeAnim
trigger1 = Anim != 3093
value = 3093

[State 3305, HitDef]
type = HitDef
trigger1 = HitCount <= 10
trigger1 = Time = 4 && PrevStateNo = 3316 || (Time = 0 && !var(14))
attr = S, HP
hitFlag = MAFP
guardFlag = M
priority = 4,Hit
damage = 55, 0
getPower = 0, 0
givePower = 36, 36
pauseTime = 0, 3
guard.pauseTime = 0, 10
animType = DiagUp
air.animType = DiagUp
fall.animType = DiagUp
ground.type = High
air.type = High
ground.hitTime = 15
ground.slideTime = 15
guard.hitTime = 15
air.hitTime = 60
ground.velocity = -5.5,-2.5
ground.cornerPush.velOff = 0
guard.velocity = -4.0
guard.cornerPush.velOff = 0
air.velocity = -5.5,-2.5
air.cornerPush.velOff = 0
yAccel = 0.58
fall = 1
air.fall = 1
fall.recover = 0
hitSound = -1
guardSound = -1
sparkNo = -1
guard.sparkNo = -1
sparkXY = -10, -48
palFX.time = 12
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envShake.time = 5
down.hittime = 50
sprPriority = 3
;p2stateno = 3306

[State 3305, Miss]
type = HitDef
trigger1 = (parent, var(16)); || (Root, var(15) >= 12)
attr = S, HP
hitFlag =
sparkXY = -10,0

[State 3305, End]
type = ChangeState
trigger1 = MoveContact
value = 3316
ignoreHitPause = 1

[State 3305, End]
type = destroyself
trigger1 = animtime = 0

;Hit Pause
[StateDef 3316]
type = S
physics = S
moveType = A
ctrl = 0
sprPriority = 3
moveHitPersist = 1
hitCountPersist = 1

[state 1000]
type = assertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 3306, PosFreeze]
type = PosFreeze
trigger1 = 1
value = 1

[State 3306, VarSet]
type = VarSet
trigger1 = 1
var(14) = 1

[State 1035, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256, 256
ignoreHitPause = 1

[State 3306, HitSound]
type = PlaySnd
trigger1 = MoveContact = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
value = ifElse(MoveGuarded, -1, 2), ifElse(MoveGuarded, -1, 7)
channel = 3
ignoreHitPause = 1
volumescale = 150

[State 3306, Hit Spark]
type = Helper
trigger1 = MoveContact = 1 && NumTarget
helperType = Normal
stateNo = ifElse(MoveGuarded, 8000, 8014)
ID = 8000
name = "Spark"
posType = P1
pos = ceil(P2Dist X), 0
facing = 1
ownPal = 1
size.xScale = 0.75
size.yScale = 0.75
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 3306, Parent Hit Count]
type = ParentVarAdd
trigger1 = !Time
trigger1 = MoveContact && NumTarget
var(13) = 1

[State 3306, Self Hit Count]
type = VarAdd
trigger1 = !Time
trigger1 = MoveContact && NumTarget
var(13) = 1

[State 3306, Juggle Points]
type = ParentVarAdd
trigger1 = !Time
trigger1 = MoveContact && NumTarget
var(15) = 1

[State 3306, ProjContact]
type = VarSet
trigger1 = MoveContact && NumTarget
var(18) = 1

[State 3306, ProjContact]
type = ParentVarSet
trigger1 = MoveContact && NumTarget
var(18) = 1

[State 3306, End]
type = ChangeState
trigger1 = Time >= 0
value = 3315

;A few inches later
[Statedef 3320]
physics=N
anim=19999;3105
Sprpriority=100

[State 1020, 1]
type = PlaySnd
trigger1 = !time
value = S3350, 2
abspan = 1
volumescale = 150

[state -3]
type = explod
trigger1 = !time
anim = 3105
pos = 0,0
facing = facing
vfacing = 1
postype = left
ontop = 1
ownpal = 1
ID = 3105
bindtime = -1
scale = 0.50,0.50
sprpriority = 100
removetime = 110
supermovetime = 110
pausemovetime = 110
ignorehitpause = 1
persistent = 0
ontop = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 =1
value = 1

[State 0, PosSet]
type = PosSet
trigger1 =1
x =ceil(pos x-screenpos x+160)
y =ceil(pos y-screenpos y+120)
ignorehitpause=1

[State 6031, end]
type= destroyself
trigger1 = time = 110

;Scratch and grounder
[Statedef 3440]
physics=N
anim=19999;3152
Sprpriority=100

[state -3]
type = explod
trigger1 = time = 0
anim = 3152
pos = 160,120
facing = 1
vfacing = 1
postype = left
;ontop = 1
ownpal = 1
ID = 3152
bindtime = -1
scale = 1,1
sprpriority = 100
removetime = 350
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[state 1000]
type = removeExplod
trigger1 = time = 350
ID = 3152
ignorehitpause = 1

[state 1000]
type = assertspecial
trigger1 = 1
flag = nomusic
ignorehitpause = 1

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
flag2 = nobardisplay
flag3 = nofg
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 =1
value = 1

[state 1000]
type = playsnd
trigger1 = time = 50
value = S193,5
abspan = 1
persistent = 0

[state 1000]
type = playsnd
trigger1 = time = 148
value = S3400,0
abspan = 1
persistent = 0
channel = 7
volumescale = 250

[state 1000]
type = hitadd
trigger1 = time > 225
value = 1
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 =1
x =ceil(pos x-screenpos x+160)
y =ceil(pos y-screenpos y+120)
ignorehitpause=1

[state -3]
type = explod
trigger1 = time = 340
anim = 3066
pos = 0,0
facing = 1
ontop = 1
ownpal = 1
ID = 3067
bindtime = -1
sprpriority = 120
removetime = 10
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1

[State 8290, Scale]
type = ModifyExplod
trigger1 = Time >= 340
ID = 3067
trans = AddAlpha
alpha = 1 + 20 * (Time - 334), 256 - 20 * (Time - 334)

[State 6031, end]
type= changestate
trigger1 = time = 350
value = 3122
ctrl = 0

;Doug Walker
[Statedef 3460]
physics=N
anim=19999
Sprpriority=120

;[state 1000]
;type = changeanim
;triggerall = facing = 1
;trigger1 = !time
;value = 3160

;[state 1000]
;type = changeanim
;triggerall = facing = -1
;trigger1 = !time
;value = 3161

[state -3]
type = explod
triggerall = facing = 1
trigger1 = time = 0
anim = 3160
pos = 160,120
facing = 1
vfacing = 1
postype = left
;ontop = 1
ownpal = 1
ID = 3160
bindtime = -1
scale = 1.02,1.02
sprpriority = 900
removetime = 139
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0
ontop = 0

[state -3]
type = explod
triggerall = facing = -1
trigger1 = time = 0
anim = 3161
pos = -160,120
facing = -1
vfacing = 1
postype = right
;ontop = 1
ownpal = 1
ID = 3160
bindtime = -1
scale = 1.02,1.02
sprpriority = 900
removetime = 139
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0
ontop = 0

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
flag2 = nobardisplay
flag3 = nofg
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 =1
value = 1

[state 1000]
type = playsnd
trigger1 = !time
value = S3450,0
abspan = 1
volumescale = 250

[State 0, PosSet]
type = PosSet
trigger1 =1
x =ceil(pos x-screenpos x+160)
y =ceil(pos y-screenpos y+120)
ignorehitpause=1

[state 1000]
type = assertspecial
trigger1 = 1
flag = nomusic
ignorehitpause = 1

[State 6031, end]
type= changestate
trigger1 = time = 139
value = 3461
ctrl = 0

;Bullets fly - Powerful version
[Statedef 3461]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3156
sprpriority = 5

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 3010, Counter Flag]
type = VarSet
trigger1 = NumEnemy
trigger1 = MoveContact != 1
var(9) = (EnemyNear, MoveType = A)

[State 3010, Damage Dampener]
type = VarSet
trigger1 = 1
fvar(11) = (Root, fvar(10)) * ifElse(var(9), 1.2, 1)

[state 1000]
type = envshake
trigger1 = !time
time = 15

[State 1000, 5] ;Opponent near
type = hitdef
trigger1 = time = 0
attr = S, HP
animtype  = hard
damage = ceil(ifElse(fvar(11) * 150 < 7, 7, fvar(11) * 150)), 5
priority  = 5
guardflag = MA
getpower = 0
hitflag = MAF
pausetime = 10,10
sparkno = -1
sparkxy = 0,0
guard.sparkno = -1
hitsound   = -1
guardsound = -1
ground.type = high
ground.slidetime = 10
ground.hittime  = 35
ground.velocity = -4.5,-6
air.velocity = -4.5,-6.0
fall = 1
air.fall = 1
yaccel = 0.35
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
palfx.add = 255,0,0
palfx.time = 2

[State 1035, HitSound]
type = PlaySnd
trigger1 = movehit && numtarget
trigger1 = !(target, time) && target, movetype = H
value = ifElse(MoveGuarded, -1, 2), ifElse(MoveGuarded, -1, 6)
persistent = 1
ignorehitPause = 1

[State 1035, HitSound]
type = PlaySnd
trigger1 = movehit && numtarget
trigger1 = !(target, time) && target, movetype = H
value = ifElse(MoveGuarded, -1, 2), ifElse(MoveGuarded, -1, 2)
persistent = 1
ignorehitPause = 1

[State 1035, HitSpark]
type = Helper
trigger1 = MoveContact = 1 && NumTarget
helperType = Normal
stateNo = ifElse(MoveGuarded, 8000, 8018)
ID = 8000
name = "Spark"
posType = P2
pos = enemy,const(size.mid.pos.x)+0,enemy,const(size.mid.pos.y)+0
facing = 1
ownPal = 1
size.xScale = 1.50
size.yScale = 1.50
pauseMoveTime = 65535
superMoveTime = 65535
persistent = 0
ignoreHitPause = 1

[state 1000]
type = destroyself
trigger1 = animtime = 0

[state 1000]
type = changestate
trigger1 = movecontact
value = 1012

;AVGN BG 1
[Statedef 3550]
physics=N
anim=32055
Sprpriority=103

;[state 1000]
;type = changeanim
;triggerall = facing = 1
;trigger1 = !time
;value = 3205

;[state 1000]
;type = changeanim
;triggerall = facing = -1
;trigger1 = !time
;value = 3208

[state -3]
type = explod
triggerall = facing = 1
trigger1 = time = 0
anim = 3205
pos = 160,120
facing = 1
vfacing = 1
postype = left
;ontop = 1
ownpal = 1
ID = 3205
bindtime = -1
scale = 0.50,0.50
sprpriority = 103
removetime = 175
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[state -3]
type = explod
triggerall = facing = -1
trigger1 = time = 0
anim = 3208
pos = -160,120
facing = -1
vfacing = 1
postype = right
;ontop = 1
ownpal = 1
ID = 3205
bindtime = -1
scale = 0.50,0.50
sprpriority = 103
removetime = 175
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
flag2 = nobardisplay
flag3 = nofg
ignorehitpause = 1

[state 1000]
type = playsnd
trigger1 = animelem = 6
value = 3500,0
abspan = 1
volumescale = 200

[state 1000]
type = hitadd
trigger1 = animelem = 6
trigger2 = animelem = 11
trigger3 = animelem = 17
trigger4 = animelem = 21
trigger5 = animelem = 26
trigger6 = animelem = 31
trigger7 = animelem = 35
value = 1

[state -3]
type = explod
trigger1 = animelem = 6
trigger2 = animelem = 11
trigger3 = animelem = 17
trigger4 = animelem = 21
trigger5 = animelem = 26
trigger6 = animelem = 31
trigger7 = animelem = 35
anim = 3066
pos = 0,0
facing = 1
ontop = 0
ownpal = 1
ID = 3066
bindtime = -1
removetime = 2
sprpriority = 102
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 =1
value = 1

[state 1000]
type = modifyexplod
trigger1 = time = [0,50]
scale = 1.0,1.0
ignorehitpause = 1
ID = 3205

[state 1000]
type = modifyexplod
trigger1 = time = [51,100]
scale = 1.47-Time * (.0095),1.47-Time * (.0095)
ignorehitpause = 1
ID = 3205

[state 1000]
type = modifyexplod
trigger1 = time >= 101
scale = 0.50,0.50
ignorehitpause = 1
ID = 3205

[State 0, PosSet]
type = PosSet
trigger1 =1
x =ceil(pos x-screenpos x+160)
y =ceil(pos y-screenpos y+120)
ignorehitpause=1

[state 1000]
type = envcolor
trigger1 = animelem = 35
value = 255,255,255
time = 2
ignorehitpause = 1
under = 0
persistent = 0

[State 6031, end]
type= destroyself
trigger1 = animelem = 35

;AVGN BG 2
[Statedef 3551]
physics=N
anim=19999
Sprpriority=100

;[state 1000]
;type = changeanim
;triggerall = facing = 1
;trigger1 = !time
;value = 3206

;[state 1000]
;type = changeanim
;triggerall = facing = -1
;trigger1 = !time
;value = 3207

[state -3]
type = explod
triggerall = facing = 1
trigger1 = time = 0
anim = 3206
pos = 160,120
facing = 1
vfacing = 1
postype = left
;ontop = 1
ownpal = 1
ID = 3206
bindtime = -1
scale = 0.50,0.50
sprpriority = 100
removetime = 175
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[state -3]
type = explod
triggerall = facing = -1
trigger1 = time = 0
anim = 3207
pos = -160,120
facing = -1
vfacing = 1
postype = right
;ontop = 1
ownpal = 1
ID = 3206
bindtime = -1
scale = 0.50,0.50
sprpriority = 100
removetime = 175
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[state 1000]
type = assertspecial
trigger1 = 1
flag = noshadow
flag2 = nobardisplay
flag3 = nofg
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 =1
value = 1

[state 1000]
type = modifyexplod
trigger1 = time = [0,50]
scale = 1.0,1.0
ignorehitpause = 1
ID = 3206

[state 1000]
type = modifyexplod
trigger1 = time = [51,100]
scale = 1.47-Time * (.0095),1.47-Time * (.0095)
ignorehitpause = 1
ID = 3206

[state 1000]
type = modifyexplod
trigger1 = time >= 101
scale = 0.50,0.50
ignorehitpause = 1
ID = 3206

[State 0, PosSet]
type = PosSet
trigger1 =1
x =ceil(pos x-screenpos x+160)
y =ceil(pos y-screenpos y+120)
ignorehitpause=1

[State 6031, end]
type = destroyself
trigger1 = time = 175

;Duck Hunt sound 1
[Statedef 3560]
physics=N
anim=19999
Sprpriority=100

[state 1000]
type = playsnd
trigger1 = time = 30
value = S3500,1
abspan = 1
volumescale = 250
channel = 4
persistent = 0

[state 1000]
type = changestate
trigger1 = p2stateno = 3504
value = 3261
ctrl = 0

;Duck Hunt sound 
[Statedef 3261]
physics=N
anim=19999
Sprpriority=100

[state 1000]
type = playsnd
trigger1 = !time
value = S3500,2
abspan = 1
volumescale = 250
channel = 4
persistent = 0

[state 1000]
type = destroyself
trigger1 = !time

;Dust Stuff
[Statedef 7000]
physics = N
velset = 0, 0
anim = 19999

[State 7100, Bind]
type = bindtoroot
trigger1 = time

[State 7100, Dust]
type = explod
trigger1 = !time
anim = 7000
ID = 7000
sprpriority = 3
postype = p1
pos = 0, ceil(pos y)
scale = 0.5, 0.5
pausemovetime = -1
supermovetime = -1

[State 7100, Dust]
type = explod
trigger1 = !time || time = 2 || time = 6
anim = 7001
ID = 7000
sprpriority = 3
postype = p1
scale = 0.5, 0.5
pausemovetime = -1
supermovetime = -1

[State 7100, Assert]
type = assertspecial
trigger1 = 1
flag = invisible

[State 7100, End]
type = destroyself
trigger1 = time >= 7

;Sum dust
[StateDef 7001]
type = A
anim = 19999
velSet = 0,0
sprPriority = 5

[State 8103, posSet]
type = PosSet
trigger1 = !Time = 0
y = 0

[State 8103, Dash Dust]
type = Explod
trigger1 = Time = 0 || Time = 3 || Time = 6
anim = 7003
ID = ifElse((Time = 6), 3, ifElse((Time = 3), 2, 1))
posType = P1
pos = 0,ceil(pos y)
random = 8,8
vel = -3 - (Random / 1000.0), -2 - (Random / 2000.0)
facing = ifElse(Random < 500,-1,1)
vFacing = ifElse(Random < 500,-1,1)
removeTime = 16
sprPriority = 3
pauseMoveTime = -1
superMoveTime = -1

[State 8103, Scale Explod 1]
type = ModifyExplod
trigger1 = NumExplod(1)
ID = 1
scale = 0.1 + (0.025 * Time), 0.1 + (0.025 * Time)
trans = AddAlpha
alpha = 256 - (16 * Time), 256

[State 8103, Scale Explod 2]
type = ModifyExplod
trigger1 = NumExplod(2)
ID = 2
scale = 0.1 + (0.025 * (Time - 3)), 0.1 + (0.025 * (Time - 3))
trans = AddAlpha
alpha = 256 - (16 * (Time - 3)), 256

[State 8103, Scale Explod 3]
type = ModifyExplod
trigger1 = NumExplod(3)
ID = 3
scale = 0.1 + (0.025 * (Time - 6)), 0.1 + (0.025 * (Time - 6))
trans = AddAlpha
alpha = 256 - (16 * (Time - 6)), 256

[State 8103, Remove Explods]
type = RemoveExplod
trigger1 = Time >= 22

[State 8103, End]
type = DestroySelf
trigger1 = !NumExplod

;--- RED ---
[Statedef 7180]
physics = N
velset = 0, 0
anim = 9999
sprpriority = 4

[State 7180, Assert]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7180, flames]
type = explod
trigger1 = 1
anim = 7180
ID = 7180
sprpriority = 3
postype = p2
vel = -.2, -.75
pos = (enemynear, const(size.mid.pos.x)), ifelse((enemynear, statetype = L), 0, (enemynear, const(size.mid.pos.y) + 10))
random = 40, 40
scale = 0.5, 0.5
ownpal = 1

[State 7180, Pos]
type = posadd
trigger1 = 1
x = ceil(p2dist x)
y = ceil(p2dist y)

[State End]
type = destroyself
triggerall = numenemy
trigger1 = enemynear, ctrl
trigger2 = enemynear, movetype != H || enemynear, stateno = 5300
trigger3 = enemynear, statetype = L && (enemynear, stateno != [5080, 5081])

[State End]
type = destroyself
trigger1 = !numenemy || time >= 120

;Smoke Crack Helper
[Statedef 7190]
type    = A
movetype= I
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 7005
sprpriority = 5

[state 1000]
type = velset
trigger1 = 1
y = -0.80
x = 0

[State 0, AngleAdd]
type = Angledraw
trigger1 = 1
value = Time * (-.85)
ignorehitpause = 1
persistent = 1
scale = 0.25,0.25

[State 3004, Transparency]
type = Trans
trigger1 = time >= 1
trans = AddAlpha
alpha = 256 - 5 * (Time - 1), 256
ignoreHitPause = 1

[state 1000]
type = destroyself
trigger1 = time = 100

;Smoke Catnip
[Statedef 7191]
type    = A
movetype= I
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 7006
sprpriority = 5

[state 1000]
type = velset
trigger1 = 1
y = -0.80
x = 0

[State 0, AngleAdd]
type = Angledraw
trigger1 = 1
value = Time * (-.85)
ignorehitpause = 1
persistent = 1
scale = 0.25,0.25

[State 3004, Transparency]
type = Trans
trigger1 = time >= 1
trans = AddAlpha
alpha = 256 - 5 * (Time - 1), 256
ignoreHitPause = 1

[state 1000]
type = destroyself
trigger1 = time = 100

;Guard Spark (Normal)
[StateDef 8000]
type = A
physics = N
moveType = I
anim = 8004
velset = 0,0
sprPriority = 5

[state 1000]
type = playsnd
trigger1 = time = 0
value = S2,0

[State 8000, Assert: No Shadow]
type = AssertSpecial
trigger1= 1
flag = NoShadow

[State 8000, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256, 256

[State 8000, End]
type = DestroySelf
trigger1 = Time >= 9

;Guard Spark (Normal)
[StateDef 8001]
type = A
physics = N
moveType = I
anim = 8004
velset = 0,0
sprPriority = 5

[state 1000]
type = envshake
trigger1 = time = 0
time = 20
ampl = -12
phase = 60

[State 1035, HitSound]
type = null;PlaySnd
trigger1 = time = 0
value = S7,1
persistent = 1
ignorehitPause = 1
volumescale = 250

[state 1000]
type = playsnd
trigger1 = time = 0
value = S2,0

[State 8000, Assert: No Shadow]
type = AssertSpecial
trigger1= 1
flag = NoShadow

[State 8000, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256, 256

[State 8000, End]
type = DestroySelf
trigger1 = Time >= 9

;Weak Hit Spark
[StateDef 8009]
type = A
physics = N
moveType = I
anim = 19999
velSet = 0,0
sprPriority = 150

[State 8010, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 8010, End]
type = DestroySelf
trigger1 = Time >= 15

;Weak Hit Spark
[StateDef 8010]
type = A
physics = N
moveType = I
anim = 8000
velSet = 0,0
sprPriority = 150

[State 8010, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 8010, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256,256

[State 8010, End]
type = DestroySelf
trigger1 = Time >= 15


;Medium Hit Spark
[StateDef 8011]
type = A
physics = N
moveType = I
anim = 8001
velSet = 0,0
sprPriority = 150

[State 8010, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 8010, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256,256

[State 8011, End]
type = DestroySelf
trigger1 = Time >= 15

;Strong Hit Spark
[StateDef 8012]
type = A
physics = N
moveType = I
anim = 8002
velSet = 0,0
sprPriority = 150

[State 8010, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 8010, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256,256

[State 8011, End]
type = DestroySelf
trigger1 = Time >= 15

;Super Hit Spark - Explosive
[StateDef 8013]
type = A
physics = N
moveType = I
anim = 8003
velSet = 0,0
sprPriority = 150

[State 8010, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 8010, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256,256

[State 8011, End]
type = DestroySelf
trigger1 = Time >= 15

;Super Hit Spark
[StateDef 8014]
type = A
physics = N
moveType = I
anim = 8003
velSet = 0,0
sprPriority = 150

[State 8010, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 8010, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256,256

[State 8011, End]
type = DestroySelf
trigger1 = p2stateno = 3165
trigger2 = p2stateno = 3167

[State 8011, End]
type = DestroySelf
trigger1 = Time >= 15

;De Bloode
[StateDef 8015]
type = A
physics = N
moveType = I
anim = 9999
velSet = 0,0
sprPriority = 5

[State 8010, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[state 1000]
type = explod
trigger1 = !time
anim = 1032
pos = -9,-26
bindtime = -1
scale = 0.50,0.50
sprpriority = 10
ignorehitpause = 1

[state 1000]
type = explod
trigger1 = !time
anim = 1032
pos = -20,-7
bindtime = -1
scale = 0.50,0.50
sprpriority = 10
ignorehitpause = 1

[state 1000]
type = explod
trigger1 = !time
anim = 1032
pos = -6,14
bindtime = -1
scale = 0.50,0.50
sprpriority = 10
ignorehitpause = 1

[state 1000]
type = explod
trigger1 = !time
anim = 1032
pos = -15,30
bindtime = -1
scale = 0.50,0.50
sprpriority = 10
ignorehitpause = 1

[State 8011, End]
type = DestroySelf
trigger1 = Time >= 15

;De Bloode
[StateDef 8016]
type = A
physics = N
moveType = I
anim = 9999
velSet = 0,0
sprPriority = 5

[State 8010, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[state 1000]
type = explod
trigger1 = !time
anim = 1032
pos = -9,-26
bindtime = -1
scale = 0.50,0.50
sprpriority = 10
ignorehitpause = 1

[state 1000]
type = explod
trigger1 = !time
anim = 1032
pos = -20,-7
bindtime = -1
scale = 0.50,0.50
sprpriority = 10
ignorehitpause = 1

[state 1000]
type = explod
trigger1 = !time
anim = 1032
pos = -6,14
bindtime = -1
scale = 0.50,0.50
sprpriority = 10
ignorehitpause = 1

[state 1000]
type = explod
trigger1 = !time
anim = 1032
pos = -15,30
bindtime = -1
scale = 0.50,0.50
sprpriority = 10
ignorehitpause = 1

[state 1000]
type = explod
trigger1 = !time
anim = 1032
pos = -5,25
bindtime = -1
scale = 0.50,0.50
sprpriority = 10
ignorehitpause = 1

[state 1000]
type = explod
trigger1 = !time
anim = 1032
pos = -10,0
bindtime = -1
scale = 0.50,0.50
sprpriority = 10
ignorehitpause = 1

[State 8011, End]
type = DestroySelf
trigger1 = Time >= 15

;Cut it
[Statedef 8017]
type = A
anim = 8012
velset = 0, 0
sprpriority = 5
[State 8015, Assert]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 8015, Angle]
type = angleset
trigger1 = !time
value = 15 * (random % 24)

[State 8015, Scale]
type = angledraw
trigger1 = time < 10
scale = 0.5 + (time * 0.15), 1 -(time * 0.1)
[State 8015, Scale]
type = angledraw
trigger1 = time >= 10
scale = 0, 0

[State 8015, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256

[State 8015, Particles]
type = explod
trigger1 = time <= 4
trigger1 = random < (1000.0 / numhelper(8000))
anim = 8011
ID = 8011
postype = p1
vel = -10 + (random / 50.0), -10 + (random / 50.0)
scale = 0.4 + (random / 5000.0), 0.4 + (random / 5000.0)
sprpriority = 5
pausemovetime = -1
supermovetime = -1
[State 8015, Particles Scale]
type = modifyexplod
trigger1 = numexplod(8011)
ID = 8011
trans = addalpha
alpha = 256 -16 * time, 256

[State 8052, Large]
type = explod
trigger1 = !time
anim = 8010
ID = 8010
postype = p1
vel = -(random / 333.3), -2.5 -(random / 400.0)
accel = 0, 0.25
trans = addalpha
alpha = 256, 128
sprpriority = 5
scale = 0.5, 0.5
ownpal = 1

[State 8015, End]
type = removeexplod
trigger1 = time >= 16
[State 8015, End]
type = destroyself
trigger1 = time >= 16

;Weak Blood Spark
[StateDef 8018]
type = A
physics = N
moveType = I
anim = 1032
velSet = 0,0
sprPriority = 6

[State 8010, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 8010, End]
type = DestroySelf
trigger1 = animtime = 0

;Weak Blood Spark
[StateDef 8019]
type = A
physics = N
moveType = I
anim = 1915
velSet = 0,0
sprPriority = 150

[State 8010, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 8010, End]
type = DestroySelf
trigger1 = animtime = 0

;Level 1 Super FX
[StateDef 8500]
type = A
physics = N
velSet = 0,0
anim = 8005
sprPriority = 120

;30 TICKS SUPERS
[State 8500, Lv1]
type = bgpalfx
triggerall = root, stateno = 3010 || root, stateno = 3020 || root, stateno = 3021 || root, stateno = 3000 || root, stateno = 3030 || root, stateno = 3029 || root, stateno = 3040 || root, stateno = 3050 || root, stateno = 3450 || root, stateno = 4000 || root, stateno = 4090
trigger1 = time <= 10; && root, var(10) = 5
time = 1
add = 256 -ceil(25.6 * time), 256 -ceil(25.6 * time), 256 -ceil(25.6 * time)
mul = 256 -floor(25.6 * time), 256 -floor(25.6 * time), 256 
color = 256 -floor(25.6 * time)

[State 8500, Lv1]
type = bgpalfx
triggerall = root, stateno = 3010 || root, stateno = 3020 || root, stateno = 3021 || root, stateno = 3000 || root, stateno = 3030 || root, stateno = 3029 || root, stateno = 3040 || root, stateno = 3050 || root, stateno = 3450 || root, stateno = 4000 || root, stateno = 4090
trigger1 = (time = [11, 27]); && root, var(10) = 5
time = 1
mul = 0, 0, 256
color = 0

[State 8500, Lv1]
type = bgpalfx
triggerall = root, stateno = 3010 || root, stateno = 3020 || root, stateno = 3021 || root, stateno = 3000 || root, stateno = 3030 || root, stateno = 3029 || root, stateno = 3040 || root, stateno = 3050 || root, stateno = 3450 || root, stateno = 4000 || root, stateno = 4090
trigger1 = time >= 28; && root, var(10) = 5
time = 1
mul = ceil(51.2 * (time -28)), ceil(51.2 * (time -28)), 256 
color = floor(51.2 * (time -28))

;17 TICKS
[State 8500, Lv1]
type = bgpalfx
triggerall = root, stateno = 3005
trigger1 = time <= 10; && root, var(10) = 5
time = 1
add = 256 -ceil(25.6 * time), 256 -ceil(25.6 * time), 256 -ceil(25.6 * time)
mul = 256 -floor(25.6 * time), 256 -floor(25.6 * time), 256 
color = 256 -floor(25.6 * time)

[State 8500, Lv1]
type = bgpalfx
triggerall = root, stateno = 3005
trigger1 = (time = [11, 14]); && root, var(10) = 5
time = 1
mul = 0, 0, 256
color = 0

[State 8500, Lv1]
type = bgpalfx
triggerall = root, stateno = 3005
trigger1 = time >= 15; && root, var(10) = 5
time = 1
mul = ceil(51.2 * (time -15)), ceil(51.2 * (time -15)), 256 
color = floor(51.2 * (time -15))

;More shit in case the helper does that shit again
[State 8500, Lv1]
type = bgpalfx
triggerall = root, stateno = 3370
trigger1 = time <= 10; && root, var(10) = 5
time = 1
add = 256 -ceil(25.6 * time), 256 -ceil(25.6 * time), 256 -ceil(25.6 * time)
mul = 256 -floor(25.6 * time), 256 -floor(25.6 * time), 256 
color = 256 -floor(25.6 * time)

[State 8500, Lv1]
type = bgpalfx
triggerall = root, stateno = 3370
trigger1 = (time = [11, 27]); && root, var(10) = 5
time = 1
mul = 0, 0, 256
color = 0

[State 8500, Lv1]
type = bgpalfx
triggerall = root, stateno = 3370
trigger1 = time >= 28; && root, var(10) = 5
time = 1
mul = ceil(51.2 * (time -28)), ceil(51.2 * (time -28)), 256 
color = floor(51.2 * (time -28))

[State 8500, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 8500, End]
type = DestroySelf
trigger1 = Time >= 32

;Level 2 Super FX
[StateDef 8501]
type = A
physics = N
velSet = 0,0
anim = 8006
sprPriority = 120

[State 8500, Lv1]
type = bgpalfx
triggerall = root, stateno = 3030 || root, stateno = 3029 || root, stateno = 3751
trigger1 = time <= 10; && root, var(10) = 5
time = 1
add = 256 -ceil(25.6 * time), 256 -ceil(25.6 * time), 256 -ceil(25.6 * time)
mul = 192, 256 -floor(25.6 * time), 256 
color = 256 -floor(25.6 * time)

[State 8500, Lv1]
type = bgpalfx
triggerall = root, stateno = 3030 || root, stateno = 3029 || root, stateno = 3751
trigger1 = (time = [11, 27]); && root, var(10) = 5
time = 1
mul = 192,0,256
color = 0

[State 8500, Lv1]
type = bgpalfx
triggerall = root, stateno = 3030 || root, stateno = 3029 || root, stateno = 3751
trigger1 = time >= 28; && root, var(10) = 5
time = 1
mul = 192, ceil(51.2 * (time -28)), 256 
color = floor(51.2 * (time -28))

;150 Ticks
[State 8500, Lv1]
type = bgpalfx
triggerall = root, stateno = 3350
trigger1 = time <= 10; && root, var(10) = 5
time = 1
add = 256 -ceil(25.6 * time), 256 -ceil(25.6 * time), 256 -ceil(25.6 * time)
mul = 192, 256 -floor(25.6 * time), 256 
color = 256 -floor(25.6 * time)

[State 8500, Lv1]
type = bgpalfx
triggerall = root, stateno = 3350
trigger1 = (time = [11, 137]); && root, var(10) = 5
time = 1
mul = 192,0,256
color = 0

[State 8500, Lv1]
type = bgpalfx
triggerall = root, stateno = 3350
trigger1 = time >= 138; && root, var(10) = 5
time = 1
mul = 192, ceil(51.2 * (time -138)), 256 
color = floor(51.2 * (time -138))

[State 8500, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 8500, End]
type = DestroySelf
triggerall = root, stateno != 3350
trigger1 = Time >= 32

[State 8500, End]
type = DestroySelf
triggerall = root, stateno = 3350
trigger1 = Time >= 138

;Level 3 Super FX
[StateDef 8502]
type = A
physics = N
velSet = 0,0
anim = 8007
sprPriority = 120

[State 8500, Lv1]
type = bgpalfx
trigger1 = time <= 10; && root, var(10) = 5
time = 1
add = 256 -ceil(25.6 * time), 256 -ceil(25.6 * time), 256 -ceil(25.6 * time)
mul = 256, 256 -floor(25.6 * time), 256 -floor(25.6 * time)
color = 256 -floor(25.6 * time)

[State 8500, Lv1]
type = bgpalfx
trigger1 = (time = [11, 27]); && root, var(10) = 5
time = 1
mul = 256, 0, 0
color = 0

[State 8500, Lv1]
type = bgpalfx
trigger1 = time >= 28; && root, var(10) = 5
time = 1
mul = 256, ceil(51.2 * (time -28)), ceil(51.2 * (time -28))
color = floor(51.2 * (time -28))

[State 8500, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 8500, End]
type = DestroySelf
trigger1 = Time >= 32

;Level 5 Super FX
[StateDef 8503]
type = A
physics = N
velSet = 0,0
anim = 8008
sprPriority = 120

[State 8500, Lv1]
type = bgpalfx
trigger1 = time <= 10; && root, var(10) = 5
time = 1
add = 256 -ceil(25.6 * time), 256 -ceil(25.6 * time), 256 -ceil(25.6 * time)
mul = 256, 256, 256 
color = 256 -floor(25.6 * time)

[State 8500, Lv1]
type = bgpalfx
trigger1 = (time = [11, 27]); && root, var(10) = 5
time = 1
mul = 256,256,256
color = 0

[State 8500, Lv1]
type = bgpalfx
trigger1 = time >= 28; && root, var(10) = 5
time = 1
mul = 256, 256, 256 
color = floor(51.2 * (time -28))

[State 8500, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 8500, End]
type = DestroySelf
trigger1 = Time >= 32
