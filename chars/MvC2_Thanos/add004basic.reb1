; ADD004 BASIC PIEs ReBuilded CNS (1/10/2021)



;==============================================================================
; {D:\MUGEN\Marvel vs Capcom 1.1 Screenpack(By Maxi Mugen)\chars\MvC2_Thanos\MvC2_Thanos.cns}
;==============================================================================

;---------------------- Integer variable list ----------------------

; var(0):= 191 - Introduction
;          270 - Rock hits
;          1050 - Paralyze FX Spawner
;          5900 - Initialize (at the start of the round)
;          8030 - 電撃ヒット
;          8040 - 炎ヒット
;          8045 - 炎ヒット(青)
; var(1):= 270 - Rock hits
;          280 - Rock chunks
;          1050 - Paralyze FX Spawner
;          40 - Jump Start
;          45 - AirJump Start
;          5900 - Initialize (at the start of the round)
;          8040 - 炎ヒット
;          8045 - 炎ヒット(青)
;          -2
; var(2):= 1050 - Paralyze FX Spawner
;          40 - Jump Start
;          45 - AirJump Start
; var(3):= 220 - Standing Hard Punch
;          1050 - Paralyze FX Spawner
;          40 - Jump Start
;          45 - AirJump Start
;          -2
; var(4):= 220 - Standing Hard Punch
;          810 - Air Combo Follow Up
;          948 - Safe fall (from superjump, or jumping attack)
;          1050 - Paralyze FX Spawner
;          3000 - Black Hole
;          3111 - Black Hole - Hit Finish
;          3200 - Moonfall
;          3201
;          3500 - Power Stone
;          3501 - SUper 3 continuacion
;          4000 - Cosmic Fall
;          -2
;          160000 - Player X-Over Combo: Dark Wolf Legion
; var(5):= 5900 - Initialize (at the start of the round)
; var(6):= 610 - Air Medium Punch
;          620 - Air Hard Punch
;          630 - Air Light Kick
;          640 - Air Medium Kick
;          650 - Air Heavy Kick
;          -2
; var(7):= -2
; var(8):= -2
; var(9):= -2
;var(11):= 160 - Guard-Push
;          -2
;          -1
;var(12):= 3000 - Black Hole
;          5900 - Initialize (at the start of the round)
;          -2
;var(13):= -2
;var(14):= -2
;var(18):= -2
;          160001
;          160002 - Dark Wolf Air Attack
;          170001
;          170002 - Dark Wolf Air Attack
;var(19):= -2
;var(20):= -2
;var(21):= -2
;var(22):= 100510
;var(29):= 5900 - Initialize (at the start of the round)
;var(33):= 5900 - Initialize (at the start of the round)
;          -2
;          100511
;          100701 - Jumping into the screen first (partner)
;          150000 - Cross-Over Combination Jump-In
;var(34):= -2
;var(36):= 160000 - Player X-Over Combo: Dark Wolf Legion
;var(37):= 160002 - Dark Wolf Air Attack
;var(38):= 160000 - Player X-Over Combo: Dark Wolf Legion
;var(40):= 9999
;var(41):= 9999
;var(42):= 9999
;var(43):= -2
;var(44):= -2
;var(46):= 170000 - Partner X-Over Combo: Dark Wolf Legion
;var(47):= 170002 - Dark Wolf Air Attack
;var(48):= 170000 - Partner X-Over Combo: Dark Wolf Legion
;var(50):= 3500 - Power Stone
;          3520 - Projectil

;---------------------- Float variable list ----------------------

; fvar(0):= -2
;          160001
;          160002 - Dark Wolf Air Attack
;          170001
;          170002 - Dark Wolf Air Attack
; fvar(1):= 40 - Jump Start
;          -2
; fvar(3):= 9999
; fvar(4):= 9999
; fvar(5):= -2
;fvar(10):= 4000 - Cosmic Fall







[Data]
life = 1250
power = 5000
attack = 105
defence = 115
fall.defence_up = 50
liedown.time = 30
airjuggle = 9999;15
sparkno = 2
guard.sparkno = s8050
KO.echo = 0
volume = 256
IntPersistIndex = 0
FloatPersistIndex = 0

[Size]
xscale = 0.83
yscale = 1.07
;xscale = 1
;yscale = 1
ground.back = 18
ground.front = 14
air.back = 18
air.front = 10
height = 60
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = 4, -93	;Approximate position of head
mid.pos = 4, -55
shadowoffset = 0
draw.offset = 0,0


[Velocity]
walk.fwd  = 2.2	;Walk forward
walk.back = -2.0		;Walk backward
run.fwd  = 6, 0		;Run forward (x, y)
run.back = -5,-5	;Hop backward (x, y)
jump.neu = 0,-10
jump.back = -3.5
jump.fwd = 3.5
runjump.back = -4.5,-10
runjump.fwd = 4.5,-10
airjump.neu = 0,-8.1
airjump.back = -2.55
airjump.fwd = -2.5

[Movement]
airjump.num = 0
airjump.height = 35
yaccel = .556
stand.friction = .8
crouch.friction = .8


[Quotes]
;Thanos
victory1 = "I will take everything, by my hand."
victory2 = "Supremacy cannot be imprisoned! My divinity is absolute!"
victory3 = "Death's admiration is a prize I fight to win -- and one I shall never abandon!"
victory4 = "Thanos is always pleased to honor you with the pain you deserve."
victory5 = "You are unworthy to possess the infinity gems!"
victory6 = "If you wish to try again, COME AND GET ME!"
victory7 = "You thought you could defeat me, you suffer from delusions of grandeur."

[Statedef 21]
type    = S
physics = S
sprpriority = 1

; Just to prevent strange behaviors...
[State 21, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0


[State 21, 1]
type = VelSet
triggerall = enemy, stateno != [190, 194]
trigger1 = command = "holdfwd"
x = 1.5

[State 21, 2]
type = VelSet
triggerall = enemy, stateno != [190, 194]
trigger1 = command = "holdback"
x = -1.2

[State 21, 3]
type = VelSet
triggerall = enemy, stateno != [190, 194]
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
x = 0

[State 21, 4]
type = ChangeAnim
triggerall = Vel X > 0
trigger1 = command = "holdfwd" && anim != 20
value = 20

[State 21, 4]
type = ChangeAnim
triggerall = Vel X < 0
trigger1 = command = "holdback" && anim != 21
value = 21

[State 21, 4]
type = ChangeAnim
triggerall = Vel X = 0
trigger1 = command != "holdfwd" && anim != 0
trigger1 = command != "holdback" && anim != 0
value = 0


[State 21, 5]
type = ChangeState
trigger1 = ctrl
value = ifelse((command = "holdfwd") || (command = "holdback"), 20, 0)

; Lose by Time Over 
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;----------------------------------------------------------------
;Win state decider
[Statedef 180]
type = S

[State 180, ChangeState]
type = ChangeState
trigger1 = Time = 0
value = 181+random%3

;[State 180, 2]
;type = ChangeState
;trigger1 = var(0) < 333
;;trigger1 = Var(0) = 0
;value = 181
;
;[State 180, 3]
;type = ChangeState
;trigger1 = var(0) >= 333
;trigger1 = var(0) < 666
;;trigger1 = Var(0) = 1
;value = 182
;
;[State 180, 4]
;type = ChangeState
;trigger1 = var(0) >= 666
;;trigger1 = Var(0) = 2
;value = 183



;---------------------------------------------------------------------------
; Win pose 1 - "It's not over"
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 181, 1]
type = AssertSpecial
trigger1 = time < 240
flag = RoundNotOver


[State 705, 2 Spark Fist]
type = Explod
trigger1 = Animelem = 1
anim = 7030
ID = 7030
sprpriority = 1
postype = p1
pos = -25,-160
bindtime = -1
removetime = 9999
ownpal = 1
ontop = 1
scale= 0.3,0.3
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 1100, 1]
type = RemoveExplod
trigger1 = AnimElem = 9, 30
ID = 7030


[State 181, 2]
type = PlaySnd
trigger1 = time = 30
value = 40, 12

;---------------------------------------------------------------------------
; Win Pose 2 - Group Pose
[Statedef 182]
type = S
ctrl = 0
anim = 900
velset = 0, 0

[State 182, 1]
type = AssertSpecial
trigger1 = time < 260
flag = RoundNotOver

[State 182, 2]
type = PlaySnd
trigger1 = time = 0
value = 70, 5

[State 182, 3]
type = PlaySnd
trigger1 = time = 0
value = 70, 6

[State 182, 4]
type = PlaySnd
trigger1 = time = 100
value = 40, 1

;---------------------------------------------------------------------------
; Win Pose 3 - Wind Blowing
[Statedef 183]
type = S
movetype = I
ctrl = 0
anim = 910
velset = 0, 0

[State 183, 1]
type = AssertSpecial
trigger1 = time < 300
flag = RoundNotOver

[State 183, 2]
type = AssertSpecial
trigger1 = time < 300
flag = NoMusic

[State 183, 3]
type = PlaySnd
trigger1 = time = 0
value = 70, 7
loop = 1
channel = 2

;---------------------------------------------------------------------------
; introstate decider
[Statedef 190]
type = S
sprpriority = 0

[state 190, 5]
type = changestate
;triggerall = (ID=56&&numpartner) || (Teamside = 1 && Numpartner = 0) || (ID=58&&numpartner) || (Teamside = 2 && Numpartner = 0)
trigger1 = time = 0
value = 192

;---------------------------------------------------------------------------
; Introduction
[Statedef 191]
type = S
ctrl = 0
velset = 0,0


[State 180, 1]
type = VarRandom
trigger1 = Time = 0
v = 0 ;1
range = 0,10







[State 191, 1]
type = VarSet
trigger1 = P2Name = "Baby Bonnie Hood"
trigger2 = P4Name = "Baby Bonnie Hood"
trigger3 = P2Name = "B.B. Hood"
trigger4 = P4Name = "B.B. Hood"
v = 0
value = 1

[State 191, 2]
type = VarSet
trigger1 = P2Name = "Akuma"
trigger2 = P4Name = "Akuma"
v = 0
value = 2

[State 191, 3]
type = VarSet
trigger1 = P2Name = "Gouki"
trigger2 = P4Name = "Gouki"
v = 0
value = 3

[State 191, 4]
type = VarSet
trigger1 = P2Name = "Apocalypse"
trigger2 = P4Name = "Apocalypse"
v = 0
value = 4

[State 191, 5]
type = VarSet
trigger1 = P2Name = "Captain America"
trigger2 = P4Name = "Captain America"
v = 0
value = 5

[State 191, 6]
type = VarSet
trigger1 = P2Name = "Chun-Li"
trigger2 = P4Name = "Chun-Li"
trigger3 = P2Name = "Chun Li"
trigger4 = P4Name = "Chun Li"
trigger5 = P2Name = "ChunLi"
trigger6 = P4Name = "ChunLi"
v = 0
value = 6

[State 191, 7]
type = VarSet
triggerall = IsHomeTeam
trigger1 = P2Name = "Thanos"
trigger2 = P4Name = "Thanos"
v = 0
value = 7

[State 191, 8]
type = VarSet
trigger1 = P2Name = "Morrigan"
trigger2 = P4Name = "Morrigan"
v = 0
value = 8

[State 191, 9]
type = VarSet
trigger1 = P2Name = "Onslaught"
trigger2 = P4Name = "Onslaught"
v = 0
value = 9

[State 191, 10]
type = VarSet
trigger1 = P2Name = "Cable"
trigger2 = P4Name = "Cable"
trigger3 = P2Name = "Cable Revised"
trigger4 = P4Name = "Cable Revised"
v = 0
value = 10



;[State 180, 2]
;type = ChangeState
;trigger1 = Time = 1
;trigger1 = Var(0) = 0
;value = 8251
;
;[State 180, 2]
;type = ChangeState
;trigger1 = Time = 1
;trigger1 = Var(0) = 1
;value = 194
;
;[State 180, 2]
;type = ChangeState
;trigger1 = Time = 1
;trigger1 = Var(0) = 3
;value = 192



[State 180, 4]
type = ChangeState
trigger1 = var(0) > 0
value = 8251


[State 191, 11]
type = ChangeState
trigger1 = var(0) > 0
value = 194

[State 191, 12]
type = ChangeState
trigger1 = var(0) = 0
value = 192

;---------------------------------------------------------------------------
; The Mad Titan Has Arrived!
;---------------------------------------------------------------------------

[Statedef 8251]
type = S
movetype = I
physics = S
ctrl = 0
anim = 8251

[State 188, 2]
type = AssertSpecial
trigger1 = Time = [0,700]
flag = Intro
flag2 = NoWalk


[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 10



[State 2150, 3 Universal Spark]
type = Explod
trigger1 = Animelem = 9
ID = 7030
anim = 7030
postype = p1
pos = -14,-92
facing = -1
bindtime = -1
removetime = 9999
sprpriority = 15
ownpal = 0
ontop = 1
scale = 0.2,0.2
removeongethit = 1
supermove = 1
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1

[State 2343,RemoveExplod Universal Spark]
type = RemoveExplod
trigger1 = Animelem = 20 && !NumExplod(7030) = 0
ID = 7030



[State 9000, Fade to black]
type = Explod
trigger1 = Time <= 6
trigger1 = NumExplod(7034) <= 0
anim = 7034
id = 7034
pos = 0,0
postype = left
bindtime = -1
removetime = 9999
persistent = 0
pausemovetime = 0
supermovetime = 0
sprpriority = -97
scale = 1,1
facing = 1
ownpal = 0
ontop = 0

[State 2343,RemoveExplod Fade Remove]
type = RemoveExplod
trigger1 = Animelem = 2 && !NumExplod(7034) = 0
ID = 7034



[State 192, 1 Sanctuary]
type = Helper
trigger1 = Animelem = 20
name = "Sanctuary"
ID = 8252
stateno = 8252
postype = p1
pos = 0,0
ownpal = 1




[State 2000, Flash]
type = EnvColor
trigger1 = Animelem = 2
value = 240,240,240
ignorehitpause =  999
time = 5


[State 192, 2 Surrender All Hope!]
type = PlaySnd
trigger1 = Animelem = 9
value = s67,27
channel = 7
volume = 255


[State -3, StopSnd Surrender All Hope]
type = StopSnd
trigger1 = stateno != 8251
channel = 7


[State 0, StopSnd Surrender All Hope]
type = StopSnd
trigger1 = Time <= 0
channel = 7




[State 0, Helper Surrender all Hope Sound Stop Helper]
type = Helper
trigger1 = Animelem = 1
helpertype = normal ;player
name = "Surrender all Hope Sound Stop Helper"
ID = 99992 
stateno = 99992
postype = p1
keyctrl = 0
ownpal = 1
sprpriority = 1
pos = 0,0
supermovetime = 9999
pausemovetime = 9999




[State 192, 2 Chair Zoom]
type = PlaySnd
trigger1 = Animelem = 2
value = s67,26
channel = -1
volume = 255


[State 2005, 3]
type = VelSet
triggerall = Anim = 8251
trigger1 = 1
x = 0
y = sin(time/7)



[State 1000, 5 Soul Dust]
type = Explod
trigger1 = animelem = 9
anim = 6063
ID = 6063
sprpriority = -90
ontop = 1
postype = p1
pos = 0,9
removeongethit = 1
removetime = 400
bindtime = 1
scale = 0.8,0.5
supermovetime = 9999
ignorehitpause = 1
ownpal = 1


[State 715, 1 Teleport Sound]
type = PlaySnd
trigger1 = AnimElem = 20
value = s2,4
volume = 255
channel = -1


;[State 715, 1 Evil Laugh]
;type = PlaySnd
;trigger1 = AnimElem = 16
;value = s67,19
;volume = 255
;channel = -1


[State 192, 4]
type = ChangeState
trigger1 = Animelem = 20
value = 8253
ctrl = 0

;---------------------------------------------------------------------------
;TP from Chair
;---------------------------------------------------------------------------

[Statedef 8253]
type = S
movetype = I
physics = S
ctrl = 0
anim = 8253


[State 192, 2]
type = PlaySnd
trigger1 = time = 90
value = 40, 0
volume = 255




[State 0, PosSet]
type = PosSet
trigger1 = Animelem = 9
y = -4




[State 192, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 0


;---------------------------------------------------------------------------
; Sanctuary (Helper)
;---------------------------------------------------------------------------
[Statedef 8252]
type = S
movetype = I
physics = S
ctrl = 0
anim = 8252

[State 2005, 3]
type = VelSet
triggerall = Anim = 8252
trigger1 = 1
x = 0
y = sin(time/9)


[State 0, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0

;---------------------------------------------------------------------------
; Standard Intro
[Statedef 192]
type = S
movetype = I
physics = S
ctrl = 0
anim = 190

[State 192, a]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 192, 1]
type = Helper
trigger1 = time = 0
name = "Mistress Death"
ID = 16
postype = p1
pos = 200, 0   ;140
stateno = 193
ownpal = 1

[State 192, 2]
type = PlaySnd
trigger1 = time = 90
value = 40, 0
volume = 255

;[State 192, 3]
;type = VarAdd
;trigger1 = NumHelper(16) = 0
;v = 1
;value = 1

[State 192, 3]
type = ChangeAnim
trigger1 = time = 250
value = 12

[State 192, 4]
type = ChangeState
trigger1 = Anim = 12
trigger1 = AnimTime = 0
value = 0

; Death 
[Statedef 193]
type = S
movetype = I
physics = N
anim = 191
sprpriority = 6

[State 193, 1]
type = ChangeAnim
trigger1 = time = 220
value = 192

[State 193, 2]
type = PlaySnd
trigger1 = Anim = 192
value = 70, 5
persistent = 0

[State 193, 3]
type = DestroySelf
trigger1 = Anim = 192
trigger1 = AnimTime = 0



;---------------------------------------------------------------------------
; Taunt
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2


[State 0, LifeAdd]
type = LifeAdd
trigger1 = animelem = 4
value = 37
absolute = 37

[State 0, PowerAdd]
type = PowerAdd
trigger1 = animelem = 4
value = 37


[State 195, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 40, 10
volume = 255
channel = 0

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Light Punch
[Statedef 200]
type = S
movetype= A
physics = S
ctrl = 0
anim = 200
velset = 0,0;3,0
sprpriority = 2
poweradd = 20

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,3

[State 200, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 40, 5

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0



[State 2150, 3 Reality Swoosh]
type = Explod
trigger1 = Animelem = 2
ID = 7131 
anim = 7131 
postype = p1
pos = 36,0
facing = 1
bindtime = -1
removetime = -2
sprpriority = 1
ownpal = 1
ontop = 1
scale = 0.5,0.6
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1



[State 200, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                     
damage = 23, 0                   
animtype = Light                 
guardflag = MA                   
hitflag = MAFD                   
priority = 3, Hit                
pausetime = 8,8
sparkno = S8000
guard.sparkno = S8050
hitsound = S5,0
guardsound = S6,0
sparkxy = -10, -66
ground.type = High               
ground.slidetime = 6             
ground.hittime  = 10            
ground.velocity = -5             
air.type = High                  
air.velocity = -1.4,-3                        
air.hittime = 12                 
guard.velocity = -4
guard.hittime = 18
guard.slidetime = 8
getpower = ifelse(var(15) = 1, 0, 15)
givepower = 10
down.velocity = -3, -3
down.hittime = 15
palfx.time = 16
palfx.add = 40,-70,-200
palfx.mul = 256,256,256
palfx.sinadd = 40,30,0,10
palfx.invertall = 0
palfx.color = 0

[State 200, Idle]
type= null;statetypeset
trigger1= animelemtime(3)>=0
movetype= I


[State 200, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;----------------------------------------------------------------------------------------
; Standing Medium Punch
[Statedef 210]
type = S
movetype= A
physics = S
ctrl = 0
anim = 210
velset = 0,0
sprpriority = 2
poweradd = 50

[State 210, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,4

[State 210, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 210, Width]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0

[State 210, Grunt]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6
value = 40, 5




[State 2150, 3 Mind Swoosh]
type = Explod
trigger1 = Animelem = 2
ID = 7132
anim = 7132 
postype = p1
pos = 55,0
facing = 1
bindtime = -1
removetime = -2
sprpriority = 1
ownpal = 1
ontop = 1
scale = 0.5,0.6
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1


[State 210, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 25
hitflag = MAFD
guardflag = MA
pausetime = 0,18
sparkno = S8001
guard.sparkno = S8050
hitsound = S5,1
guardsound = S6,0
sparkxy = -10,-70
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3, 0
air.velocity = -2.5,-4
guard.velocity = -3
guard.slidetime = 10
guard.hittime = 14
givepower = 15
getpower = ifelse(var(15) = 1, 0, 20)
down.velocity = -3, -3
down.hittime = 15
palfx.time = 10
palfx.add = 0,50,240
palfx.mul = 120,224,150
palfx.sinadd = 85,55,110,10
palfx.invertall = 0
palfx.color = 0



[State 2150, 3 Power Swoosh]
type = Explod
trigger1 = Animelem = 6
ID = 7133
anim = 7133
postype = p1
pos = 55,0
facing = 1
bindtime = -1
removetime = -2
sprpriority = 1
ownpal = 1
ontop = 1
scale = 0.5,0.6
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1



[State 210, 3]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
animtype  = Medium
damage    = 33
hitflag = MAFD
guardflag = MA
pausetime = 8,8
sparkno = S8001
guard.sparkno = S8050
hitsound = S5,1
guardsound = S6,0
sparkxy = -10,-70
ground.type = High
ground.slidetime = 11
ground.hittime  = 15
ground.velocity = -5, 0
air.velocity = -2.5,-4
guard.velocity = -4
guard.slidetime = 10
guard.hittime = 14
givepower = 20
getpower = ifelse(var(15) = 1, 0, 25)
down.velocity = -3, -3
down.hittime = 15
palfx.time = 18 ;purple
palfx.add = 0,-200,0
palfx.mul = 256,256,256
palfx.sinadd = 40,80,40,10
palfx.invertall = 0
palfx.color = 0


[State 210, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
 

;------------------------------------------------------------------------------------------------
; Standing Hard Punch
[StateDef 220]
type = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 220
poweradd = 50
sprpriority = 2

[State 220, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,5

[State 200, Idle]
type= null;statetypeset
trigger1= animelemtime(5)>=0
movetype= I

[State 0, Width]
type = Width
trigger1 = time = [11,28]
edge = 0,0
player = 10,0
;value = 0,0

[State 220, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
hitflag = MAF
guardflag = MA
animtype = Back
pausetime = 10, 10
damage = 80, 0
sparkno = S8002
guard.sparkno = S8050
hitsound = s5, 2
guardsound = s6, 0
sparkxy = -10, -88
ground.velocity = -8, -9
ground.slidetime = 20
ground.hittime = 80
air.velocity = -9, -9
air.hittime = 80
guard.velocity = -7
guard.slidetime = 12
guard.hittime = 15
getpower = ifelse(var(15) = 1, 0, 40)
givepower = 30
palfx.time = 60
palfx.add = 0, 0, 250

[State 220, 3]
type = VarSet
trigger1 = MoveHit
v = 3
value = Target, const(size.mid.pos.x)
persistent = 0

[State 220, 4]
type = VarSet
trigger1 = MoveHit
v = 4
value = Target, const(size.mid.pos.y)
persistent = 0

[State 210, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Light Kick
[Statedef 230]
type = S
movetype= A
physics = S
ctrl = 0
anim = 230
velset = 0,0
sprpriority = 2
poweradd = 20

[State 230, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,3

[State 230, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Idle]
type= null;statetypeset
trigger1= animelemtime(5)>=0
movetype= I

[State 2150, 3 Soul Cloud]
type = Explod
Trigger1 = Animelem = 2
ID = 7138
anim = 7138
postype = p1
pos = 61,-67
facing = 1
bindtime = -1
removetime = -2
sprpriority = 1
ownpal = 1
ontop = 1
scale = 0.9,0.9
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1

[State 230, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
hitflag = MAF
animtype  = Light
damage    = 21
guardflag = MA
pausetime = 8,8
sparkno = S8000
guard.sparkno = S8050
hitsound = s5, 0
guardsound = s6, 0
sparkxy = -10,-73
ground.type = High
ground.slidetime = 8
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2.5,-3.5
air.hittime = 15
guard.slidetime = 6 
guard.hittime = 18
guard.velocity = -4
getpower = ifelse(var(15) = 1, 0, 25)
givepower = 15
palfx.time = 18
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
palfx.invertall = 0
palfx.color = 0

[State 230, 3]
type = PlaySnd
trigger1 = AnimElem = 3
value = 40, 5

[State 230, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Medium Kick
[Statedef 240]
type = S
movetype= A
physics = S
ctrl = 0
anim = 240
velset = 0,0
sprpriority = 2
poweradd = 50

[State 240, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,4

[State 240, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 240, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
hitflag = MAF
animtype  = Medium
damage    = 38
guardflag = MA
pausetime = 8,8
sparkno = S8001
guard.sparkno = S8050
hitsound = S5,1
guardsound = S6,0
sparkxy = -10,-73
ground.type = High
ground.slidetime = 10
ground.hittime  = 17
ground.velocity = -6.5
air.velocity = -3.5,-4
air.hittime = 18
guard.slidetime = 10 
guard.hittime = 18
guard.velocity = -5
getpower = ifelse(var(15) = 1, 0, 40)
givepower = 20
kill = !var(58) || 1*p2stateno = 003

[State 240, 3]
type = PlaySnd
trigger1 = AnimElem = 3
value = 40, 6

[State 240, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
 
;----------------------------------------------------------------------------------------------------------
;Standing Fierce Kick
[Statedef 250]
type = S
movetype= A
physics = S
ctrl = 0
anim = 250
velset = 0,0
sprpriority = 2
poweradd = 50

[State 250,Whosh PlaySnd]
type = PlaySnd
;trigger1 = time = 0
trigger1 = animelem = 1
value = 0,5
freqmul = 1.1
loop = 0
pan = 0
 
[State 200, Idle]
type= null;statetypeset
trigger1= animelemtime(6)>=0
movetype= I

[State 250, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
hitflag = MAFD
guardflag = MA
damage = 45
animtype = Hard
pausetime = 8, 8
sparkno = S8002
guard.sparkno = S8050
hitsound = s5, 3
guardsound = s6, 0
sparkxy = -10, -71
ground.type = Low
ground.slidetime = 13 
ground.hittime = 20
ground.velocity = -7
air.velocity = -3, -5
air.hittime = 30
guard.velocity = -5
guard.slidetime = 12
guard.hittime = 24
getpower = ifelse(var(15) = 1, 0, 50)
givepower = 35

[State 250, 3]
type = PlaySnd
trigger1 = AnimElem = 7
value = 40, 11

[State 250, 4]
type = Helper
trigger1 = AnimElem = 7
name = "Rock"
ID = 01
postype = p1
pos = 84, -54
stateno = 260
ownpal = 1

[State 1001, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------
; Rock Projectile State (borrowed from Sunboy's Psylocke)
[Statedef 260]
type = A
movetype = A
physics = N
anim = 260
sprpriority = 3

[State 260, 1]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 260, 2]
type = VelSet
trigger1 = 1
x = 8 + (parent, Var(15) * 3)

[State 260, 3]
type = PlayerPush
trigger1 = 1
value = 0

[State 260, 4]
type = HitDef
trigger1 = time = 0
attr = S, NP
hitflag = MAFD
guardflag = MA
pausetime = 0, 13
damage = 60
AnimType = Hard
sparkno = S8002
guard.sparkno = S8050
hitsound = s5, 3
guardsound = s6, 0
sparkxy = -10, 0
ground.type = High
ground.slidetime = 14
ground.hittime = 19
ground.velocity = -8
air.velocity = -3, -4
air.hittime = 30
guard.slidetime = 13
guard.hittime = 15
guard.velocity = -5
givepower = 30
getpower = ifelse(var(15) = 1, 0, 40)

[State 260, 5]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 260, 6]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 270
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 260, 7]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 260, 8]
type = ChangeState
trigger1 = MoveContact = 1
value = 270

[State 260, 9]
type = DestroySelf
trigger1 = FrontEdgeBodyDist < -70

;-----------
; Rock hits
[Statedef 270]
type = A
movetype = I
physics = N
anim = 9999

[State 270, 1]
type = Helper
trigger1 = time = 0
trigger2 = time = 1
trigger3 = time = 2
trigger4 = time = 3
name = "Chunk"
ID = 02
postype = p1
pos = var(1), var(0)
stateno = 280
ownpal = 1

[State 270, 2]
type = VarRandom
trigger1 = time = 0
trigger2 = time = 1
trigger3 = time = 2
v = 0
range = -15, 15

[State 270, 3]
type = VarRandom
trigger1 = time = 0
trigger2 = time = 1
trigger3 = time = 2
v = 1
range = -10, 10

[State 270, 3]
type = Destroyself
triggerall = time > 3
trigger1 = NumHelper(02) = 0

; Rock chunks
[Statedef 280]
type = A
movetype = I
physics = N
sprpriority = 3

[State 280, 1]
type = ChangeAnim
trigger1 = time = 0
value = ifelse(random <= 499, 270, 280)

[State 280, a]
type = VarSet
trigger1 = time = 1
v = 1
value = Anim

[State 280, 4]
type = VelSet
trigger1 = time = 0
x = -.5
y = -4

[State 280, 5]
type = VelAdd
trigger1 = 1
y = .30

[State 280, 6]
type = ChangeState
trigger1 = time > 3
trigger1 = Pos Y >= 0
value = 290

; Bounce Up

[Statedef 290]
type = A
movetype = I
physics = N

[State 290, 1]
type = ChangeAnim
trigger1 = time = 0
value = var(1)

[State 290, 2]
type = PosSet
trigger1 = time = 0
y = 0

[State 290, 3]
type = VelSet
trigger1 = time = 0
x = -.3
y = -2

[State 290, 4]
type = VelAdd
trigger1 = time > 1
y = .30

[State 290, 5]
type = ChangeState
trigger1 = time > 3
trigger1 = Pos Y >= 0
value = 300

; Chunk Flicker and disappear
[Statedef 300]
type = A
movetype = I
physics = N

[State 300, 1]
type = ChangeAnim
trigger1 = time = 0
value = ifelse(var(1) = 270, 290, 300)

[State 300, 2]
type = PosSet
trigger1 = time = 0
y = 0

[State 300, 3]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 300, 4]
type = DestroySelf
trigger1 = time = 30

;---------------------------------------------------------------------------
; Crouching Light Punch
[StateDef 400]
type = C
movetype= A
physics = C
velset = 0,0
ctrl = 0
anim = 400
poweradd = 20
sprpriority = 2

[State 200, Idle]
type= null ;statetypeset
trigger1= animelemtime(4)>=0
movetype= I

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S0,3 

[State 400, a]
type = Width
trigger1 = 1
value = 10, 0

[State 2150, 3 Soul Flicker]
type = Explod
trigger1 = Animelem = 3
ID = 7130 
anim = 7130
postype = p1
pos = 77,-71
facing = 1
bindtime = -1
removetime = -2
sprpriority = 1
ownpal = 1
ontop = 1
scale = 0.4,0.4
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1

[State 400, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage    = 23
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = MA
pausetime = 8,8
sparkno = S8000
guard.sparkno = S8050
hitsound = s5, 0
guardsound = s6, 0
sparkxy = -10,-63
ground.type = Low
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -5
air.velocity = -1.5,-3
guard.slidetime = 5
guard.hittime = 16
guard.velocity = -4
getpower = ifelse(var(15) = 1, 0, 25)
givepower = 15
palfx.time = 16
palfx.add = 0,100,50
palfx.mul = 20,120,24
palfx.sinadd = 85,110,55,10
palfx.invertall = 0
palfx.color = 0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = Movehit = 1
value = 1
kill = 0
absolute = 1
ignorehitpause = 1

[State 400, 3]
type = PlaySnd
trigger1 = AnimElem = 2
value = 40, 5

[State 400, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Medium Punch
[StateDef 410]
type = C
movetype= A
physics = C
velset = 0,0
ctrl = 0
anim = 410
poweradd = 50
sprpriority = 2

[State 200, Idle]
type= null ;statetypeset
trigger1= animelemtime(6)>=0
movetype= I

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,4 
;abspan =

[State 410, a]
type = Width
trigger1 = 1
value = 10, 0

[State 410, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 40, 6




[State 2150, 3 Launch Flare]
type = Explod
trigger1 = Animelem = 1
ID = 7129
anim = 7129
postype = p1
pos = -60,-26
facing = 1
bindtime = -1
removetime = -2
sprpriority = 1
ownpal = 1
ontop = 1
scale = 0.9,0.9
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1



 
[State 410, 1]
type = HitDef
trigger1 = time = 0
attr = C, NA
damage    = 42
animtype = up
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 7, 7
sparkno = S8001
guard.sparkno = S8050
sparkxy = -10, -66
hitsound = s5, 1
guardsound = s6, 0
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
airguard.velocity = -1.9,-.8
air.type = High
air.hittime = 12
yaccel = .82
ground.velocity = 0,-18 ;<-------------- Air and ground velocities need to be the same values
air.velocity = 0,-18   ;<-------------- Air and ground velocities need to be the same values
kill = !var(58) || 1*p2stateno = 003
palfx.time = 20
palfx.add = 40,-70,-200
palfx.mul =  256,256,256
palfx.sinadd = 40,30,0,10
palfx.invertall = 0
palfx.color = 0


[State 240, Explod];Dont delete
type = Explod
trigger1 = movehit
anim = 8020
ontop = 1
pos = -10,-76
supermove = 1
ignorehitpause = 1
persistent = 0
scale = 1.1,1.0
ownpal = 1

[State 410, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


;---------------------------------------------------------------------------
; Crouching Fierce Punch
[Statedef 420]
type = C
movetype= A
physics = C
ctrl = 0
anim = 420
velset = 0,0
sprpriority = 2
poweradd = 50

[State 420, PlaySnd] ;Modify
type = PlaySnd
trigger1 = time = 0
value = 0,5

[State 420, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 71, 12

[State 420, 3]
type = Hitdef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
trigger3 = AnimElem = 8
attr = C, NA
hitflag = MAFD
guardflag = MA
animtype = Hard
damage = 35
pausetime = 8, 8
sparkno = S8002
guard.sparkno = S8050
hitsound = S5,3
guardsound = S6,0
sparkxy = -10, -53
ground.velocity = -7
ground.slidetime = 10
ground.hittime = 15
air.velocity = -3, -2
air.hittime = 15
guard.velocity = -6
guard.slidetime = 15
guard.hittime = 19
ground.cornerpush.veloff = 0
givepower = 30
getpower = ifelse(var(15) = 1, 0, 45)


[State 420, ChangeState];Dont delete
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1
 
;---------------------------------------------------------------------------
; Crouching Light Kick
[Statedef 430]
type = C
movetype= A
physics = C
ctrl = 0
anim = 430
velset = 0,0
sprpriority = 2
poweradd = 20

[State 430, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,3

[State 200, Idle]
type= null ;statetypeset
trigger1= animelemtime(4)>=0
movetype= I

[State 430, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 40, 5

[State 430, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage    = 25
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 8,8
sparkno = S8000
guard.sparkno = S8050
hitsound = s5, 0
guardsound = s6, 0
sparkxy = -10,-11
ground.type = Low
ground.slidetime = 4
ground.hittime  = 10
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,-2
down.hittime = 20
guard.slidetime = 5 
guard.hittime = 17
guard.velocity = -4
getpower = ifelse(var(15) = 1, 0, 20)
givepower = 10
kill = !var(58) || 1*p2stateno = 003

[State 430, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1
 
;---------------------------------------------------------------------------
; Crouching Medium Kick
[Statedef 440]
type = C
movetype= A
physics = C
ctrl = 0
anim = 440
velset = 0,0
sprpriority = 2
poweradd = 50

[State 440, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,4

[State 200, Idle]
type= null ;statetypeset
trigger1= animelemtime(5)>=0
movetype= I

[State 0, Width]
type = Width
trigger1 = 1
edge = 0,0
player = 15,0
;value = 0,0

[State 440, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 40, 6

[State 2150, 3 Space Burst ]
type = Explod
trigger1 = AnimElem = 2
ID = 7134
anim = 7134
postype = p1
pos = 55,5
facing = 1
bindtime = -1
removetime = -2
sprpriority = 1
ownpal = 1
ontop = 0
scale = 0.4,0.3
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1

[State 440, 3]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage    = 52
hitflag = MAFD
guardflag = L
pausetime = 8,8
sparkno = S8001
guard.sparkno = S8050
hitsound = s5, 1
guardsound = s6, 0
sparkxy = -5,-11
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -1,-3
air.velocity = -1.2,-3
guard.velocity = -5
guard.slidetime = 8
guard.hittime = 19
fall = 1
getpower = ifelse(var(15) = 1, 0, 45)
givepower = 35
kill = !var(58) || 1*p2stateno = 003
palfx.time = 16
palfx.add = 0,50,240
palfx.mul = 120,224,150
palfx.sinadd = 85,55,110,10
palfx.invertall = 0
palfx.color = 0

[State 440, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1
 
;---------------------------------------------------------------------------
; Crouching Fierce Kick
[Statedef 450]
type = C
movetype= A
physics = C
ctrl = 0
anim = 450
velset = 0,0
sprpriority = 2
poweradd = 50

[State 450, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
;trigger1 = time = 0
value = 0,5

[State 450, Idle]
type= null ;statetypeset
trigger1= animelemtime(5)>=0
movetype= I

[State 450, Width]
type = Width
trigger1 = 1
edge = 0,0
player = 15,0
;value = 0,0 


[State 2150, 10 Earth Rumble]
type = PlaySnd
trigger1 = AnimElem = 4
value = s0,7
volume = 255
channel = -1


[State 3240, EnvShake]
type = EnvShake
trigger1 = animelem = 4
time = 2
ampl = -7
freq = 175

[State 450, 2]
type = Helper
trigger1 = AnimElem = 3
name = "Ground Wave Spawner"
ID = 003
postype = p1
pos = 75, 0
ownpal = 1
stateno = 460



[State 0, Explod Pavement Crack]
type = Explod
trigger1 = Animelem = 5 
anim = 7085
ID = 7085
pos = 33,16 ;0,20 ;29,14
postype = p1 ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2  ;240
pausemovetime = 999
scale = 0.4,0.9
sprpriority = -90
ontop = 0
ownpal = 1
persistent = 0
ignorehitpause = 1
removeongethit = 0


[State 450, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

;------------
; Ground Wave Spawner
[Statedef 460]
type = A
movetype = A
physics = N
anim = 9999

[State 460, 1]
type = VelSet
trigger1 = time = 0
x = 6 + (3 * parent, var(15))

[State 460, 2]
type = PlaySnd
trigger1 = (time % 6) = 0
value = 71, 8

[State 460, 3]
type = Projectile
trigger1 = (time % 6) = 0
projanim = 460
projremove = 0
projID = 1234
projremovetime = 22
postype = p1
offset = 0, 9
attr = C, NP
hitflag = MAFD
guardflag = MA
animtype = Hard
pausetime = 0, 9
damage = 18 - (8 * parent, var(15)), 0
sparkno = S8002
guard.sparkno = S8050
hitsound = s5, 3
guardsound = s6, 0
sparkxy = -10, -10
ground.type = Low
ground.slidetime = 15
ground.hittime = 16
guard.slidetime = 13
guard.hittime = 14
ground.velocity = -6, 0
air.velocity = -6, -1
guard.velocity = -8
hitonce = 1
getpower = ifelse(var(15) = 1, 0, 20)
givepower = 35
palfx.time = 60
palfx.add = 255, 140, 0
air.juggle = 4


[State 460, 7]
type = DestroySelf
trigger1 = FrontEdgeBodyDist < -70
 

;Dont delete coding for 600 to 650. It is best to modify by changing values only from ;animelem,sounds and changing some hitdefs
;This is set up so when you hit enemy in the Ground to said "AIR COMBO"

;Air Light Punch
[Statedef 600]
type = A
movetype= A
physics = A
ctrl = 0
anim = 600
sprpriority = 2
poweradd = 20

[State 600, PlaySnd];Dont delete these are the basic MVC2 sound only modify the time 
type = PlaySnd
trigger1 = time = 0
value = 0,3

[State 600, CtrlSet];Dont delete
type = CtrlSet
trigger1 = var(1)
trigger1 = animelem = 11
value = 1

[State 705,2 Air Purple Flare]
type = Explod
trigger1 = Animelem = 1
anim = 7151
ID = 7151
sprpriority = -96
postype = p1
pos = 75,-67
bindtime = -1
removetime = -2
ownpal = 1
ontop = 1
scale= 0.7,0.7
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 600, HitDef] ;Modify code
type = HitDef
trigger1 = !var(1) && animelem = 2
attr = A,NA
hitflag = MAF
guardflag = HA
animtype = Light
damage = 20,0;30,0
getpower = 20,0
givepower = 20,0
pausetime = 6,7
guard.pausetime = 6,7
sparkno = S8000
guard.sparkno = S8050
sparkxy = -10,-66
hitsound = S5,0
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 12
yaccel = .53
ground.velocity = -3.5,0
ground.cornerpush.veloff = -8
air.velocity = 0,-2
airguard.velocity = -6,-2
forcenofall = 1
palfx.time = 10
palfx.add = 0,-200,0
palfx.mul = 256,256,256
palfx.sinadd = 40,80,40,10
palfx.invertall = 0
palfx.color = 0

[State 600, HitDef];Modify code
type = HitDef
trigger1 = var(1) && animelem = 2
attr = A,NA
hitflag = MAF
guardflag = HA
animtype = Light
damage = 30,0
getpower = 20,0
givepower = 20,0
pausetime = 8,7
guard.pausetime = 8,7
sparkno = S8000
guard.sparkno = S8050
sparkxy = -10,-66
hitsound = S5,0
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 12
yaccel = ifelse(vel y<-4,.82,.53)
ground.velocity = -3.5,0
ground.cornerpush.veloff = 0
air.velocity = 0,ifelse(vel y<-4,vel y,-4)
airguard.velocity = -6,-2
forcenofall = 1
palfx.time = 10
palfx.add = 0,-200,0
palfx.mul = 256,256,256
palfx.sinadd = 40,80,40,10
palfx.invertall = 0
palfx.color = 0
 
;Air Medium Punch 
[Statedef 610]
type = A
movetype= A
physics = A
ctrl = 0
anim = 610
sprpriority = 2
poweradd = 50

[State 610, PlaySnd];Dont delete or modify
type = PlaySnd
trigger1 = time = 0
value = 0,4

[State 610, VarSet];Dont delete
type = VarSet
trigger1 = numtarget && prevstateno = [600,800)
trigger1 = target,statetype = A
var(6) = 1

[State 610, CtrlSet];Dont delete
type = CtrlSet
trigger1 = var(1)
trigger1 = animelem = 11
value = 1

[State 610, 5]
type = PlaySnd
trigger1 = Anim = 610
trigger1 = AnimElem = 2
value = 40, 6

[State 705,2 Air Fire Flare]
type = Explod
trigger1 = Animelem = 1
anim = 7154
ID = 7154
sprpriority = -96
postype = p1
pos = 75,-67
bindtime = -1
removetime = -2
ownpal = 1
ontop = 1
scale= 0.7,0.7
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 610, HitDef];Modify
type = HitDef
trigger1 = !var(1) && animelem = 2
attr = A,NA
hitflag = MAF
guardflag = HA
animtype = Medium
damage = 36,0
getpower = 30,0
givepower = 20,0
pausetime = 6,7
guard.pausetime = 6,7
sparkno = S8001
guard.sparkno = S8050
sparkxy = -10,-68
hitsound = S5,1
guardsound = S6,0
ground.type = High
ground.slidetime = 10
ground.cornerpush.veloff = -8
ground.hittime = 12
air.hittime = 12
yaccel = .53
ground.velocity = -5,0
air.velocity = 0,-2
airguard.velocity = -6,-2
forcenofall = 1
palfx.time = 10
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
palfx.invertall = 0
palfx.color = 0

[State 610, HitDef];Modify
type = HitDef
trigger1 = var(1) && animelem = 2
attr = A,NA
hitflag = MAF
guardflag = HA
animtype = Medium
damage = 36,0
getpower = 30,0
givepower = 20,0
pausetime = 8,7
guard.pausetime = 8,7
sparkno = S8001
guard.sparkno = S8050
sparkxy = -10,-68
hitsound = S5,1
guardsound = S6,0
ground.type = High
ground.slidetime = 10
ground.cornerpush.veloff = 0
ground.hittime = 12
air.hittime = 12
yaccel = ifelse(vel y<-4,.82,.53)
ground.velocity = -5,0
air.velocity = 0,ifelse(vel y<-4,vel y,-4)
airguard.velocity = -6,-2
forcenofall = 1
palfx.time = 10
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
palfx.invertall = 0
palfx.color = 0
 
;Air Hard Punch 
[Statedef 620]
type = A
movetype= A
physics = A
ctrl = 0
anim = 620
sprpriority = 2
poweradd = 50
sprpriority = 2
poweradd = 50

[State 650, PlaySnd];Dont delete or modfiy
type = PlaySnd
trigger1 = time = 0
value = 0,5

[State 650, VarSet]
type = VarSet
trigger1 = time = 0 && !var(6)
trigger1 = var(18) > 1 && var(19) > 0
var(6) = 1

[State 650, CtrlSet];Dont delete
type = CtrlSet
trigger1 = var(1)
trigger1 = animelem = 18
value = 1

[State 620, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 71, 10

[State 650, HitDef];Modify
type = HitDef
trigger1 = !var(6) && time = 0
attr = A,NA
hitflag = MAF
guardflag = HA
animtype = Hard
damage = 80
getpower = 50,0
givepower = 20,0
pausetime = 8,7
guard.pausetime = 8,7
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10, -94
hitsound = S5,3
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime = 14
air.hittime = 12
yaccel = .82
ground.velocity = -7,0
ground.cornerpush.veloff = -8
air.velocity = -14,14
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -2
air.fall = 1
id = 2+4
palfx.time = 45
palfx.add = 0,100,50
palfx.mul = 20,120,24
palfx.sinadd = 85,110,55,10
palfx.invertall = 0
palfx.color = 0

[State 650, HitDef];Modify
type = HitDef
trigger1 = var(6) && time = 0
attr = A,NA
hitflag = MAF
guardflag = HA
animtype = Hard
damage = 44,0
getpower = 50,0
givepower = 20,0
pausetime = 8,7
guard.pausetime = 8,7
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10, -94
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime = 14
air.hittime = 12
yaccel = .82
ground.velocity = -7,0
ground.cornerpush.veloff = 0
air.velocity = -20,12
fall.xvelocity = 0
fall.yvelocity = -2
air.fall = 1
fall.recover = 0
fall.envshake.time = 10
id = 4+64
palfx.time = 45
palfx.add = 0,100,50
palfx.mul = 20,120,24
palfx.sinadd = 85,110,55,10
palfx.invertall = 0
palfx.color = 0



[State 0, LifeAdd]
type = LifeAdd
trigger1 = movehit
value = 1
kill = 0
absolute = 1
ignorehitpause = 1

 
;Air Light Kick
[Statedef 630]
type = A
movetype= A
physics = A
ctrl = 0
anim = 630
sprpriority = 2
poweradd = 20

[State 630, PlaySnd];Dont delete or modify
type = PlaySnd
trigger1 = time = 0
value = 0,3

[State 630, VarSet];Dont delete
type = VarSet
trigger1 = numtarget && prevstateno = [600,800)
trigger1 = target,statetype = A
var(6) = 1

[State 630, CtrlSet];Dont delete
type = CtrlSet
trigger1 = var(1)
trigger1 = animelem = 8
value = 1

[State 630, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 40, 5

[State 705,2 Air Soul Flare]
type = Explod
trigger1 = Animelem = 2
anim = 7153
ID = 7153
sprpriority = -96
postype = p1
pos = 66,-8
bindtime = -1
removetime = -2
ownpal = 1
ontop = 1
scale= 0.4,0.4
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 630, HitDef];Modify
type = HitDef
trigger1 = !var(1) && animelem = 2
attr = A,NA
hitflag = MAF
guardflag = HA
animtype = Light
damage = 20,0;31,0
getpower = 20,0
givepower = 20,0
pausetime = 6,7
guard.pausetime = 6,7
sparkno = S8000
guard.sparkno = S8050
sparkxy = -5,-31
hitsound = S5,0
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 12
yaccel = .53
ground.velocity = -3.5,0
ground.cornerpush.veloff = -8
air.velocity = 0,-2
airguard.velocity = -6,-2
forcenofall = 1

[State 630, HitDef];Modify
type = HitDef
trigger1 = var(1) && animelem = 2
attr = A,NA
hitflag = MAF
guardflag = HA
animtype = Light
damage = 31,0
getpower = 20,0
givepower = 20,0
pausetime = 8,7
guard.pausetime = 8,7
sparkno = S8000
guard.sparkno = S8050
sparkxy = -5,-31
hitsound = S5,0
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 12
yaccel = ifelse(vel y<-4,.82,.53)
ground.velocity = -3.5,0
ground.cornerpush.veloff = 0
air.velocity = 0,ifelse(vel y<-4,vel y,-4)
airguard.velocity = -6,-2
forcenofall = 1
 
;Air Medium Kick
[Statedef 640]
type = A
movetype= A
physics = A
ctrl = 0
anim = 640
sprpriority = 2
poweradd = 50

[State 640, PlaySnd];Modify
type = PlaySnd
trigger1 = time = 0
value = 0,4

[State 640, VarSet];Dont Delete
type = VarSet
trigger1 = numtarget && prevstateno = [600,800)
trigger1 = target,statetype = A
var(6) = 1

[State 640, CtrlSet];Modify
type = CtrlSet
trigger1 = var(1)
trigger1 = animelem = 7
value = 1

[State 705,2 Air Energy Flare]
type = Explod
trigger1 = Animelem = 2
anim = 7152
ID = 7152
sprpriority = -96
postype = p1
pos = -66, -4 ;-4,-47
bindtime = -1
removetime = -2
ownpal = 1
ontop = 1
scale= 1.09,1.2
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 640, HitDef];Modify
type = HitDef
trigger1 = !var(1) && animelem = 2
attr = A,NA
hitflag = MAF
guardflag = HA
animtype = Medium
damage = 37,0
getpower = 30,0
givepower = 20,0
pausetime = 6,7
guard.pausetime = 6,7
sparkno = S8001
guard.sparkno = S8050
sparkxy = -10,-113
hitsound = S5,1
guardsound = S6,0
ground.type = High
ground.slidetime = 10
ground.hittime = 12
air.hittime = 12
yaccel = .53
ground.velocity = -5,0
ground.cornerpush.veloff = -8
air.velocity = 0,-2
airguard.velocity = -6,-2
forcenofall = 1

[State 640, HitDef];Modify
type = HitDef
trigger1 = var(1) && animelem = 2
attr = A,NA
hitflag = MAF
guardflag = HA
animtype = Medium
damage = 37,0
getpower = 30,0
givepower = 20,0
pausetime = 8,7
guard.pausetime = 8,7
sparkno = S8001
guard.sparkno = S8050
sparkxy = -10,-113
hitsound = S5,1
guardsound = S6,0
ground.type = High
ground.slidetime = 10
ground.hittime = 12
air.hittime = 12
yaccel = ifelse(vel y<-4,.82,.53)
ground.velocity = -5,0
ground.cornerpush.veloff = 0
air.velocity = 0,ifelse(vel y<-4,vel y,-4)
airguard.velocity = -6,-2
forcenofall = 1

 
;Air Heavy Kick
[Statedef 650]
type = A
movetype= A
physics = A
ctrl = 0
anim = 650
sprpriority = 2
poweradd = 50

[State 650, PlaySnd];Modify
type = PlaySnd
trigger1 = time = 0
value = 0,5

[State 650, VarSet];Dont delete
type = VarSet
trigger1 = time = 0 && !var(6)
trigger1 = var(18) > 1 && var(19) > 0
var(6) = 1

[State 650, CtrlSet];Dont delete or Modify
type = CtrlSet
trigger1 = var(1)
trigger1 = animelem = 8
value = 1

[State 650, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 40, 5

[State 2150, 3 Fiery Kick]
type = Explod
trigger1 = Animelem = 2
ID = 7128 ;7017
anim = 7128;7017
postype = p1
pos = -32,28
facing = 1
bindtime = -1
removetime = 8
sprpriority = 1
ownpal = 1
ontop = 1
scale = 0.5,0.5
removeongethit = 1
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1

[State 650, HitDef];Modify
type = HitDef
trigger1 = !var(6) && time = 0
attr = A,NA
hitflag = MAF
guardflag = HA
animtype = Hard
damage = 80
getpower = 50,0
givepower = 20,0
pausetime = 8,7
guard.pausetime = 8,7
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10,-28
hitsound = S5,3
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime = 14
air.hittime = 12
yaccel = .82
ground.velocity = -7,0
ground.cornerpush.veloff = -8
air.velocity = -14,14
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -2
air.fall = 1
fall.recover = 0
fall.envshake.time = 10
id = 2+4

[State 650, HitDef];Modify
type = HitDef
trigger1 = var(6) && time = 0
attr = A,NA
hitflag = MAF
guardflag = HA
animtype = Hard
damage = 44,0
getpower = 50,0
givepower = 20,0
pausetime = 8,7
guard.pausetime = 8,7
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10,-28
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime = 14
air.hittime = 12
yaccel = .82
ground.velocity = -7,0
ground.cornerpush.veloff = 0
air.velocity = -20,12
airguard.velocity = -6,-2
fall.envshake.time = 10
fall.xvelocity = 0
fall.yvelocity = -2
air.fall = 1
fall.recover = 0
fall.envshake.time = 10
id = 4+64


;---------------------------------------------------------------------------
; Psychic Throw - Attempt
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 799
sprpriority = 2

[State 800, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, NT          ;Attributes: Standing, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
sprpriority = 1       ;Draw in front of p2
hitsound = S5, 4
p1facing = ifelse (command = "holdfwd", 1, -1) ;Turn if holding forwards
p2facing = 1          
p1stateno = 811       
p2stateno = 820       
guard.dist = 0        ;This prevents p2 from going into a guard state if close
fall = 1              ;Force p2 into falling down

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------
; Psychic Throw - throwing opponent
[Statedef 811]
type = S
movetype = A
physics = S
ctrl = 0
anim = 800
sprpriority = 1
poweradd = 60

[State 810, b]
type = Width
trigger1 = 1
value = 125, 0

[State 810, 1]
type = PlaySnd
trigger1 = time = 0
value = 30, 4
channel = 1
loop = 1

[State 810, 2]
type = TargetBind
trigger1 = time = 0
pos = 109, 0
time = 4

[State 810, a]
type = PlaySnd
trigger1 = AnimElem = 36
value = 40, 11

[State 810, 3]
type = TargetBind
trigger1 = AnimElem = 5
pos = 164, 0
time = 6

[State 810, 4]
type = TargetBind
trigger1 = AnimElem = 11
pos = 160, 0
time = 5

[State 810, 5]
type = TargetBind
trigger1 = AnimElem = 16 
pos = 162, 0
time = 5

[State 810, 6]
type = TargetBind
trigger1 = AnimElem = 21
pos = 155, 0
time = 5

[State 810, 7]
type = TargetBind
trigger1 = AnimElem = 26
pos = 154, 0
time = 5

[State 810, 8]
type = TargetBind
trigger1 = AnimElem = 31
pos = 157, 0
time = 5

[State 810, 9]
type = TargetBind
trigger1 = AnimElem = 36
pos = 145, -151
time = 5

[State 810, 10]
type = TargetBind
trigger1 = AnimElem = 41
pos = 144, -171
time = 4

[State 810, 11]
type = TargetBind
trigger1 = AnimElem = 45
pos = 66, -219
time = 5

[State 810, 12]
type = TargetBind
trigger1 = AnimElem = 49
pos = 65, -233
time = 4

[State 810, 13]
type = TargetBind
trigger1 = AnimElem = 53
pos = -10, -240
time = 7

[State 810, 14]
type = TargetBind
trigger1 = AnimElem = 59
pos = -29, -236
time = 7

[State 810, 15]
type = TargetBind
trigger1 = AnimElem = 65
pos = 36, -224
time = 2

[State 810, 16]
type = TargetBind
trigger1 = AnimElem = 67
pos = 87, -195
time = 3

[State 810, 17]
type = TargetBind
trigger1 = AnimElem = 69
pos = 129, -64
time = 3

[State 810, 18]
type = TargetBind
trigger1 = AnimElem = 71
pos = 133, -5
time = 19

[State 810, 19]
type = EnvShake
trigger1 = AnimElem = 72
time = 18
freq = 100

[State 810, 20]
type = PlaySnd
trigger1 = AnimElem = 72
value = 30, 7

[State 810, 21]
type = TargetLifeAdd
trigger1 = AnimElem = 72
value = -101

[State 810, 22]
type = TargetState
trigger1 = AnimElem = 73
value = 821

[State 810, 23]
type = StopSnd
trigger1 = AnimTime = 0
channel = 1

[State 810, 24]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Getting thrown
[Statedef 820]
type = A
movetype = H
physics = N
ctrl = 0
sprpriority = 1

[State 820, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 810

[State 820, 2]
type = ScreenBound
trigger1 = 1
value = 0

[Statedef 821]
type = A
movetype = H
physics = N
ctrl = 0
poweradd = 45

[State 821, 1]
type = PosSet
trigger1 = time = 0
y = 0

[State 821, 2]
type = SelfState
trigger1 = time = 1
value = 5100

;---------------------------------------------------------------------------
; Rock Slam Throw
[Statedef 830]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 799
sprpriority = 2

[State 830, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, NT          ;Attributes: Standing, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
sprpriority = 1       ;Draw in front of p2
hitsound = S5, 4
p1facing = ifelse (command = "holdfwd", 1, -1) ;Turn if holding forwards
p2facing = 1          
p1stateno = 840       
p2stateno = 850       
guard.dist = 0        ;This prevents p2 from going into a guard state if close
fall = 1              ;Force p2 into falling down

[State 830, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------
; Rock Slam Throw - throwing opponent
[Statedef 840]
type = S
movetype = A
physics = S
ctrl = 0
sprpriority = 1
anim = 820
poweradd = 60

[State 840, a]
type = Width
trigger1 = 1
value = 70, 0

[State 840, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 40, 5

[State 840, 2]
type = TargetBind
trigger1 = AnimElem = 1
pos = 68, -76
time = 32

[State 840, 3]
type = TargetBind
trigger1 = AnimElem = 9
pos = 74, -128
time = 8

[State 840, 4]
type = PlaySnd
trigger1 = AnimElem = 10
value = 20, 2

[State 840, 5]
type = PlaySnd
trigger1 = AnimElem = 10
value = 40, 6

[State 840, 6]
type = TargetBind
trigger1 = AnimElem = 11
pos = 96, -172
time = 10

[State 840, 7]
type = PlaySnd
trigger1 = AnimElem = 11
value = 5, 2

[State 840, 8]
type = Explod
trigger1 = AnimElem = 11
anim = 8002
postype = p1
pos = 101, -152
bindtime = -1
removetime = -2
ontop = 1
ownpal = 1

[State 840, 9]
type = TargetLifeAdd
trigger1 = AnimElem = 11
value = -101

[State 840, 10]
type = TargetState
trigger1 = AnimElem = 11 = 11
value = 851

[State 840, 11]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Rock Slam Throw - getting thrown
[Statedef 850]
type = A
movetype = H
physics = N
ctrl = 0
sprpriority = 0

[State 850, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 830

[State 850, 2]
type = ScreenBound
trigger1 = 1
value = 0

[Statedef 851]
type = A
movetype = H
physics = N
poweradd = 45
velset = -5, -8
ctrl = 0

[State 851, 1]
type = Gravity
trigger1 = 1

[State 851, 2]
type = ChangeAnim
trigger1 = time = 0
value = 5061

[State 851, 3]
type = SelfState
trigger1 = Pos Y >= 0
value = 5100

;Air Combo Follow Up
[Statedef 810]
type    = S
movetype = A
physics = S
anim = 9999
sprpriority = 1
velset = 0,0
ctrl = 0

[State 810, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 810, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1

[State 810, PosSet]
type = PosSet
trigger1 = 1
x = -180 * facing
y = 0

[State 810, VarSet]
type = VarSet
trigger1 = time = 0
var(4) = 0

[State 810, ChangeState]
type = ChangeState
trigger1 = !numtarget
trigger2 = numtarget
trigger2 = target,stateno = 5110
value = 101

;---------------------------------------------------------------------------
;Air Throw
[Statedef 860]
type = A
movetype= A
physics = A ;N
juggle = 0
ctrl = 0
anim = 860

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S0,0 


[State 0, 6]
type = null;VelAdd
trigger1 = 1
y = .5

[State 0,3]
type = null;VelAdd
trigger1 = Vel X = 0
trigger1 = Time = 0
;x = 1.3

[State 0,5]
type = null ;VelAdd
trigger1 = Time = 0
trigger1 = vel x != 0
x = ifelse(vel x > 0,1.1, 0)
y = ifelse(0,-3,-1.5)


[State 802, 1]
type = HitDef
Trigger1 = Time = 0
trigger1 = pos Y != 0
attr = S, NT;A, NT
hitflag = HAF
priority = 4, Miss
sparkno = -1
;sprpriority = 1
p2facing = 1
p1stateno = 861
p2stateno = 862
fall = 1
fall.recover = 0
fall.envshake.time = 10
fall.envshake.ampl = 3

[State 1000, Land]
type= changestate
trigger1= vel y > 0
trigger1= pos y > -vel y
value= 52

;----------------------------------------------------------------------
[Statedef 861]
type = A
movetype= A
physics = N
anim = 861
poweradd = 60
velset= 0,0

[State 812, SprPriority]
type = SprPriority
trigger1 = AnimElem =1
value = 0

[State 812, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 38, 6

[State 812, Bind 2]
type = TargetBind
trigger1 = AnimElem = 2
pos = 17, -1

[State 812, Bind 3]
type = TargetBind
trigger1 = AnimElem = 3
pos = 15, -9

[State 812, SprPriority]
type = SprPriority
trigger1 = AnimElem =4
value = 1

[State 812, Bind 4]
type = TargetBind
trigger1 = AnimElem = 4
pos = -51, 7

[State 812, Hurt]
type = TargetLifeAdd
trigger1 = AnimElem = 4
value = -85

[State 812, Throw]
type = TargetState
trigger1 = AnimElem = 4
value = 863

[State 0, Turn]
type = Turn
trigger1 = animelem = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8,0 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S0,4 

[State 0, PlaySnd]
type = PlaySnd
triggerall = palno = 1 || palno = 2 || palno = 3  || palno = 4 || palno = 5 || palno = 6  || palno = 7  || palno = 9 || palno = 10 || palno = 11 || palno = 12
trigger1 = animelem = 3
value = S50,5 

[State 0, PlaySnd]
type = PlaySnd
triggerall = palno = 8
trigger1 = animelem = 3
value = S24,7 

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 2

[State 0, Gravity]
type = Gravity
trigger1 = time > 17

[State 1000, Land]
type= changestate
trigger1= vel y > 0
trigger1= pos y > -vel y
value= 52

;----------------------------------------------------------------------
[Statedef 862]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 1

[State 0, Turn]
type = Turn
trigger1 = animelem = 3

[State 822, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 822

;----------------------------------------------------------------------
; Air Throw End
[Statedef 863]
type = A
movetype = H
physics = N
velset = -6,6
poweradd = 40

[State 823, 1] ;Gravity
type = VelAdd
Trigger1 = 1
y = .4

[State 823, 2] ; Recover near ground (use ChangeState)
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 823, 3] ; Recover in mid air (use SelfState)
type = SelfState
triggerall = Vel Y > 0
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

[State 823, 4] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground

;---------------------


[Statedef 900] 
type = S
movetype = A
physics = S
anim = 900
sprpriority = 1
velset = 0,0
ctrl = 0

[State 900, HitDef]
type = HitDef
trigger1 = 1
attr = S, NT
getpower = 0,0
givepower = 0,0
guardflag =
hitflag = M-
sparkno = -1
hitsound = S5,4
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
fall.recover = 0
p1stateno = 901
p2stateno = 9000
p1facing = ifelse(command = "holdfwd",1,-1)
p2facing = 1
numhits = 0
id = 4

[State 900, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 220

[Statedef 901] 
type = S
movetype = A
physics = S
anim = 901
sprpriority = 1
velset = 0,0
ctrl = 0
poweradd = 90

[State 810]
type = ChangeState
trigger1 = numtarget
trigger1 = target,stateno = 200020
value = 200000

[State 901, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = 10,1
channel = 0

[State 901, Explod]
type = Explod
trigger1 = time = 1
anim = 8005
pos = ceil(10*const(size.xscale)),ceil(-12.5*const(size.yscale))
scale = .5,.5
ownpal = 1
ontop = 1

[State 901, Explod]
type = Explod
trigger1 = animelem = 5
anim = 8002
pos = ceil(10*const(size.xscale)),ceil(-15*const(size.yscale))
ontop = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S5,3


[State 901, Width]
type = Width
trigger1 = 1
edge = 40,50

[State 0, TargetBind]
type = TargetBind
trigger1 = Animelem = 1,>= 0 && Animelem = 5,<0
pos = 20*const(size.xscale),-15*const(size.yscale)

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = Animelem = 5
value = -80

[State 0, TargetState]
type = TargetState
trigger1 = Animelem = 5
value = 9001 

[State 900, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------------
; Safe fall (from superjump, or jumping attack)
[StateDef 948]
type = A
movetype = I
physics = A
ctrl = 1

;------------------------------------------------------------------------------------------------------
[State 3000, VarSet] ;Dont delete this code part of hyper combo this ends the blue hyper background
type = VarSet
trigger1 = time = 0
var(4) = 0

; neutral
[State 948, ChangeAnim]
type = ChangeAnim
trigger1 = (Time = 0) && (Vel X = 0)
value = 48

; forwards
[State 948, ChangeAnim]
type = ChangeAnim
trigger1 = (Time = 0) && (Vel X > 0)
value = 49

; backwards
[State 948, ChangeAnim]
type = ChangeAnim
trigger1 = (Time = 0) && (Vel X < 0)
value = 50

;---------------------------------------------------------------------------
; Titanic Rush LP
[Statedef 1000]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0
poweradd = 50
juggle = 3
anim = 1000

[State 1000, a]
type = Width
trigger1 = 1
value = 40, 0

[State 1000, 1]
type = VelSet
trigger1 = AnimElem = 2
x = 6

[State 1000, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200, 13

[State 1000, 3]
type = PlaySnd
trigger1 = AnimElem = 6
value = 40, 6

[State 1000, 4]
type = HitDef
trigger1 = AnimElem = 2
attr = A, SA
hitflag = MAF
guardflag = MA
animtype = Up
priority = 6, Hit
damage = 90, 3
pausetime = 8, 8
sparkno = s8002
guard.sparkno = s8050
sparkxy = -10, -79
hitsound = S5, 2
guardsound = S6, 0
ground.slidetime = 50
ground.hittime = 50
air.hittime = 50
ground.velocity = 5, ifelse(Pos Y <= -1, -12, -9)
air.velocity = 4, -9
guard.slidetime = 12
guard.hittime = 19
guard.velocity = -9
fall = 1
air.fall = 1
givepower = 45
getpower = 60
palfx.time = 70
palfx.add = 0,-200,0
palfx.mul = 256,256,256
palfx.sinadd = 40,80,40,10
palfx.invertall = 0
palfx.color = 0

[State 1000, 5]
type = VelAdd
trigger1 = time > 28
trigger1 = Vel X > 0
x = -.45

[State 1000, 6]
type = VelSet
trigger1 = Vel X < 0
x = 0

[State 1000, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(Pos Y <= -1, 948, 11)
ctrl = ifelse(Pos Y <= -1, 0, 1)

;---------------------------------------------------------------------------
; Titanic Rush MP
[Statedef 1010]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0
poweradd = 60
juggle = 3
anim = 1010

[State 1010, a]
type = Width
trigger1 = 1
value = 40, 0

[State 1010, 1]
type = VelSet
trigger1 = AnimElem = 2
x = 7

[State 1010, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200, 13

[State 1010, 3]
type = PlaySnd
trigger1 = AnimElem = 6
value = 40, 6

[State 1010, 4]
type = HitDef
trigger1 = AnimElem = 2
attr = A, SA
hitflag = MAF
guardflag = MA
animtype = Up
priority = 6, Hit
damage = 92, 3
pausetime = 8, 8
sparkno = s8002
guard.sparkno = s8050
sparkxy = -10, -79
hitsound = S5, 2
guardsound = S6, 0
ground.slidetime = 50
ground.hittime = 50
air.hittime = 50
ground.velocity = 7, ifelse(Pos Y <= -1, -13, -12)
air.velocity = 7, -12
guard.slidetime = 12
guard.hittime = 19
guard.velocity = -9
fall = 1
air.fall = 1
givepower = 60
getpower = 75
palfx.time = 70
palfx.add = 0,-200,0
palfx.mul = 256,256,256
palfx.sinadd = 40,80,40,10
palfx.invertall = 0
palfx.color = 0

[State 1010, 5]
type = VelAdd
trigger1 = time > 36
trigger1 = Vel X > 0
x = -.55

[State 1010, 6]
type = VelSet
trigger1 = Vel X < 0
x = 0

[State 1010, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(Pos Y <= -1, 948, 11)
ctrl = ifelse(Pos Y <= -1, 0, 1)

;---------------------------------------------------------------------------
; Titanic Rush HP
[Statedef 1020]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0
poweradd = 70
juggle = 3
anim = 1020

[State 1020, a]
type = Width
trigger1 = 1
value = 40, 0

[State 1020, 1]
type = VelSet
trigger1 = AnimElem = 2
x = 8

[State 1020, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200, 13

[State 1020, 3]
type = PlaySnd
trigger1 = AnimElem = 6
value = 40, 6

[State 1020, 4]
type = HitDef
trigger1 = AnimElem = 2
attr = A, SA
hitflag = MAF
guardflag = MA
animtype = Up
priority = 6, Hit
damage = 94, 3
pausetime = 8, 8
sparkno = s8002
guard.sparkno = s8050
sparkxy = -10, -79
hitsound = S5, 2
guardsound = S6, 0
ground.slidetime = 50
ground.hittime = 50
air.hittime = 50
ground.velocity = 7, ifelse(Pos Y <= -1, -14, -13)
air.velocity = 7, -13
guard.slidetime = 12
guard.hittime = 19
guard.velocity = -9
fall = 1
air.fall = 1
givepower = 60
getpower = 75
palfx.time = 70
palfx.add = 0,-200,0
palfx.mul = 256,256,256
palfx.sinadd = 40,80,40,10
palfx.invertall = 0
palfx.color = 0

[State 1020, 5]
type = VelAdd
trigger1 = time > 46
trigger1 = Vel X > 0
x = -.60

[State 1020, 6]
type = VelSet
trigger1 = Vel X < 0
x = 0

[State 1020, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(Pos Y <= -1, 948, 11)
ctrl = ifelse(Pos Y <= -1, 0, 1)

;---------------------------------------------------------------------------
; Infinity Drop
[Statedef 1030]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0
poweradd = 50
juggle = 3
anim = 1030

[State 1030, 1]
type = PlaySnd
trigger1 = time = 0
value = 30, 2

[State 1030, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 40, 11

[State 1030, 3]
type = VelSet
trigger1 = AnimElem = 2
x = 6
y = 10

[State 1030, 4]
type = Hitdef
trigger1 = AnimElem = 2
attr = A, SA
hitflag = MAF
guardflag = HA
animtype = Hard
priority = 5, Hit
damage = 80, 3
pausetime = 8, 8
sparkno = s8002
guard.sparkno = s8050
sparkxy = -10, -25
hitsound = S5, 2
guardsound = S6, 0
ground.type = High
ground.hittime = 24
ground.slidetime = 13
ground.velocity = -6
air.hittime = 25
air.velocity = -4, 10
guard.slidetime = 11 
guard.hittime = 18
guard.velocity = -6
getpower = 50
givepower = 30

[State 1030, 5]
type = ChangeState
trigger1 = Pos Y >= 0
value = 52
ctrl = 1

;---------------------------------------------------------------------------
; Death Sphere LK
[Statedef 1040]
type = S
movetype = A
physics = S
velset = 0, 0
ctrl = 0
poweradd = 40
anim = 1040
sprpriority = 3

[State 1040, 1]
type = PlaySnd
trigger1 = AnimElem = 9
value = 30, 8

[State 1040, 2]
type = Projectile
trigger1 = AnimElem = 9
projID = 111
projanim = 1070
velocity = 5, 0
projpriority = 4
postype = p1
offset = 65, -66
attr = S, SP
hitflag = MAF
guardflag = MA
pausetime = 0, 8
damage = 3, 3
hitsound = S5, 5
guardsound = S6, 0
ground.velocity = -4
ground.slidetime = 12
ground.hittime = 17
air.velocity = -4, -3
guard.velocity = -5
guard.slidetime = 10
guard.hittime = 14
p2stateno = ifelse(NumHelper(27) = 0, 1045, 1047)
kill = 0
guard.kill = 0
getpower = 10
givepower = 50

[State 1040, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------
; Hit by Death Sphere
[Statedef 1045]
type = S
movetype = H
physics = S
ctrl = 0
sprpriority = 1

[State 1045, 1]
type = ChangeState
trigger1 = Pos Y < 0
value = 1046

[State 1045, a]
type = VelSet
trigger1 = time = 0
x = -3

[State 1045, 2]
type = ChangeAnim
trigger1 = time = 0
value = 5300

[State 1045, 3]
type = PalFx
trigger1 = (time % 20) = 0
mul = 0, 0, 170
sinadd = 0, 0, 250, 40
color = 255
time = 20

[State 1045, 4]
type = NotHitBy
trigger1 = time = 170
value = ,AP
time = 10

[State 1045, 5]
type = SelfState
trigger1 = time = 171
value = 0
ctrl = 1

[Statedef 1046]
type = A
movetype = H
physics = N
velset = -3, -5

[State 1046, 1]
type = ChangeAnim
trigger1 = time = 0
value = 5002

[State 1046, 2]
type = Gravity
trigger1 = time > 0

[State 1046, 3]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 1046, 4]
type = VelSet
trigger1 = Pos Y = 0
y = 0

[State 1046, 5]
type = ChangeState
trigger1 = Pos Y = 0
value = 1045

[Statedef 1047]
type = A
movetype = I
physics = N
velset = -4, -6

[State 1047, 1]
type = Gravity
trigger1 = 1

[State 1047, 2]
type = SelfState
trigger1 = Pos Y >= 0
value = 5100

;------------------
; Paralyze FX Spawner
[Statedef 1050]
type = A
movetype = I
physics = N
anim = 9999

[State 1050, 1]
type = PlaySnd
trigger1 = time = 0
value = 1, 9

[State 1050, 2]
type = VarSet
trigger1 = time = 0
v = 0
value = parent, var(6)

[State 1050, 3]
type = VarSet
trigger1 = time = 0
v = 1
value = playerID(var(0)), const(size.mid.pos.x)

[State 1050, 4]
type = VarSet
trigger1 = time = 0
v = 2
value = playerID(var(0)), const(size.mid.pos.y)

[State 1050, 5]
type = VarSet
trigger1 = time = 0
v = 3
value = playerID(var(0)), const(size.height)

[State 1050, 6]
type = VarSet
trigger1 = time = 0
v = 4
value = playerID(var(0)), const(size.ground.back)

[State 1050, 7]
type = VarAdd
trigger1 = time = 0
v = 4
value = playerID(var(0)), const(size.ground.front)

[State 1050, 8]
type = PosAdd
trigger1 = 1
x = p2dist X
y = p2dist Y

[State 1050, 9]
type = Explod
trigger1 = (time % 5) = 0
trigger1 = random < 350
ID = 28
anim = 6080
postype = p2
pos = var(1), var(2)
random = var(4), var(3)
bindtime = -1
removetime = 80
sprpriority = ifelse(random < 500, 0, 2)

[State 1050, 10]
type = PlaySnd
trigger1 = (time % 15) = 0
value =  2, 3

[State 1050, 11]
type = DestroySelf
trigger1 = playerID(var(0)), stateNo != 1045
trigger1 = playerID(var(0)), stateNo != 1046
trigger2 = playerID(var(0)), MoveType != H

;---------------------------------------------------------------------------
; Death Sphere MK
[Statedef 1060]
type = S
movetype = A
physics = S
velset = 0, 0
ctrl = 0
poweradd = 40
anim = 1050
sprpriority = 3

[State 1060, 1]
type = PlaySnd
trigger1 = AnimElem = 9
value = 3, 8

[State 1060, 2]
type = Projectile
trigger1 = AnimElem = 9
projID = 111
projanim = 1070
velocity = 6, 0
projpriority = 4
postype = p1
offset = 65, -66
attr = S, SP
hitflag = MAF
guardflag = MA
pausetime = 0, 8
damage = 3, 3
hitsound = S5, 5
guardsound = S6, 0
ground.velocity = -4
ground.slidetime = 12
ground.hittime = 17
air.velocity = -4, -3
guard.velocity = -5
guard.slidetime = 10
guard.hittime = 14
p2stateno = ifelse(NumHelper(27) = 0, 1045, 1047)
kill = 0
guard.kill = 0
getpower = 10
givepower = 50

[State 1060, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Death Sphere HK
[Statedef 1070]
type = S
movetype = A
physics = S
velset = 0, 0
ctrl = 0
poweradd = 40
anim = 1060
sprpriority = 3

[State 1070, 1]
type = PlaySnd
trigger1 = AnimElem = 9
value = 3, 8

[State 1070, 2]
type = Projectile
trigger1 = AnimElem = 9
projID = 111
projanim = 1070
velocity = 7, 0
projpriority = 4
postype = p1
offset = 65, -66
attr = S, SP
hitflag = MAF
guardflag = MA
pausetime = 0, 8
damage = 3, 3
hitsound = S5, 5
guardsound = S6, 0
ground.velocity = -4
ground.slidetime = 12
ground.hittime = 17
air.velocity = -4, -3
guard.velocity = -5
guard.slidetime = 10
guard.hittime = 14
p2stateno = ifelse(NumHelper(27) = 0, 1045, 1047)
kill = 0
guard.kill = 0
getpower = 10
givepower = 50

[State 1070, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; Fuego P2
[Statedef 3050]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 9999
velset = 0,0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = timemod = 30,0
value = S5,55
volume = 50

[State 0, Fuego]
type = Explod
trigger1 = 1
anim = 3050
ID = 3050
pos = 0,-50
random = 100,100
postype = p2
facing = -1
scale = .4,.4
bindtime = 5
sprpriority = 1
ownpal = 1
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = p2movetype != H
trigger2 = time >= 60

;-------------------------------------------------------------------------------
;Black Hole
[Statedef 3000]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 3000
;poweradd = -1000
velset = 0,0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S102,0
volume = 999

;---------------------------------------------------------------------------------------------------
;Dont delete this code that starts with Var(4) Add it or copy paste to the new 
;hyper you gonna put .Change animelem depending when you want you characters hyper portrait to start
[State 3000, VarSet] 
type = VarSet
trigger1 = animelem = 1
var(4) = 1

[State 3000, Helper];Dont delete this either and copy too
type = Helper
trigger1 = animelem = 1
stateno = 8500
supermovetime = 99999999
pos = ceil(-0.5*const(size.xscale)),ceil(-70*const(size.yscale))
ownpal = 1
id = 8500

;This is the MVC2 ground explod use this on Special Moves as well.
;statetype !=A code explod means it can only happen in the ground
[State 1050, Explod]
type = Explod
trigger1 = time = 0 && statetype !=A
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 3000, SuperPause];Dont delete this either and copy too part of hyper combo 
type = SuperPause
trigger1 = animelem = 1
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -1000 ;<-------------------- this is the power level needed to start hyper combo

;There is another piece of coding for this mvc2 hyper to work go to state number 3005. 
;The rest of this code you can delete and copy the hyper from other chars.

;-----------------------------------------------------------------------------------------------------

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 12
value = -100

[State 0, VarAdd]
type = VarAdd
triggerall = var(12) < 0
trigger1 = time >= 26
v = 12
value = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 36
value = S950,1
volume = 50

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = unguardable

[State 3000, C疥ara lenta]
type = Pause
trigger1 = time = [50, 70]
time = 1
movetime = 0

[State 3000:	EnvShake]
type			= EnvShake
trigger1 		= Time = 0
time			= 36
freq			= 120
ampl			= -2
phase			= 50

[State 200, Dark Aura]
type = Explod
triggerall = time > 36
trigger1 = time%1 = 0
anim = 7049
ID = 7049
postype = P1
pos = -50+(random%90),-70-(random%20)
vel = 0,-2
accel = 0,0.15
facing = -1
sprpriority = -2+(random%4)
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.4,0.4
removeongethit = 1
ontop = 0
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, 1]
type = HitDef
triggerall = !movecontact
triggerall = p2stateno != 1770
trigger1 = AnimElem = 6
attr = S, SA
animtype  = Hard
damage    = 0,0
getpower  = 0
priority = 5, Hit
hitflag = MAFDE
guardflag = MA
pausetime = 0,0
sparkno = -1;S6111
guard.sparkno = -1
sparkxy = 0,-30
hitsound = -1;S2,7
guardsound = -1
ground.type = high
ground.slidetime = 30
guard.slidetime = 1
ground.hittime = 30
guard.hittime = 1
air.hittime = 30
ground.velocity = 0,0
air.velocity = 0,0
p2stateno = 3130
fall = 0
sprpriority = 0

[State 0, EnvShake]
type = EnvShake
triggerall = time >= 56
trigger1 = time%10 = 0
time = 10
freq = 120
ampl = -4
phase = 90

[State 200, Black Hole]
type = Explod
trigger1 = time = 36
anim = 7074
ID = 7074
postype = P1
pos = 0,0
facing = 1
sprpriority = 3
supermove = 1
removetime = -1
bindtime = -1
ownpal = 1
scale = 0.6,0.6
removeongethit = 1
ontop = 0
supermovetime 	= 999
ignorehitpause  = 1
[State 200, Black Hole]
type = Explod
trigger1 = time = 36
anim = 7074
ID = 7074
postype = P1
pos = 0,0
facing = 1
sprpriority = 3
supermove = 1
removetime = -1
bindtime = -1
ownpal = 1
scale = 0.6,0.6
removeongethit = 1
ontop = 0
supermovetime 	= 999
ignorehitpause  = 1
[State 200, Black Hole]
type = Explod
trigger1 = time = 36
anim = 7074
ID = 7074
postype = P1
pos = 0,0
facing = 1
sprpriority = 3
supermove = 1
removetime = -1
bindtime = -1
ownpal = 1
scale = 0.6,0.6
removeongethit = 1
ontop = 0
supermovetime 	= 999
ignorehitpause  = 1


[State 3250: Kurouzo Atract]
type		= Helper
triggerall      = time > 56
trigger1        = time%20 = 0
helpertype	= Normal
name		= "Kurouzo Atract - Projetile 1"
id		= 1040
pos		= 350,0
postype		= p1
facing		= 1
stateno		= 3140
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 3250: Kurouzo Atract]
type		= Helper
triggerall      = time > 56
trigger1        = time%21 = 0
helpertype	= Normal
name		= "Kurouzo Atract - Projetile 2"
id		= 1030
pos		= -350,0
postype		= p1
facing		= 1
stateno		= 3150
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 37
value = S101,21

[State 0, PlaySnd]
type = PlaySnd
triggerall = time >= 56
trigger1 = time%15 = 0
value = S101,22

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time >= 36
value = 0

[State 3001, End]
type = ChangeState
triggerall = movecontact = 1 || p2stateno = 3130
trigger1 =  time >= 156
value	= 3110
ctrl = 0

[State 3001, End]
type = ChangeState
triggerall =  p2stateno != 3130
trigger1 = time >= 206
value	= 3101
ctrl = 1

;-------------------------------------------------------------------------------
; Black Hole - Hit Catch
[Statedef 3110]
Type = S
Physics = S
anim =3110
velset = 0,0
sprpriority = 2
ctrl = 0

[State 0, TargetBind]
type = TargetBind
trigger1 =  Time = 0
time = 1
id = -1
pos = 0,0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 7074

[State 200, Black Hole - Finish]
type = Explod
trigger1 = time = 0
anim = 70742
ID = 70742
postype = P1
pos = 0,0
facing = 1
sprpriority = -1
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.5,0.5
removeongethit = 1
ontop = 0
supermovetime 	= 999
ignorehitpause  = 1

;[State 0, PlaySnd]
;type = PlaySnd
;trigger1 = time = 0
;value = S0,4
;volume = 999
;[State 0, PlaySnd]
;type = PlaySnd
;trigger1 = time = 0
;value = S0,4
;volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S101,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
value = S101,23

[State 200, Dark Aura]
type = Explod
triggerall = time = [20,45]
trigger1 = time%1 = 0
anim = 7049
ID = 7049
postype = P1
pos = -50+(random%90),-70-(random%20)
velset = 0,-3-(random%3)
facing = 1
sprpriority = -2+(random%4)
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.4,0.4
removeongethit = 1
ontop = 0
supermovetime 	= 999
ignorehitpause  = 1
[State 200, Dark Aura]
type = Explod
triggerall = time = [20,45]
trigger1 = time%1 = 0
anim = 7049
ID = 7049
postype = P1
pos = -50+(random%90),-70-(random%20)
velset = 0,-3-(random%3)
facing = 1
sprpriority = -2+(random%4)
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.4,0.4
removeongethit = 1
ontop = 0
supermovetime 	= 999
ignorehitpause  = 1
[State 200, Dark Aura]
type = Explod
triggerall = time = [20,45]
trigger1 = time%1 = 0
anim = 7049
ID = 7049
postype = P1
pos = -50+(random%90),-70-(random%20)
velset = 0,-3-(random%3)
facing = 1
sprpriority = -2+(random%4)
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.4,0.4
removeongethit = 1
ontop = 0
supermovetime 	= 999
ignorehitpause  = 1


[State 200, Dark Explotion Aura]
type = Explod
trigger1 = time = 25
anim = 7075
ID = 7075
postype = P1
pos = 0,0
velset = 0,0
facing = 1
sprpriority = -2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = 0.7,0.7
removeongethit = 1
ontop = 0
supermovetime 	= 999
ignorehitpause  = 1

[State 200, Dark Explotion]
type = Explod
trigger1 = time = 35
anim = 7076
ID = 7076
postype = P1
pos = 0,-190
velset = 0,0
facing = 1
sprpriority = 5
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 1.5,0.7
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 200, Dark Aura - P2]
type = Explod
triggerall = time >= 40
triggerall = p2stateno = 3131
trigger1 = time%1 = 0
anim = 7049
ID = 70492
postype = P2
pos = -50+(random%90),-70-(random%20)
velset = 0,-3-(random%3)
sprpriority = -2+(random%4)
facing = -1
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.4,0.4
removeongethit = 1
ontop = 0
supermovetime 	= 999
ignorehitpause  = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time < 40
ID = 70492

[State 200, Spark Dark]
type = Explod
triggerall = Numexplod(7068) = 0
trigger1 = time = 36
anim = 7068
ID = 7068
postype = P2
pos = 0,-20
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 0
supermovetime 	= 999
ignorehitpause  = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 30
time = 50
freq = 260
ampl = -8
phase = 90

[State 3001, End]
type = ChangeState
trigger1 = time = 80
value	= 3111
ctrl = 0


;-------------------------------------------------------------------------------
; Black Hole - Hit Finish
[Statedef 3111]
Type = S
Physics = S
anim =3111
velset = 0,0
sprpriority = 2
ctrl = 0

;------------------------------------------------------------------------------------------------------
[State 3000, VarSet] ;Dont delete this code part of hyper combo this ends the blue hyper background
type = VarSet
trigger1 = AnimTime = 0
var(4) = 0


[State 3001, End]
type = ChangeState
trigger1 = animtime = 0
value	= 0
ctrl = 1

;-------------------------------------------------------------------------------
; Black Hole - Finish
[Statedef 3101]
Type = S
Physics = S
anim = 3001
velset = 0,0
sprpriority = 2
ctrl = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 7074

[State 200, Black Hole - Finish]
type = Explod
trigger1 = time = 0
anim = 70742
ID = 70742
postype = P1
pos = 0,0
facing = 1
sprpriority = 3
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 0.6,0.6
removeongethit = 1
ontop = 0
supermovetime 	= 999
ignorehitpause  = 1

;------------------------------------------------------------------------------------------------------
[State 3000, VarSet] ;Dont delete this code part of hyper combo this ends the blue hyper background
type = VarSet
trigger1 = Animtime = 0
var(4) = 0

[State 3001, End]
type = ChangeState
trigger1 = Animtime = 0
value	= 0
ctrl = 1
;---------------------------------------------------------------------------
; Black Hole -  P2 Cached
[Statedef 3130]
type = A
movetype = H
physics = N
sprpriority = -1
ctrl = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1860, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = ifelse(p2bodydist x > 0,1,-1)
y = 0.3

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 100
add = 0,0,0
mul = 256,256,256
sinadd = -256,-256,-256,200
invertall = 0
color = 256

[State 1860, change]
type = ChangeAnim2
trigger1 = time = 0
value = 5000
elem = 1


[State 1650, end]
type = ChangeState
trigger1 = p2stateno = 3110
value = 3131
ctrl = 0

[State 1861, end]
type = SelfState
trigger1 = p2stateno != 3000
trigger1 = p2stateno != 3110
value = 5050
ctrl = 0

;---------------------------------------------------------------------------
; Black Hole - P2 Throw Finish
[Statedef 3131]
type = A
movetype = H
physics = N
sprpriority = 2
ctrl = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 33
x = 0
y = -180


[State 1860, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 0, PalFX]
type = PalFX
trigger1 = time = 34
time = 20
add = -256,-256,-256
mul = 256,256,256
sinadd = 256,256,256,100
invertall = 0
color = 256

[State 1860, change]
type = ChangeAnim2
trigger1 = time = 0
value = 9999
elem = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 35
value = -260
kill = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 36
x = -5
y = -3

[State 0, VelAdd]
type = VelAdd
trigger1 = time >= 36
y = 0.3

[State 1861, end]
type = SelfState
trigger1 = p2stateno != 3100
trigger1 = p2stateno != 3110
value = 5050
ctrl = 0

[State 1650, end]
type = Selfstate
trigger1 = animtime = 0
value = 5050
ctrl = 0

;----------------------------------------------------------
; Atract 2
[Statedef 3140]
Physics = N
ctrl = 0
anim = 10100
sprpriority = 2
velset = -10,0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

;[State 0, AssertSpecial]
;type = AssertSpecial
;trigger1 = 1
;flag = invisible

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = -1


[State 0, destroyself]
type = destroyself
trigger1 = time = 30
trigger2 = parent, stateno != 3000


;----------------------------------------------------------
; Atract 1
[Statedef 3150]
Physics = N
ctrl = 0
anim = 10100
sprpriority = 2
velset = 10,0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

;[State 0, AssertSpecial]
;type = AssertSpecial
;trigger1 = 1
;flag = invisible

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
time = -1


[State 0, destroyself]
type = destroyself
trigger1 = time = 30
trigger2 = parent, stateno != 3000

;-------------------------------------------------------------------------------
;Moonfall
[Statedef 3200]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3200
;poweradd = -1000
sprpriority = 0

;---------------------------------------------------------------------------------------------------
;Dont delete this code that starts with Var(4) Add it or copy paste to the new 
;hyper you gonna put .Change animelem depending when you want you characters hyper portrait to start
[State 3000, VarSet] 
type = VarSet
trigger1 = animelem = 1
var(4) = 1

[State 3000, Helper];Dont delete this either and copy too
type = Helper
trigger1 = animelem = 1
stateno = 8500
supermovetime = 99999999
pos = ceil(-0.5*const(size.xscale)),ceil(-70*const(size.yscale))
ownpal = 1
id = 8500

;This is the MVC2 ground explod use this on Special Moves as well.
;statetype !=A code explod means it can only happen in the ground
[State 1050, Explod]
type = Explod
trigger1 = time = 0 && statetype !=A
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 3000, SuperPause];Dont delete this either and copy too part of hyper combo 
type = SuperPause
trigger1 = animelem = 1
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -1000 ;<-------------------- this is the power level needed to start hyper combo

;There is another piece of coding for this mvc2 hyper to work go to state number 3005. 
;The rest of this code you can delete and copy the hyper from other chars.

;-----------------------------------------------------------------------------------------------------

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,3
volume = 50

;[State 0, PlaySnd]
;type = PlaySnd
;trigger1 = animelem = 3
;value = S1,24
;volume = 50

[State 0, HitDef]
type = HitDef
trigger1 = !movecontact
attr = S,HA
guardflag = MA
animtype = Heavy
damage = 20
pausetime = 12,24
sparkno = s8002
sparkxy = -20,-60
guard.sparkno = S8050
hitsound = S5,2;1,31
guardsound = S6,0
ground.type = High
ground.slidetime = 10
ground.hittime = 10
ground.velocity = -40
air.velocity = 0
Fall = 0
envshake.time = 30
sprpriority = 0
Getpower = 0,0
Fall.recover = 0
kill = 0
p2stateno = 3221

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 2

[State 0, VelSet]
type = VelSet
trigger1 = movehit = 1
x = 0

;[State 0, Helper]
;type = Helper
;trigger1 = numhelper(8103) = 0 && movehit = 1
;helpertype = normal
;name = "HitSpark"
;ID = 8103
;stateno = 8103
;pos = -15,-70;0, -25
;postype = p2
;facing = 1
;ownpal = 1
;supermove=9999
;pausemove=9999
;ignorehitpause=1

[State 200, REMATE]
type = ChangeState
trigger1 = movehit && time >= 60
value = 3201

;------------------------------------------------------------------------------------------------------
[State 3000, VarSet] ;Dont delete this code part of hyper combo this ends the blue hyper background
type = VarSet
trigger1 = !movehit && AnimTime = 0
var(4) = 0

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------------------------------------------------
[Statedef 3201]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 3201
;poweradd = -2000
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S102,3
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S201,1
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S101,37
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S201,1
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S101,37
volume = 999

;[State 210, 2]
;type = PlaySnd
;trigger1 = time = 0
;value = S200,13
;volume = 999
;[State 210, 2]
;type = PlaySnd
;trigger1 = time = 0
;value = S200,13
;volume = 999
;[State 210, 2]
;type = PlaySnd
;trigger1 = time = 0
;value = S200,13
;volume = 999

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 40
time = 80

[State 1100, 1]
type = Explod
trigger1 = time = 40
anim = 12010
scale = .5,.5
postype = P1
pos = -5,0
sprpriority = 10
bindtime = 1
ownpal = 1
supermovetime 	= 999

[State 1100, 1]
type = Explod
trigger1 = time = 40
anim = 12015
scale = .5,.5
postype = P1
pos = -5,0
sprpriority = -10
bindtime = 1
ownpal = 1
supermovetime 	= 999

[State 1100, 1]
type = Explod
trigger1 = time = 42
anim = 12010
scale = .6,.6
postype = P1
pos = -5,-50
sprpriority = 10
bindtime = 1
ownpal = 1
supermovetime 	= 999

[State 1100, 1]
type = Explod
trigger1 = time = 42
anim = 12015
scale = .6,.6
postype = P1
pos = -5,-50
sprpriority = -10
bindtime = 1
ownpal = 1
supermovetime 	= 999

[State 1100, 1]
type = Explod
trigger1 = time = 44
anim = 12010
scale = .7,.7
postype = P1
pos = -5,-100
sprpriority = 10
bindtime = 1
ownpal = 1
supermovetime 	= 999

[State 1100, 1]
type = Explod
trigger1 = time = 44
anim = 12015
scale = .7,.7
postype = P1
pos = -5,-100
sprpriority = -10
bindtime = 1
ownpal = 1
supermovetime 	= 999

[State 1100, 1]
type = Explod
trigger1 = time = 46
anim = 12010
scale = .8,.8
postype = P1
pos = -5,-150
sprpriority = 10
bindtime = 1
ownpal = 1
supermovetime 	= 999

[State 1100, 1]
type = Explod
trigger1 = time = 46
anim = 12015
scale = .8,.8
postype = P1
pos = -5,-150
sprpriority = -10
bindtime = 1
ownpal = 1
supermovetime 	= 999

[State 1100, 1]
type = Explod
trigger1 = time = 48
anim = 12010
scale = .9,.9
postype = P1
pos = -5,-200
sprpriority = 10
bindtime = 1
ownpal = 1
supermovetime 	= 999

[State 1100, 1]
type = Explod
trigger1 = time = 48
anim = 12015
scale = .9,.9
postype = P1
pos = -5,-200
sprpriority = -10
bindtime = 1
ownpal = 1
supermovetime 	= 999

[State 1100, 1]
type = Explod
trigger1 = time = 44
anim = 12030
postype = P1
pos = -5,8
sprpriority = -5
bindtime = 1
ownpal = 1
supermovetime 	= 999

[State 1100, 1]
type = Explod
trigger1 = time = 44
anim = 12035
postype = P1
pos = -5,8
sprpriority = 5
bindtime = 1
ownpal = 1
supermovetime 	= 999

[State 0, Meteorito]
type = Helper
trigger1 = time = 40
helpertype = normal
name = "Meteorito"
ID = 3255
stateno = 3255
pos = 0,0
postype = p2
facing = 1
keyctrl = 0
ownpal = 1
supermovetime 	= 999

[State 0, Gravedad 3]
type = Helper
trigger1 = time = 40
helpertype = normal
name = "Gravedad 3"
ID = 3240
stateno = 3240
pos = 0,0
postype = p2
facing = 1
ownpal = 1
supermovetime 	= 999

;------------------------------------------------------------------------------------------------------
[State 3000, VarSet] ;Dont delete this code part of hyper combo this ends the blue hyper background
type = VarSet
trigger1 = AnimTime = 0
var(4) = 0

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
[Statedef 3240]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 456
sprpriority = 3

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 20
statetype = S
movetype = I
physics = S

[State 3020, Explod]
type = Explod
triggerall = Numexplod(457) = 0
trigger1 = Movehit = 1
anim = 457
id = 457
sprpriority = 9
postype = back
pos = -32,-46
bindtime = -1
ownpal = 1
removeongethit = 1
supermovetime 	= 999

[State 700, Gravity]
type = Explod
triggerall = Numexplod(458) = 0
trigger1 = Movehit = 1
anim = 458
ID = 458
postype = P2
pos = 0,8
persistent = 0
sprpriority = 14
ownpal = 1
scale = 1.2,1
bindtime = -1
removetime = 180
removeongethit = 1
supermovetime 	= 999

[State explod]
type = Explod
trigger1 = time > 0
trigger1 = time%7 = 1
anim = 455
id = 455
sprpriority = -4
postype = p1
scale = 1.2,.7
pos = 0,10
bindtime = 1
ignorehitpause = 0
under = 0
supermovetime 	= 999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SP
animtype  = Heavy
damage    = 0
guardflag = MA
pausetime = 0,200
sparkno = -1
guard.sparkno = S8050
sparkxy = 0,0
hitsound   = -1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0
air.velocity = 0
Fall = 0
Getpower = 0

[State 200, End]
type = Destroyself
trigger1 = time = 200
;-------------------------------------------------------------------------------
[Statedef 3255]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, Meteorito]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Meteorito"
ID = 3250
stateno = 3250
pos = 0,-400
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime 	= 999

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 200, End]
type = Destroyself
trigger1 = time = 1
;---------------------------------------------------------------------------------------
[StateDef 3250]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,2
ctrl = 0
anim = 3250
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S501,20
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S501,31
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S501,31
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 250
value = S501,31
volume = 999

[State 0]
type = EnvShake
trigger1 = timemod = 5,0
time = 5
ampl = 3

[State 0]
type = Explod
trigger1 = time = 0
anim = 1812
ID = 1811
pos = 0,-35
postype = p1
facing = 1
vfacing = 1
removetime = -1
bindtime = -1
scale = 2, 1.2
shadow = 0,0,0
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Unguardable

[State 200, 1]
type = HitDef
trigger1 = timemod = 16,0
attr = A, SP
animtype  = Light
damage    = 0
guardflag = MA
pausetime = 5,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S101,20
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0
air.velocity = 0
Fall = 0
Envshake.time = 10
Getpower = 0,0
Numhits = 0

;[State 0, Hit Spark]
;type = Explod
;triggerall = Numexplod(7001) = 0
;trigger1 = Movehit = 1
;anim = 7000
;ID = 7001
;postype = P2
;pos = -10+random%20,-40-random%40
;facing = -1
;sprpriority = 2
;supermove = 1
;removetime = -2
;bindtime = 1
;ownpal = 1
;scale = 1,1
;removeongethit = 1
;ontop = 1
;supermovetime 	= 999
;ignorehitpause  = 1

[State 0]
type = ChangeState
trigger1 = pos y >= 0
value = 3251
ctrl = 0
;----------------------------------------------------------------
[Statedef 3251]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
anim = 3251
sprpriority = 4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 200, 1]
type = HitDef
triggerall = animelem = 1
trigger1 = 1
attr = S, SA
animtype  = High
damage    = 330,40
hitflag = MAFDE
guardflag = MA
pausetime = 12,12
sparkno = -1
guard.sparkno = s7010
sparkxy = -8,-25
hitsound   = S201,4
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,-20
air.velocity = 0,-20
Fall = 1
Fall.recover = 0
Getpower = 0,0
envshake.time = 40

[State 0, TargetState]
type = TargetState
triggerall = enemy,teammode = single
triggerall = p2stateno != 3230
trigger1 = movehit = 1
value = 3230

[State 0]
type = removeExplod
trigger1 = 1
ID = 1811

[State 0]
type = EnvShake
trigger1 = time = 0
time = 40
freq = 100
ampl = 10
phase = 100

[State 0]
type = PlaySnd
trigger1 = time = 0
value = S101,39
volume = 999
[State 0]
type = PlaySnd
trigger1 = time = 0
value = S101,39
volume = 999

[State 0]
type = Explod
trigger1 = time = 0
anim = 7110
ID = 3312
pos = 0,-10
postype = p1
facing = 1
vfacing = 1
removetime = -2
bindtime = -1
scale = .7, .7
sprpriority = 4000
ontop = 1
ownpal = 1

[State 0]
type = Explod
trigger1 = time = 0
anim = 3313
ID = 3312
pos = 0,20
postype = p1
facing = 1
vfacing = 1
removetime = -2
bindtime = -1
scale = 1.3, 1.3
sprpriority = 4000
ontop = 1
ownpal = 1

[State 0]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "ryuusei"
ID = 3410
stateno = 3430
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
size.xscale = 2
size.yscale = 2

[State 0]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "ryuusei"
ID = 3410
stateno = 3431
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
size.xscale = 1
size.yscale = 1

[State 0]
type = Explod
trigger1 = time = 0
anim = 3314
ID = 3314
pos = 0,300
postype = p1
facing = 1
vfacing = 1
removetime = -2
bindtime = 1
scale = 1,1
sprpriority = -1
ontop = 1
ownpal = 1

[State 0]
type = DestroySelf
trigger1 = animtime = 0

;-------------------------------------------------------------------------------------
[Statedef 3430]
type = S
physics = S
anim = 3315
sprpriority = 9000
ctrl = 0
poweradd = 0

[State 0]
type = AngleDraw
trigger1 = anim = 3315
scale = time*.050, time*.050

[State 0]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0]
type = Trans
trigger1 = time >= 50
trans = addalpha
alpha = 256-(10*(time-50)), 256

[State 0]
type = DestroySelf
trigger1 = time=70
;-------------------------------------------------------------------------------------
[Statedef 3431]
type = S
physics = S
anim = 3316
sprpriority = 9000
ctrl = 0
poweradd = 0

[State 0]
type = AngleDraw
trigger1 = anim = 3316
scale = time*.050, time*.050

[State 0]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0]
type = Trans
trigger1 = time >= 75
trans = addalpha
alpha = 256-(10*(time-75)), 256

[State 0]
type = DestroySelf
trigger1 = time=92
;-------------------------------------------------------------------------------
; P2 Reventado Suelo
[Statedef 3230]
type    = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
sprpriority = -1
facep2 = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

;[State 0, ChangeAnim2]
;type = ChangeAnim
;Triggerall = authorname = "CobraG6"
;trigger1 = time = 0
;value = 5110+(var(10))

[State 0, ChangeAnim2]
type = ChangeAnim
;Triggerall = authorname != "CobraG6"
trigger1 = time = 0
value = 5110

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 200, End]
type = Selfstate
trigger1 = time = 170
value = ifelse(life = 0,5150,5120)
ctrl = 1

;---------------------------------------------------
[Statedef 3221]
type    = S
movetype= H
physics = S

[state 0]
type = posset
trigger1 = 1
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 4 && time < 20
x = -6

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5000
elem = 1

[State 0, SelfState]
type = SelfState
trigger1 = time = 200
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;Power Stone
[Statedef 3500]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3500
;poweradd = -1000
sprpriority = 0

;---------------------------------------------------------------------------------------------------
;Dont delete this code that starts with Var(4) Add it or copy paste to the new 
;hyper you gonna put .Change animelem depending when you want you characters hyper portrait to start
[State 3000, VarSet] 
type = VarSet
trigger1 = animelem = 1
var(4) = 1

[State 3000, Helper];Dont delete this either and copy too
type = Helper
trigger1 = animelem = 1
stateno = 8500
supermovetime = 99999999
pos = ceil(-0.5*const(size.xscale)),ceil(-70*const(size.yscale))
ownpal = 1
id = 8500

;This is the MVC2 ground explod use this on Special Moves as well.
;statetype !=A code explod means it can only happen in the ground
[State 1050, Explod]
type = Explod
trigger1 = time = 0 && statetype !=A
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 3000, SuperPause];Dont delete this either and copy too part of hyper combo 
type = SuperPause
trigger1 = animelem = 1
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -1000 ;<-------------------- this is the power level needed to start hyper combo

;There is another piece of coding for this mvc2 hyper to work go to state number 3005. 
;The rest of this code you can delete and copy the hyper from other chars.

;-----------------------------------------------------------------------------------------------------

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 3522
ID = 3522
pos = 0,50
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .7,.7
sprpriority = 4
ontop = 1
ownpal = 0
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 35433
ID = 35433
postype = p1
pos = 0,0
facing = 1
vfacing = 1
bindtime = -1
removetime = 20
scale = .9,.9
sprpriority = -3
ownpal = 1
ontop = 0
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S4,10
volume = 999

[State 0, EnvShake]
type = EnvShake
triggerall = time <= 30
trigger1 = timemod = 5,0
time = 5
[State 0, EnvShake]
type = EnvShake
trigger1 = time = 40
time = 50

[State 0, Special]
type = Helper
trigger1 = animelem = 3
helpertype = normal
name = "Special"
ID = 3520
stateno = 3520
pos = 0,0
postype = p1
ownpal = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 50
value = 0

[State 200, End]
type = ChangeState
triggerall = time = 70
trigger1 = var(50) = 1
value = 3501

[State 0, Fuego]
type = Explod
trigger1 = 1
anim = 3050
ID = 3050
pos =  0,-50
vel = -1-(random%2),-0-(random%4)
accel = 0,0.15
random = 70,100
postype = p1
facing = -1
scale = .3,.3
bindtime = 1
sprpriority = 1
ownpal = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999

;------------------------------------------------------------------------------------------------------
[State 3000, VarSet] ;Dont delete this code part of hyper combo this ends the blue hyper background
type = VarSet
trigger1 = !movehit && AnimTime = 0
var(4) = 0

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; SUper 3 continuacion
[Statedef 3501]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3501
;poweradd = -2000
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S102,2
volume = 999

[State 0, Fuego]
type = Explod
triggerall = time < 80
trigger1 = 1
anim = 3050
ID = 3050
pos =  10,-50
vel = -1-(random%2),-0-(random%4)
accel = 0,0.15
random = 70,100
postype = p1
facing = -1
scale = .3,.3
bindtime = 1
sprpriority = 1
ownpal = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
[State 0, Fuego]
type = Explod
triggerall = time >= 80
trigger1 = 1
anim = 3050
ID = 3050
pos =  30,-50
vel = -1-(random%2),-0-(random%4)
accel = 0,0.15
random = 70,100
postype = p1
facing = -1
scale = .3,.3
bindtime = 1
sprpriority = 1
ownpal = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999

;[State 0, SuperPause]
;type = SuperPause
;trigger1 = time = 0
;time = 80
;movetime = 80
;anim = -1
;sound = -1
;pos = 9999,9999
;unhittable = 1
;darken = 0

;[State 0, PlaySnd]
;type = PlaySnd
;trigger1 = time = 0
;value = S0,15
;volume = 999
;[State 0, PlaySnd]
;type = PlaySnd
;trigger1 = time = 0
;value = S0,15
;volume = 999
;[State 0, PlaySnd]
;type = PlaySnd
;trigger1 = time = 0
;value = S0,15
;volume = 999

;[State 0, PlaySnd]
;type = PlaySnd
;trigger1 = ANIMELEM = 3
;value = S0,17
;volume = 999
;[State 0, PlaySnd]
;type = PlaySnd
;trigger1 = ANIMELEM = 3
;value = S0,17
;volume = 999
;[State 0, PlaySnd]
;type = PlaySnd
;trigger1 = ANIMELEM = 3
;value = S0,17
;volume = 999

[State 0, Bola]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "Bola"
ID = 3550
stateno = 3550
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1
supermovetime = 80

;[State 0, ChangeAnim]
;type = ChangeAnim
;trigger1 = time > 80 && numhelper(3550) > 0 && timemod = 10,0
;value = 3501
;elem = 39

;------------------------------------------------------------------------------------------------------
[State 3000, VarSet] ;Dont delete this code part of hyper combo this ends the blue hyper background
type = VarSet
trigger1 = AnimTime = 0
var(4) = 0

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Bola - Charge
[Statedef 3550]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3550
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,27
volume = 999

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 20,0
time = 20

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -30,-260

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 20
value = 0
scale = 0+time*.05,.0+time*.05

[State 200, End]
type = Changestate
trigger1 = root,stateno = 3501 && root,time >= 80
value = 3560

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 3501
;-------------------------------------------------------------------------------
; Bola - Caida
[Statedef 3560]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 20,0
time = 20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,28
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 7
y = 5

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Unguardable

[State 200, 1]
type = HitDef
trigger1 = timemod = 10,0
attr = A, HP
animtype  = Medium
damage    = 0
Hitflag = MAFDE
guardflag = MA
pausetime = 10,5
sparkno = -1
guard.sparkno = S8050
sparkxy = -8,-5
hitsound   = S1,19
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,0
air.velocity = -4,2
Fall = 0
Getpower = 0,0
PalFX.time = 20
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256
sprpriority = 3
numhits = 0
Envshake.time = 20

;[State 200, Spark CVS]
;type = Explod
;trigger1 = Movehit = 1
;anim = 1065
;ID = 7001
;postype = P2
;pos = -15+random%30,-10-random%30
;facing = -1
;sprpriority = 2
;supermove = 1
;removetime = -2
;bindtime = 1
;ownpal = 1
;scale = .4,.4
;removeongethit = 1
;ontop = 1
;supermovetime 	= 999
;ignorehitpause  = 1
;persistent = 11

[State 200, End]
type = ChangeState
trigger1 = pos y >= -10
value = 3565
;-------------------------------------------------------------------------------
; Bola - Suelo
[Statedef 3565]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3555
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = S4,51
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,10
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 20,0
time = 20

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1.5,1.5

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = -10

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Unguardable

[State 200, 1]
type = HitDef
trigger1 = timemod = 5,0
attr = S, HP
animtype  = heavy
damage    = 10,5
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,0
air.velocity = 0,0
Fall = 0
kill = 0
Getpower = 0,0
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256
sprpriority = 3

[State 200, End]
type = ChangeState
trigger1 = time = 195
value = 3566
;-------------------------------------------------------------------------------
; Bola - Suelo Fin
[Statedef 3566]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,29
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30
ampl = -8

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = S
movetype = I
physics = N

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0
scale = 1.5+time*.5,1.5+time*.5

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*12,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Unguardable

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = S, HP
animtype  = Up
damage    = 10,5
Hitflag = MAFDE
guardflag = MA
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,-10
air.velocity = 0,-10
Fall = 1
Fall.recover = 0
Getpower = 0,0
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256
sprpriority = 3

[State 0, Fuego P2]
type = Helper
Triggerall = p2movetype = H && p2stateno != [120,155]
trigger1 = movehit = 1 && numhelper(3050) = 0
helpertype = normal
name = "Fuego P2"
ID = 3050
stateno = 3050
pos = 0,0
postype = p1
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 20
;-------------------------------------------------------------------------------
; Projectil
[Statedef 3520]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3520
sprpriority = 10

[State 0, Camara Lenta]
type = Helper
trigger1 = movehit = 1 && numhelper(3660) = 0
helpertype = normal
name = "Camara Lenta"
ID = 3660
stateno = 3660
pos = 99999,99999
postype = p1

[State 0, HitDef]
type = HitDef
trigger1 = !movecontact
attr = S,HA
guardflag = MA
animtype = Heavy
damage = 20
pausetime = 12,36
sparkno = -1
sparkxy = -20,-60
guard.sparkno = -1
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 10
ground.hittime = 10
ground.velocity = -30
air.velocity = -10,-2
Fall = 0
envshake.time = 30
sprpriority = 0
Getpower = 0,0
Fall.recover = 0
kill = 0
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256
sprpriority = 3
p2stateno = 3521

[State 0, Fuego P2]
type = Helper
Triggerall = p2movetype = H && p2stateno != [120,155]
trigger1 = movehit = 1 && numhelper(3050) = 0
helpertype = normal
name = "Fuego P2"
ID = 3050
stateno = 3050
pos = 0,0
postype = p1
ignorehitpause = 1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = movehit
v = 50
value = 1

[State 200, End] ;Nuevo
type = Destroyself
trigger1 = movecontact && movehit

[State 200, End]
type = Destroyself
trigger1 = time = 10
;---------------------------------------------------
[Statedef 3521]
type    = S
movetype= H
physics = S

[state 0]
type = posset
trigger1 = 1
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 4 && time < 20
x = -10

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5000
elem = 1

[State 0, SelfState]
type = SelfState
trigger1 = time = 150
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Camara Lenta
[Statedef 3660]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 9999
velset = 0,0
sprpriority = 0

[State 0, Pause]
type = Pause
trigger1 = time = [0,20]
time = 1

[State 200, End]
type = Destroyself
trigger1 = time = 20

[Statedef 4000 - Cosmic Fall]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 4000
juggle  = 0;ifelse(var(42) & floor(exp(1*ln(2)) + 0.5) ,1,0)
;poweradd = 0
sprpriority = 2
facep2 = 1
;velset = 0,0 

[state 0]
type = playsnd
trigger1 = time = 0
value = 4000,1
channel = 0

;------------------------

[State 3060, Explod]
type = Explod
trigger1 = time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 3060, VarSet]
type = VarSet
trigger1 = animelem = 1
var(4) = 1

[State 3060, Helper]
type = Helper
trigger1 = animelem = 1
stateno = 8501
supermovetime = 99999999
pos = ceil(5*const(size.xscale)),ceil(-85*const(size.yscale))
ownpal = 1
id = 8500

[State 3060, SuperPause]
type = SuperPause
trigger1 = animelem = 1
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -5000
;------------------

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = 0


[State 200, 1]
type = HitDef
trigger1 = time = 0
attr = S, HA
damage = 50,0;56,0;119, 0
animtype = hard
guardflag = M 
hitflag = MAF
pausetime = 10,10 
sparkno = s8002
guard.sparkno	= s8050
sparkxy		= -10,-75 
hitsound = S5,2
guardsound = S6,0
ground.type = high
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -10
guard.velocity = -10 
airguard.velocity = -5,1
air.type = low
air.velocity = -5,-1
air.hittime = 16;25
;air.fall = 1
guard.ctrltime = 16
fall.recovertime = 16;30
yaccel = 0.5
ground.cornerpush.veloff = 0 
fall = 1
id = 4000
p2facing = 1
getpower = 0
givepower = 200
kill = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelemtime(7) = 0
value = S800,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelemtime(7) = 0
value = S500,25

[State 0, EnvShake]
type = EnvShake
trigger1 = animelemtime(7) = 0
time = 20
freq = 60
ampl = -8
phase = 90

;[State 0, Explod]
;type = Explod
;trigger1 = animelemtime(7) = 0
;anim =571
;ID =568
;pos = 0,0
;postype = back
;facing = 1
;bindtime = -1
;sprpriority = 30
;ownpal = 1
;ignorehitpause = 1
;supermove = 999999999999999999999
;pausemove = 999999999999999999999
;supermovetime = 999999999999999999999
;pausemovetime = 999999999999999999999
;[State 0, Explod]
;type = Explod
;trigger1 = animelemtime(7) = 0
;anim =570
;ID =568
;pos = 120,-50
;postype = p1
;facing = 1
;scale =.5,.5
;bindtime = 1
;sprpriority = 30
;ownpal = 1
;ignorehitpause = 1
;supermove = 999999999999999999999
;pausemove = 999999999999999999999
;supermovetime = 999999999999999999999
;pausemovetime = 999999999999999999999
;[State 0, Explod]
;type = Explod
;trigger1 = animelemtime(7) = 0
;anim =568
;ID =568
;pos = 120,-50
;postype = p1
;facing = 1
;scale =.5,.5
;bindtime = 1
;sprpriority = 10
;ownpal = 1
;trans =add
;ignorehitpause = 1
;supermove = 999999999999999999999
;pausemove = 999999999999999999999
;supermovetime = 999999999999999999999
;pausemovetime = 999999999999999999999
;[State 0, Explod]
;type = Explod
;trigger1 = animelemtime(7) = 0
;anim =569
;ID =568
;pos = 120,-50
;postype = p1
;facing = 1
;scale =.4,.4
;bindtime = 1
;sprpriority = -5
;ownpal = 1
;trans =sub
;ignorehitpause = 1
;supermove = 999999999999999999999
;pausemove = 999999999999999999999
;supermovetime = 999999999999999999999
;pausemovetime = 999999999999999999999
  
[State 161,]
type = targetstate
trigger1 = movehit
value = 3905

[State 801]
type = targetbind
trigger1 = movehit
pos = 80,0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 13
movetype = I
 
[State 200, 7]
type = ChangeState
trigger1 = numtarget(4000)
;trigger1 = target(4000),life <= 200
trigger1 = Animelemtime(12) = 3 && movehit 
value = 4100

;[State 200, 7]
;type = ChangeState
;trigger1 = Animelemtime(12) = 3 && movehit 
;value = 4001 

;------------------------------------------------------------------------------------------------------
[State 3000, VarSet] ;Dont delete this code part of hyper combo this ends the blue hyper background
type = VarSet
trigger1 = !movehit && AnimTime = 0
var(4) = 0

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 4100 - The Snap]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
sprpriority = 0
ctrl = 0
anim = 4100

[state 0]
type = playsnd
trigger1 = time = 0 
value = s167,25
channel = 3

[state 0]
type = targetstate
trigger1 = time = 0
trigger2 = time = 300
trigger3 = time = 600
value = 3905

[State 0, AllPalFX]
type = AllPalFX
trigger1 = time = 0
time = 5
add = 150,150,150
mul = 256,256,256
sinadd = 50,50,50,10


;
[State 3305]
type = TargetBind
trigger1 = time = 0
pos = 150,0

[State 3200, 2]
type = RemoveExplod
trigger1 = time = 0

[State 3200, Assert]
type = AssertSpecial
trigger1 = 1
flag = NoBarDisplay
flag2 = NoFG
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic

[State 3200, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3200, superspacebg]
type = Explod
trigger1 = AnimElem = 2
anim = 13000
ID = 13000
pos = 0,0
postype = back
bindtime = 999
removetime = 1556
supermove = 1556
pausemovetime = 1556
sprpriority = -2
ownpal = 1

[State 3200, Shine]
type = helper
Trigger1 = Time = 40
ID = 6300
pos = 0,0
postype = p1
stateno = 6300
supermovetime = 9999
helpertype = normal
name = ""
ownpal = 0
keyctrl = 0

[State 3200, 4]
type = EnvShake
Trigger1 = Time = 70
time = 650
ampl = -6
freq = 190
phase = 90

[State 3200, voice]
type = stopsnd
trigger1 = time = 755 
channel = 5

[State 3200, 6]
type = PlaySnd
trigger1 = time >= 1112
trigger1 = TimeMod = 17, 0
trigger1 = time <= 1425
value = 3200,10
id = 11001
channel = 5

[State 3200, gem]
type = PlaySnd
trigger1 = time = 130 ||time = 250 ||time = 370 ||time = 490 ||time = 610 || time = 730
value = 3002,0

[State 3200, gem]
type = PlaySnd
trigger1 = time = 815
value = 3002,1

[State 3200, Reality]
type = PlaySnd
trigger1 = time = 70
value = 1100, 0

[State 3000, Realitybg]
type = Explod
trigger1 = time = 70
anim = 13030
ID = 13030
pos = 0,0
postype = back
bindtime = 999
removetime = 60
supermove = 60
pausemovetime = 60
sprpriority = 9991
ownpal = 1

[State 3200, Thanos_reality]
type = explod
trigger1 = time = 132
anim = 13020
postype = p1
pos = -25,-185
sprpriority = -1
removetime = 683
supermove = 40
pausemovetime = 40
ownpal = 1

[State 3020, ShineReality]
type = helper
trigger1 = time = 130 || time = 815
ID = 6310
pos = 0,0
postype = p1
stateno = 6310
supermovetime = 9999
helpertype = normal
name = ""
ownpal = 0
keyctrl = 0

[State 3200, gem_reality]
type = explod
trigger1 = time = 130
anim = 3330
postype = p1
pos = -25,-175
sprpriority = 4
removetime = 685
supermove = 40
pausemovetime = 40
ownpal = 1

[State 3020, Shine]
type = helper
Trigger1 = Time = 169
ID = 6320
pos = 0,0
postype = p1
stateno = 6320
supermovetime = 9999
helpertype = normal
name = ""
ownpal = 0
keyctrl = 0

[State 3200, Mind]
type = PlaySnd
trigger1 = time = 190
value = 1500,1

[State 3000, Mindbg]
type = Explod
trigger1 = time = 190
anim = 13031
ID = 13031
pos = 0,0
postype = back
bindtime = 999
removetime = 60
supermove = 60
pausemovetime = 60
sprpriority = 9991
ownpal = 1

[State 3000, MoonDragon]
type = Explod
trigger1 = time = 190
anim = 13010
ID = 13010
pos = 0,0
postype = back
bindtime = 999
removetime = 60
supermove = 60
pausemovetime = 60
sprpriority = 9995
ownpal = 1

[State 3020, ShineMind]
type = helper
trigger1 = time = 252 || time = 815
ID = 6330
pos = 0,0
postype = p1
stateno = 6330
supermovetime = 9999
helpertype = normal
name = ""
ownpal = 0
keyctrl = 0

[State 3200, MoonDragon_mind]
type = explod
trigger1 = time = 252
anim = 13021
postype = p1
pos = 25,-165
sprpriority = -1
removetime = 563
supermove = 40
pausemovetime = 40
ownpal = 1

[State 3200, gem_mind]
type = explod
trigger1 = time = 250
anim = 3310
postype = p1
pos = 15,-155
sprpriority = 4
removetime = 565
supermove = 40
pausemovetime = 40
ownpal = 1

[State 3020, Shine]
type = helper
Trigger1 = Time = 289
ID = 6320
pos = 0,0
postype = p1
stateno = 6320
supermovetime = 9999
helpertype = normal
name = ""
ownpal = 0
keyctrl = 0

[State 3200, Time]
type = PlaySnd
trigger1 = time = 310
value = 8000,5

[State 3000, Timebg]
type = Explod
trigger1 = time = 310
anim = 13032
ID = 13032
pos = 0,0
postype = back
bindtime = 999
removetime = 60
supermove = 60
pausemovetime = 60
sprpriority = 9991
ownpal = 1

[State 3000, Gamora]
type = Explod
trigger1 = time = 310
anim = 13011
ID = 13011
pos = 0,0
postype = back
bindtime = 999
removetime = 60
supermove = 60
pausemovetime = 60
sprpriority = 9995
ownpal = 1

[State 3200, Gamora_time]
type = explod
trigger1 = time = 372
anim = 13022
postype = p1
pos = -75,-165
sprpriority = -1
removetime = 443
supermove = 40
pausemovetime = 40
ownpal = 1

[State 3020, ShineTime]
type = helper
Trigger1 = Time = 369 || time = 815
ID = 6340
pos = 0,0
postype = p1
stateno = 6340
supermovetime = 9999
helpertype = normal
name = ""
ownpal = 0
keyctrl = 0

[State 3200, gem_time]
type = explod
trigger1 = time = 370
anim = 3350
postype = p1
pos = -65,-155
sprpriority = 4
removetime = 445
supermove = 40
pausemovetime = 40
ownpal = 1

[State 3020, Shine]
type = helper
Trigger1 = Time = 409
ID = 6320
pos = 0,0
postype = p1
stateno = 6320
supermovetime = 9999
helpertype = normal
name = ""
ownpal = 0
keyctrl = 0

[State 3200, Soul]
type = PlaySnd
trigger1 = time = 430
value = 1510,0

[State 3000, Soulbg]
type = Explod
trigger1 = time = 430
anim = 13033
ID = 13033
pos = 0,0
postype = back
bindtime = 999
removetime = 60
supermove = 60
pausemovetime = 60
sprpriority = 9991
ownpal = 1

[State 3000, Adam]
type = Explod
trigger1 = time = 430
anim = 13012
ID = 13012
pos = 0,0
postype = back
bindtime = 999
removetime = 60
supermove = 60
pausemovetime = 60
sprpriority = 9995
ownpal = 1

[State 3200, Adam_soul]
type = explod
trigger1 = time = 492
anim = 13023
postype = p1
pos = 25,-100
sprpriority = -1
removetime = 323
supermove = 40
pausemovetime = 40
ownpal = 1

[State 3020, ShineSoul]
type = helper
trigger1 = time = 490 || time = 815
ID = 6350
pos = 0,0
postype = p1
stateno = 6350
supermovetime = 9999
helpertype = normal
name = ""
ownpal = 0
keyctrl = 0

[State 3200, gem_soul]
type = explod
trigger1 = time = 490
anim = 33200
postype = p1
pos = 15,-125
sprpriority = 4
removetime = 325
supermove = 40
pausemovetime = 40
ownpal = 1

[State 3020, Shine]
type = helper
Trigger1 = Time = 529
ID = 6320
pos = 0,0
postype = p1
stateno = 6320
supermovetime = 9999
helpertype = normal
name = ""
ownpal = 0
keyctrl = 0

[State 3200, Power]
type = PlaySnd
trigger1 = time = 550
value = 8000,1

[State 3000, Powerbg]
type = Explod
trigger1 = time = 550
anim = 13034
ID = 13034
pos = 0,0
postype = back
bindtime = 999
removetime = 60
supermove = 60
pausemovetime = 60
sprpriority = 9991
ownpal = 1

[State 3000, Drax]
type = Explod
trigger1 = time = 550
anim = 13013
ID = 13013
pos = 0,0
postype = back
bindtime = 999
removetime = 60
supermove = 60
pausemovetime = 60
sprpriority = 9995
ownpal = 1

[State 3200, Drax_Power]
type = explod
trigger1 = time = 612
anim = 13024
postype = p1
pos = -75,-100
sprpriority = -1
removetime = 203
supermove = 40
pausemovetime = 40
ownpal = 1

[State 3020, ShinePower]
type = helper
trigger1 = time = 608 || time = 815
ID = 6360
pos = 0,0
postype = p1
stateno = 6360
supermovetime = 9999
helpertype = normal
name = ""
ownpal = 0
keyctrl = 0

[State 3200, gem_power]
type = explod
trigger1 = time = 610
anim = 3340
postype = p1
pos = -65,-125
sprpriority = 4
removetime = 205
supermove = 40
pausemovetime = 40
ownpal = 1

[State 3020, Shine]
type = helper
Trigger1 = Time = 649
ID = 6320
pos = 0,0
postype = p1
stateno = 6320
supermovetime = 9999
helpertype = normal
name = ""
ownpal = 0
keyctrl = 0

[State 3200, Space]
type = PlaySnd
trigger1 = time = 670
value = 710,0

[State 3000, Spacebg]
type = Explod
trigger1 = time = 670
anim = 13035
ID = 13035
pos = 0,0
postype = back
bindtime = 999
removetime = 60
supermove = 60
pausemovetime = 60
sprpriority = 9991
ownpal = 1

[State 3000, Pip]
type = Explod
trigger1 = time = 670
anim = 13014
ID = 13014
pos = 0,0
postype = back
bindtime = 999
removetime = 60
supermove = 60
pausemovetime = 60
sprpriority = 9995
ownpal = 1

[State 3200, Pip_Space]
type = explod
trigger1 = time = 732
anim = 13025
postype = p1
pos = -25,-85
sprpriority = -1
removetime = 83
supermove = 40
pausemovetime = 40
ownpal = 1

[State 3020, Shinespace]
type = helper
trigger1 = time = 728 || time = 815
ID = 6370
pos = 0,0
postype = p1
stateno = 6370
supermovetime = 9999
helpertype = normal
name = ""
ownpal = 0
keyctrl = 0

[State 3200, gem_space]
type = explod
trigger1 = time = 730
anim = 3360
postype = p1
pos = -25,-105
sprpriority = 4
removetime = 85
supermove = 40
pausemovetime = 40
ownpal = 1

[State 3020, Shine]
type = helper
Trigger1 = Time = 769
ID = 6320
pos = 0,0
postype = p1
stateno = 6320
supermovetime = 9999
helpertype = normal
name = ""
ownpal = 0
keyctrl = 0
 
[State 142, 6]
type = ChangeState 
trigger1 = AnimTime = 0
value = 4101

[Statedef 4101]
type = S
ctrl = 0
anim = 4101
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 3020, 1 Blue Hand Energy Gather]
type = Explod
trigger1 = time = 0
anim = 7015
id = 7015
postype = p1
bindtime = -1
RemoveTime = -2
pos = -35,-130
scale = 0.3,0.3
ontop = 1
ownpal = 1
sprpriority = -1
persistent = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
removeongethit = 1
 
[State 450, 1 Snap]
type = PlaySnd
trigger1 = AnimElem = 2
value = s167,53
channel = -1
volume = 255

[State 3020, 1 Ex Spark]
type = Explod
trigger1 = AnimElem = 2
anim = 7022
id = 7022
postype = p1
bindtime = -1
RemoveTime = -2
pos = -35,-133
scale = 0.3,0.3
ontop = 1
ownpal = 1
sprpriority = -1
persistent = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
removeongethit = 1


[State 0, TargetState]
type = TargetState
trigger1 = AnimElem = 2
value =3921


[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 4102 

[Statedef 4102]
type = S
ctrl = 0
anim = 4102
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, TargetState]
type = TargetState
triggerall = NumTarget;()
trigger1 = time = 0
value =3920

[State 3000,]
type = screenbound
trigger1 = 1
value = 0
movecamera = 1,1

[State 195, 1]
type = playsnd
trigger1 = animelem = 1
value = 1000,130
volumescale = 300

[state 0]
type = removeExplod
trigger1 = time = 40
ID = 13000

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 3953
ID = 3956
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
removetime = -2
scale = 500,500
sprpriority = 198
shadow = 0,0,0
ownpal = 1
 
[State 0, Explod]
type = Explod
trigger1 = time%1 = 0
trigger1 = time = [40,140]
anim = 3955
ID = 3956
pos = 0,-30
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = -2,-2
random = 20,70
removetime = -2
scale = 0.16,0.16
sprpriority = 202
shadow = 0,0,0
ownpal = 1
supermovetime=909
pausemovetime=909

[State 0, Explod]
type = Explod
trigger1 = time%1 = 0
trigger1 = time = [40,180]
anim = 3956
ID = 3956
pos = -30,-30
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
random = 200,100
removetime = -2
scale = 0.4,0.4
sprpriority = 200
shadow = 0,0,0
ownpal = 1
supermovetime=909
pausemovetime=909

[State 0, Explod]
type = Explod
trigger1 = time%1 = 0
trigger1 = time = [40,180]
anim = 3956
ID = 3956
pos = -30,-30
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
random = 200,100
removetime = -2
scale = 0.4,0.4
sprpriority = 200
shadow = 0,0,0
ownpal = 1
supermovetime=909
pausemovetime=909

[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 0
time = 40
sinadd = -256,-256,-256,140
color = 256
[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 40
time = 203
mul= 0,0,0
color = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic

[State 3000, Super D]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1200, 6]
type = removeexplod
trigger1 = time= 0
id = 6621

[State 1, 3]
type = playsnd
trigger1 = time = 0
value = 2000, 0

[State 621, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 621, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3000, 3]
type = envcolor
trigger1 = Time = 240
time = 30
value = 255,255,255
under = 0
ignorehitpause = 1
persistent = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 241
id = 3956

;------------------------------------------------------------------------------------------------------
[State 3000, VarSet] ;Dont delete this code part of hyper combo this ends the blue hyper background
type = VarSet
trigger1 = Time = 240
var(4) = 0

[State 195, 2]
type = ChangeState
trigger1 = Time = 241
value = 0
ctrl = 1

[Statedef 3905 - Cosmic Fall P2]
type    = U
movetype= H
physics = U
velset = 0,0

[State 0,]
type = Turn
trigger1 = facing * enemynear(0),facing = 1
 
[State 8999, Anim]
type = ChangeAnim
trigger1 = time=0
value = 5300

[State 0, SelfState]
type = SelfState
trigger1 = !alive
value =5050

[State 8999, State]
type = selfstate
trigger1 = time = 600
value = 0
ctrl=1

[Statedef 3920 - Snapped P2]
type    = A
movetype= H
physics = N
sprpriority = 199 

[State 0, Trans]
type = Trans
trigger1 = time > 104
trans = addalpha
alpha = 256-(time*4)+416,0+(time*4-416)


[State 1403, 2] 
type = ChangeAnim2
trigger1 = Time = 0
value = 5000

[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 0
time = 40
sinadd = -256,-256,-256,140
color = 256
[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 40
time = -1
mul= 0,0,0

[State 3000,]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0,0

[State 1403,1]
type = Velset
trigger1 = 1
x = 0
y = 0

[State 0, LifeSet]
type = LifeSet
trigger1 = time = 182
value = 0

[State 1403,1]
type = posset
trigger1 = time > 182
trigger1 = alive
y = -1000

[State 1403,1]
type = posset
trigger1 = time > 182
trigger1 = !alive
y = 9999

[State 1403,]
type = PlayerPush
trigger1 = 1
value = 0

[State 1403,1]
type = changestate
trigger1 = time > 222
trigger1 = alive
value = 5050

[State 1403,1]
type = changestate
trigger1 = time > 222
trigger1 = !alive
value = 5150

[Statedef 3921 - Snapped P2]
type    = A
movetype= H
physics = N
sprpriority = 199 
 
[State 1403, 2] 
type = ChangeAnim2
trigger1 = Time = 0
value = 5000

[Statedef 6300 - Snap Helper]
ctrl = 0
anim = 8055084

[State 3019, Assert]
type = AssertSpecial
trigger1 = Time <= 30
flag = NoFG
flag2 = NoBarDisplay
flag3 = GlobalNoShadow

[State 3019, PalFX]
type = AllPalFX
trigger1 = Time >= 0
time = 1
color = 256-(time*4)
add = 130+(time*9), 130+(time*9), 130+(time*9)
ignorehitpause = 1


[State 3019, 1]
type = DestroySelf
trigger1 = Time >= 30

[Statedef 6310]
physics = N
sprpriority = 9999
anim = 8055084

[State 3200, explod reality]
type = explod
trigger1 = time = 1
anim = 13050
ID = 13050
postype = p1
pos = -25,-175
sprpriority = 9999
removetime = 20
pausemovetime = 20
ownpal = 1

[State 4210, shrink]
type = modifyexplod
trigger1 = time = [1,20]
ID = 13050
scale = 0.5 + (time - 8) * 0.3, (28.1 - time * 2) * 0.1 ;scale = .5+(.1*time),.1+(.02*time)


[State 4210, end]
type = destroyself
trigger1 = time >= 20

[Statedef 6320]
ctrl = 0
anim = 8055084

[State 3019, Assert]
type = AssertSpecial
trigger1 = Time <= 20
flag = NoFG
flag2 = NoBarDisplay
flag3 = GlobalNoShadow

[State 3019, PalFX]
type = AllPalFX
trigger1 = Time >= 0
time = 1
color = 256-(time*4)
add = 130+(time*9), 130+(time*9), 130+(time*9)
ignorehitpause = 1

[State 3019, 1]
type = DestroySelf
trigger1 = Time >= 20

[Statedef 6330]
physics = N
sprpriority = 9999
anim = 8055084

[State 3200, explod mind]
type = explod
trigger1 = time = 1
anim = 13051
ID = 13051
postype = p1
pos = 15,-155
sprpriority = 9999
removetime = 20
pausemovetime = 20
ownpal = 1

[State 4210, shrink]
type = modifyexplod
trigger1 = time = [1,20]
ID = 13051
scale = 0.5 + (time - 8) * 0.3, (28.1 - time * 2) * 0.1 ;scale = .5+(.1*time),.1+(.02*time)

[State 4210, end]
type = destroyself
trigger1 = time >= 20

[Statedef 6340]
physics = N
sprpriority = 9999
anim = 8055084

[State 3200, explod time]
type = explod
trigger1 = time = 1
anim = 13052
ID = 13052
postype = p1
pos = -65,-155
sprpriority = 9999
removetime = 20
pausemovetime = 20
ownpal = 1

[State 4210, shrink]
type = modifyexplod
trigger1 = time = [1,20]
ID = 13052
scale = 0.5 + (time - 8) * 0.3, (28.1 - time * 2) * 0.1 ;scale = .5+(.1*time),.1+(.02*time)

[State 4210, end]
type = destroyself
trigger1 = time >= 20

[Statedef 6350]
physics = N
sprpriority = 9999
anim = 8055084

[State 3200, explod Soul]
type = explod
trigger1 = time = 1
anim = 13053
ID = 13053
postype = p1
pos = 15,-108
sprpriority = 9999
removetime = 20
pausemovetime = 20
ownpal = 1

[State 4210, shrink]
type = modifyexplod
trigger1 = time = [1,20]
ID = 13053
scale = 0.5 + (time - 8) * 0.3, (28.1 - time * 2) * 0.1 ;scale = .5+(.1*time),.1+(.02*time)

[State 4210, end]
type = destroyself
trigger1 = time >= 20

[Statedef 6360]
physics = N
sprpriority = 9999
anim = 8055084

[State 3200, explod Power]
type = explod
trigger1 = time = 1
anim = 13054
ID = 13054
postype = p1
pos = -65,-125
sprpriority = 9999
removetime = 20
pausemovetime = 20
ownpal = 1

[State 4210, shrink]
type = modifyexplod
trigger1 = time = [1,20]
ID = 13054
scale = 0.5 + (time - 8) * 0.3, (28.1 - time * 2) * 0.1 ;scale = .5+(.1*time),.1+(.02*time)

[State 4210, end]
type = destroyself
trigger1 = time >= 20

[Statedef 6370]
physics = N
sprpriority = 9999
anim = 8055084

[State 3200, explod Space]
type = explod
trigger1 = time = 1
anim = 13055
ID = 13055
postype = p1
pos = -25,-105
sprpriority = 9999
removetime = 20
pausemovetime = 20
ownpal = 1

[State 4210, shrink]
type = modifyexplod
trigger1 = time = [1,20]
ID = 13055
scale = 0.5 + (time - 8) * 0.3, (28.1 - time * 2) * 0.1 ;scale = .5+(.1*time),.1+(.02*time)

[State 4210, end]
type = destroyself
trigger1 = time >= 20

;----------------------------------------------------------------------------
[Statedef 9000] 
type = A
movetype = H
physics = N
sprpriority = 4
velset = 0,0
ctrl = 0

[State 820, 1]
type = changestate
triggerall = time < 4
triggerall = command = "holdfwd" || command = "holdback"
trigger1 = command = "y"
trigger2 = command = "z"
trigger3 = command = "b"
trigger4 = command = "c"
value = 200020
;persistent = 0

[State 9000, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 9000, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 9000
 

[Statedef 9001] 
type = A
movetype = H
physics = N
sprpriority = 0
velset = -8,-8
ctrl = 0
anim = 5030

[State 9001, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 9001, ChangeAnim2]
type = ChangeAnim
trigger1 = anim = 5030 && selfanimexist(5035) && animtime = 0
value = 5035

[State 9001, ChangeAnim2]
type = ChangeAnim
trigger1 = anim = 5030 && !selfanimexist(5035) && animtime = 0
trigger2 = anim = 5035 && animtime = 0
value = 5050

[State 9001, VelAdd]
type = VelAdd
trigger1 = 1
y = .52

[State 9001, SelfState]
type = SelfState
trigger1 = pos y >= 0 && vel y > 0
value = 5100;ifelse(alive,5040,5050)

[Statedef 9100] 
type = A
movetype = H
physics = N
sprpriority = 1
velset = 0,0
ctrl = 0

[State 9040, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 9040, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 9100

[State 9040, OffSet]
type = OffSet
trigger1 = time%2 = 0 && animelem = 2,>= 0
x = -1
 
[Statedef 9101] 
type = A
movetype = H
physics = N
sprpriority = 1
velset = -6,-12
ctrl = 0
anim = 5030

[State 9041, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 9041, ChangeAnim2]
type = ChangeAnim
trigger1 = anim = 5030 && selfanimexist(5035) && animtime = 0
value = 5035

[State 9041, ChangeAnim2]
type = ChangeAnim
trigger1 = anim = 5030 && !selfanimexist(5035) && animtime = 0
trigger2 = anim = 5035 && animtime = 0
value = 5050

[State 9041, VelAdd]
type = VelAdd
trigger1 = 1
y = .52

[State 9041, SelfState]
type = SelfState
trigger1 = pos y >= 0 && vel y > 0
value = 5100;ifelse(alive,5040,5050)

;------------------------------------------------------------------------------------------------
;Flames on P2
[statedef 1905]
ctrl = 0
anim = 10020

[State 7180, flames]
type=explod
trigger1= 1
anim=3010
ID=7203
sprpriority=4
postype=p2
vel=-.2,-.75
pos=(enemynear,const(size.mid.pos.x)),(enemynear,const(size.mid.pos.y))+10
random=60,60
removetime=-2
scale=.45,.45

[State 0, DestroySelf]
type = DestroySelf
trigger1 = numhelper(1905) > 1

[State 7180, pos]
type=posadd
triggerall = anim=3010
trigger1= 1
x=ceil(p2dist x)
y=ceil(p2dist y)

[State 0, DestroySelf]
type = DestroySelf
trigger1 = (enemynear,ctrl) || (enemynear,movetype!=H) || (enemynear,statetype=L)

 


[Statedef 0]
type = S
physics = S
sprpriority = 0
velset = 0,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 0 && anim != 5
trigger2 = anim = 5 && animtime = 0
value = 0
 
; Stand to Crouch 
[Statedef 10]
type    = C
physics = C
anim = 10

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 10, ChangeAnim]
type = ChangeState
trigger1 = animtime = 0
value = 11
 
; Walk 
[Statedef 20]
type    = S
physics = S
sprpriority = 0

[State 20, VelSet]
type = VelSet
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x)

[State 20, VelSet]
type = VelSet
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)

[State 20, VelMul]
type = VelMul
trigger1 = var(51) = 1
x = 1.3

[State 20, ChangeAnim]
type = ChangeAnim
trigger1 = vel x > 0 &&  anim != 20
value = 20

[State 20, ChangeAnim]
type = ChangeAnim
trigger1 = vel x < 0 &&  anim != 21
value = 21
 
; Jump Start 
[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1
velset = 0,0
facep2 = 1

[State 40, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 40, VarSet]
type = VarSet
trigger1 = time = 1
sysvar(1) = ifelse(command = "holdfwd",1,ifelse(command = "holdback", -1, 0))

[State 40, VarSet]
type = VarSet
trigger1 = time = 0 && var(6) < 2
var(1) = command = "highjump" || prevstateno = [200,600)

[State 40, VarSet]
type = VarSet
trigger1 = time = 0
var(2) = 1

[State 40, VarSet]
type = VarSet
trigger1 = time = 0
var(3) = 1

[State 40, VarSet]
type = VarSet
trigger1 = time = 0 && var(1)
fvar(1) = -.155

[State 40, VelSet]
type = VelSet
trigger1 = animtime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = ifelse(!var(1),const(velocity.jump.y),-16)

[State 40, VelSet]
type = VelSet
trigger1 = animtime = 0
trigger1 = prevstateno = 101
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, Explod]
type = Explod
trigger1 = animtime = -1
trigger1 = var(1)
anim = 8250
id = 8250
sprpriority = 4
supermove = 1
ownpal = 1

[State 40, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1

[Statedef 44]
type = A
movetype= I
physics = A
anim = 80

[State 44, 1]
type = ChangeState
trigger1 = sysvar(1) = 1
value = 0
ctrl = 1
 
; AirJump Start 
[Statedef 45]
type    = A
physics = A
velset = 0,0

[State 40, VarSet]
type = VarSet
trigger1 = time = 0
sysvar(1) = ifelse(command = "holdfwd",1,ifelse(command = "holdback", -1, 0))

[State 40, VarSet]
type = VarSet
trigger1 = time = 0
var(1) = 0

[State 40, VarAdd]
type = VarAdd
trigger1 = time = 0
var(2) = -1

[State 40, VarSet]
type = VarSet
trigger1 = time = 0
var(3) = 1

[State 40, VelSet]
type = VelSet
trigger1 = Time = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 50, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))
 
; Jump Up 
[Statedef 50]
type    = A
physics = A
anim = 41

[State 50, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger1 = var(1)
value = 0,2

[State 50, VarSet]
type = VarSet
trigger1 = time = 0
sysvar(1) = 0

[State 50, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))+var(1)*3
 
; Jump Land 
[Statedef 52]
type    = S
physics = S
anim = 47
velset = 0,0
ctrl = 1

[State 52, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,0

[State 52, VelSet]
type = VelSet
trigger1 = time = 0
y = 0

[State 52, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 52, Helper]
type = Helper
trigger1 = time = 0
stateno = 8200

[State 52, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
 
; RUN_FWD 
	
[Statedef 100] 
type    = S
physics = S
anim = 100
sprpriority = 1
velset = 0,0
ctrl = 0

[State 100, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 101
 
[Statedef 101] 
type    = S
physics = N
anim = 101
sprpriority = 1
velset = const(velocity.run.fwd.x),0

[State 101, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,1

[State 101, Explod]
type = Explod
trigger1 = time % 5 = 0
anim = 8100
ownpal = 1
sprpriority = 4
random = 30,abs(const(size.head.pos.y))
pos = -30,ceil(const(size.mid.pos.y))

[State 101, ChangeState]
type = ChangeState
trigger1 = time = 30
value = 102
 
[Statedef 102] 
type    = S
physics = S
anim = 102
sprpriority = 1

[State 102, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
  
[Statedef 105] 
type    = S
physics = S
anim = 105
sprpriority = 1
velset = 0,0
ctrl = 0

[State 105, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 106
 
[Statedef 106] 
type    = A
physics = A
anim = 106
sprpriority = 1

;[State 106, VelMul]
;type = VelMul
;trigger1 = animelem = 4,< 0
;x = .94

[State 101, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,1

[State 101, Explod]
type = Explod
trigger1 = time % 5 = 0
anim = 8100
ownpal = 1
sprpriority = 4
random = 30,abs(const(size.head.pos.y))
pos = 30,ceil(const(size.mid.pos.y))

[State 105, 1]
type = VelSet
trigger1 = Time = 0
x = const(velocity.run.back.x)
y = const(velocity.run.back.y)

[State 106, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0 
value = 107
 
[Statedef 107] 
type    = S
physics = S
anim = 107
sprpriority = 1

[State 107, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 52



;----------------------------------------------------
[Statedef 100000]
type = A
physics = N
anim = 100001 ; What You Want The Dash Anim To Be.
ctrl = 0

[State 101, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,1

[State 101, Explod]
type = Explod
trigger1 = time % 5 = 0
anim = 8100
ownpal = 1
sprpriority = 4
random = 30,abs(const(size.head.pos.y))
pos = -30,ceil(const(size.mid.pos.y))

[State 100, 1]
type = VelSet
trigger1 = 1
x = 7
y = 0

[State 100, 1]
type = VelSet
trigger1 = time = 11
x = -2
y = 2

[State 100, assert]
type = AssertSpecial
trigger1 = time = [1,14]
flag = NoAirguard

[State 940, ChangeState]
type = ChangeState
trigger1 = Time = 15
value = 100002 ; Your Falling....
ctrl = 0

; Back Dash
[Statedef 100001]
type = A
physics = N
anim = 106
ctrl = 0

[State 101, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,1

[State 101, Explod]
type = Explod
trigger1 = time % 5 = 0
anim = 8100
ownpal = 1
sprpriority = 4
random = 30,abs(const(size.head.pos.y))
pos = 30,ceil(const(size.mid.pos.y))

[State 100, 1]
type = VelSet
trigger1 = 1
x = -7
y = 0

[State 100, 1]
type = VelSet
trigger1 = time = 11
x = 2
y = 2

[State 100, assert]
type = AssertSpecial
trigger1 = time = [1,14]
flag = NoAirguard

[State 940, ChangeState]
type = ChangeState
trigger1 = Time = 15
value = 100002
ctrl = 0

; Where My Vels At?
[Statedef 100002]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 0, PlaySnd]
type = stopsnd
trigger1 = prevstateno = 100000
channel = 2

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))



[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = 48;Anim + 3
;--------------------------------------


;----------------------------------------------------------------------------------  
; Guard-Push
[Statedef 160]
type    = U
movetype= H
physics = N
velset = 0,0
anim = 160 + (statetype = C) + 2*(statetype = A)
faceP2 = 1

[State 160, Voice]
type = null;PlaySnd
trigger1 = AnimElem = 2 && Random < 500
value = 10,25+Random%3
channel = 0

[State buffer reset]
type = VarSet
trigger1 = Time = 0
var(11) = 0

[State Push-Spark]
type = Explod
triggerall = StateType = S
;triggerall = StateType = S||StateType = A
trigger1 = Time = 0
anim = 8060
id = 8060
pos = 50,-60
postype = p1
bindtime = 1
ownpal = 1
facing = 1
sprpriority = 3
ignorehitpause = 1

[State Push-Spark]
type = Explod
triggerall = StateType = A
trigger1 = Time = 0
anim = 8060
id = 8060
pos = 50,-80
postype = p1
bindtime = 1
ownpal = 1
facing = 1
sprpriority = 3
ignorehitpause = 1

[State Push-Spark]
type = Explod
triggerall = StateType = C
trigger1 = Time = 0
anim = 8060
id = 8060
pos = 50,-30
postype = p1
bindtime = 1
ownpal = 1
facing = 1
sprpriority = 3
ignorehitpause = 1

[State Push-Helper]
type = Helper
trigger1 = Time = 0
stateno = 165
id = 165
pos = 0,0
postype = p1
facing = 1
ignorehitpause = 1

[State 160, 0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 25

[State 160, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(statetype = S,0,ifelse(statetype=C,11,51))
ctrl = 1
anim = ifelse(statetype = S,0,ifelse(statetype=C,11,163))

;---------------------------------------------------------------------------
; Guard-Push Helper
[Statedef 165]
type    = A
movetype= I
physics = N
velset = 16,0
anim = 8061

[State 245, 2]
type = PlaySnd
trigger1 = Time = 0
value = 0,10

[State 160, 0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 160, 0]
type = PlayerPush
trigger1 = 1
value = 1

[State 160, 0]
type = DestroySelf
trigger1 = Time = 20

;-----------------------------------------------------------------------------------
; HIT_FALLRECOVER (on the ground) 
[Statedef 5201]
type    = C
movetype= H
physics = N
anim = ifelse(prevstateno=5200,5200,5201)
facep2 = 1
sprpriority = -1

[State 5201, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 5201, VelSet]
type = VelSet
trigger1 = time = 0
x = ifelse(anim=5200,8,-4)
y = 0

[State 5201, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5201, PlayerPush]
type = PlayerPush
trigger1 = anim = 5200
value = 0

[State 5201, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
 
; Initialize (at the start of the round) 
[Statedef 5900]
type = S

; Like in vs Series, you always start with 1 power stock...
[State 190, PowerAdd]
type = PowerSet
triggerall = Roundno = 1
trigger1 = time = 0
value = 1000


[State 5900, VarRangeSet] ;Clear all int variables
type = VarRangeSet
trigger1 = roundsexisted = 0  && roundno >= 1
value = 0
first = 1
last = 59

[State 5900, VarRangeSet] ;Clear all float variables
type = VarRangeSet
trigger1 = roundsexisted = 0  && roundno >= 1
fvalue = 0

[State 0, VarSet]
type = VarSet
trigger1 = Partner,name = "WereGarurumon by TGM" && partner,authorname = "DarkWolf13-MvC2"
trigger2 = Partner,name = "WereGarurumon by TGM" && partner,authorname = "DarkWolf13"
trigger3 = Partner,name = "WereGarurumon"
var(29) = 1


; NEW !! Tag active definer
[State -2, def]
type = VarSet
triggerall = Partner,Authorname = "mouser-MvC2" || Partner,authorname = "DarkWolf13-MvC2"
trigger1 = teammode = simul || teammode = turns
trigger1 = roundstate < 1
trigger1 = time = [0,1]
var(33) = 1

[State -2, def]
type = VarSet
trigger1 = partner,Authorname != "mouser-MvC2" && Partner,authorname != "DarkWolf13-MvC2"
trigger2 = teammode = single
trigger2 = roundstate < 1
trigger2 = time = [0,1]
var(33) = 0


[State 5900, Helper]
type = Helper
trigger1 = roundsexisted = 0
stateno = 9999

[State 5900, VarSet]
type = VarSet
trigger1 = roundsexisted = 0
var(0) = 0

[State 5900, VarSet]
type = VarSet
trigger1 = roundsexisted = 0
var(5) = 5068355

[State 5900, VarSet]
type = VarSet
trigger1 = time = 0
var(12) = 0

[State 5900, ChangeState] ;Intro for round 1
type = ChangeState
trigger1 = roundno = 1
value = 190

[State 5900, ChangeState] ;Intro for round 1
type = ChangeState
triggerall = !Roundsexisted && Teammode = turns
trigger1 = roundno != 1
value = 190

[State 5900, ChangeState] ;Intro for round 1
type = ChangeState
triggerall  = roundsexisted
trigger1 = roundno != 1
value = 21

;---------------------------------------------------------------------------
; Roll Backwards
[StateDef 5121]
Type = C
MoveType = I
Physics = N
PowerAdd = 0
VelSet = 0,0
Ctrl = 0
SprPriority = -2


[State 5121, 0-4] ;Get up Anim (Normal)
Type = ChangeAnim
Trigger1 = Time = 0
Value = 7700

[State 5121, 1]
Type = LifeSet
Trigger1 = Alive
Trigger1 = Life <= 0
Value = 1

[State 5121, 2]
Type = PlaySnd
TriggerAll = Alive = 1
triggerall = random % 10 < 5
Trigger1 = Time = 2
Value = 190,3;50,4
Channel = 0

[State 5121, 4]
Type = PlayerPush
Trigger1 = Time >= 0
Value = 0

[State 5121, 5]
Type = VelSet
Trigger1 = AnimElemTime(4) < 0
X = -6;-4

[State 5121, 6]
Type = VelSet
Trigger1 = AnimElemTime(4) >= 0
X = 0

[State 5121, 7]
Type = PosSet
Trigger1 = Time >= 0
Y = 0

[State 5121, 8]
Type = NotHitBy
Trigger1 = 1
Value = SCA,AA,AP,AT
Time = 24

[State 5121, 9]
Type = NotHitBy
Trigger1 = 1
Value2 = SCA,AA,AP,AT
Time = 24

[State 5121, 10]
Type = SelfState
Trigger1 = AnimTime = 0 
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; Roll Forward
[StateDef 5122]
Type = C
MoveType = I
Physics = N
PowerAdd = 0
VelSet = 0,0
Ctrl = 0
SprPriority = -2


[State 5122, 0-4] ;Get up Anim (Normal)
Type = ChangeAnim
Trigger1 = Time = 0
Value = 7701

[State 5122, 1]
Type = LifeSet
Trigger1 = Alive
Trigger1 = Life <= 0
Value = 1

[State 5121, 2]
Type = PlaySnd
TriggerAll = Alive = 1
triggerall = random % 10 < 5
Trigger1 = Time = 2
Value = 190,3;50,4
Channel = 0

[State 5122, 4]
Type = PlayerPush
Trigger1 = Time >= 0
Value = 0

[State 5122, 5]
Type = VelSet
Trigger1 = AnimElemTime(1) >= 0
Trigger1 = AnimElemTime(3) < 0
X = 6

[State 5122, 6]
Type = VelSet
Trigger1 = AnimElemTime(3) >= 0
Trigger1 = AnimElemTime(8) < 0
X = 3

[State 5122, 7]
Type = VelSet
Trigger1 = AnimElemTime(8) >= 0
X = 0

[State 5122, 8]
Type = PosSet
Trigger1 = Time >= 0
Y = 0

[State 5122, 9]
Type = NotHitBy
Trigger1 = 1
Value = SCA,AA,AP,AT
Time = 30

[State 5122, 10]
Type = NotHitBy
Trigger1 = 1
Value2 = SCA,AA,AP,AT
Time = 30

[State 5122, 11]
Type = SelfState
Trigger1 = AnimTime = 0 
Value = 0
Ctrl = 1


;---------------------------------------------------------------------	
; ターゲットリカバー 
[Statedef 9900]
type = A
movetype = H
physics = N

[State 9900, SelfState]
type = SelfState
trigger1 = 1
value = ifelse(alive,5040,5050)
 
; ターゲットダウン追撃復帰 
[Statedef 9901]
type = A
movetype = H
physics = N

[State 9901, SelfState]
type = SelfState
trigger1 = 1
value = ifelse(alive,5201,5050)
 
; ターゲットバウンド 
[Statedef 9910]
type = A
movetype = H
physics = N
ctrl = 0
facep2 = 1

[State 9910, SelfState]
type = SelfState
trigger1 = !alive
value = 5050

[State 9910, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5040

[State 9910, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 9910, VelSet]
type = VelSet
trigger1 = time = 0
x = -6
y = -6

[State 9910, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 9910, NotHitBy]
type = NotHitBy
trigger1 = pos y >= 0 && vel y > 0
value = SCA
time = 3

[State 9910, VelAdd]
type = VelAdd
trigger1 = 1
y = .82;gethitvar(yaccel)

[State 9910, SelfState]
type = SelfState
trigger1 = pos y >= 0 && vel y > 0
value = 52
 
; スーパーコンボ演出(ヘルパー) 
	 
[Statedef 8500] 
type = A
physics = N
anim = 9999
velset = 0,0
ctrl = 0

[State 8500, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1,0

[State 8500, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg

[State 8500, EnvColor]
type = EnvColor
trigger1 = time < 37
value = 0,0,0
under = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = 8500
id = 8500
bindtime = -1
removetime = -1
ontop = 1
supermove = 1
ownpal = 1
scale = 1.1,1.1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = 8900+root,var(0)
sprpriority = -1
pos = 0,120
postype = back
under = 1
supermove = 1
bindtime = 6
removetime = 37
vel = -0.09,0
scale = 1,1
ID = 8900
ownpal = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = f9951
sprpriority = -2
postype = left
under = 1
supermove = 1
bindtime = -1
removetime = 37
scale = 1,1
ownpal = 1


[State 9999,0]
type = ModifyExplod
trigger1 = time = [0,6]
ID = 8900
scale = .75- (.0415*time), .75- (.0415*time)
sprpriority = -1
under = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 37
trigger2 = time > 37 && root,var(4) = 1 && !numexplod(8505)
anim = 8505
id = 8505
postype = left
bindtime = -1
removetime = -1
sprpriority = -3
ownpal = 1

[State 8500, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(4) = 0 || root,var(4) = 2
trigger2 = root,movetype = H
trigger3 = time >= 37 && roundstate > 2
id = 8505

[State 8500, ChangeState]
type = ChangeState
triggerall = root,WinKO
trigger1 = time >= 37 && roundstate > 2
value = 8510

[State 8500, DestroySelf]
type = DestroySelf
trigger1 = root,var(4) = 0
trigger2 = root,movetype = H
 
[Statedef 8510] 
type = A
physics = N
anim = 9999
velset = 0,0
ctrl = 0

[State 8510, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1,4

[State 8510, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 2,12

[State 8510, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = nomusic

; [State 8510, AssertSpecial]
; type = AssertSpecial
; trigger1 = (StageVar(Info.Name) != "Absolute Cloud-Night")
; flag = nomusic

[State 8510, Explod]
type = Explod
trigger1 = time = 0
anim = 8510
id = 8510
postype = left
bindtime = -1
sprpriority = -3
ownpal = 1

[State 8510, DestroySelf]
type = DestroySelf
trigger1 = !numexplod(8510)
  
; アドバンシングガード(ヘルパー) 
[Statedef 8060]
type = A
physics = N
anim = 8061
velset = -14,0
ctrl = 0

[State 8060, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,10

[State 8060, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 8060, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 8060, DestroySelf]
type = DestroySelf
trigger1 = time = 16;24
 
; 電撃ヒット 
[Statedef 8030]
type = A
movetype = H
physics = N
anim = 9999

[State 8030, VarSet]
type = VarSet
trigger1 = time = 0
trigger1 = root,numtarget
var(0) = root,var(7)

[State 8030, DestroySelf]
type = DestroySelf
trigger1 = !root,numtarget
trigger2 = !playeridexist(var(0))
trigger3 = time = 32

[State 8030, PosAdd]
type = PosAdd
trigger1 = playeridexist(var(0))
x = -(pos x-playerid(var(0)),pos x)*facing
y = -(pos y-playerid(var(0)),pos y)

[State 8030, Explod]
type = Explod
trigger1 = time%6=0
trigger1 = playeridexist(var(0))
anim = 8030+random%4+(random%2)*5
pos = 0,playerid(var(0)),const(size.mid.pos.y)
random = 60,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*1.5))
sprpriority = 4
ownpal = 1
bindtime = -1
 
; 炎ヒット 
[Statedef 8040]
type = A
movetype = H
physics = N
anim = 9999

[State 8040, VarSet]
type = VarSet
trigger1 = time = 0
trigger1 = root,numtarget
var(0) = root,var(7)

[State 8040, VarSet]
type = VarSet
trigger1 = time = 0
var(1) = random%2

[State 8040, DestroySelf]
type = DestroySelf
trigger1 = !root,numtarget
trigger2 = !playeridexist(var(0))
trigger3 = time = 8

[State 8040, PosAdd]
type = PosAdd
trigger1 = playeridexist(var(0))
x = -(pos x-playerid(var(0)),pos x)*facing
y = -(pos y-playerid(var(0)),pos y)

[State 8040, Explod]
type = Explod
trigger1 = time = 0
trigger1 = playeridexist(var(0))
anim = 8040+var(1)
pos = 20,playerid(var(0)),const(size.mid.pos.y)
random = 50,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*2))
sprpriority = 4
ownpal = 1
scale = 1.5,1.5

[State 8040, Explod]
type = Explod
trigger1 = time = 0
trigger1 = playeridexist(var(0))
anim = 8040+var(1)
pos = 20,playerid(var(0)),const(size.mid.pos.y)
random = 50,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*1.5))
sprpriority = 4
ownpal = 1
scale = 1.5,1.5

[State 8040, Explod]
type = Explod
trigger1 = time = 0
trigger1 = playeridexist(var(0))
anim = 8040+var(1)
pos = 20,playerid(var(0)),const(size.mid.pos.y)
random = 50,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*1.5))
sprpriority = 4
ownpal = 1
scale = 1.5,1.5

[State 8040, Explod]
type = Explod
trigger1 = time = 0
trigger1 = playeridexist(var(0))
anim = 8040+var(1)
pos = 20,playerid(var(0)),const(size.mid.pos.y)
random = 50,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*1.5))
sprpriority = 4
ownpal = 1
scale = 1.5,1.5
 
; 炎ヒット(青) 
[Statedef 8045]
type = A
movetype = H
physics = N
anim = 9999

[State 8045, VarSet]
type = VarSet
trigger1 = time = 0
trigger1 = root,numtarget
var(0) = root,var(7)

[State 8045, VarSet]
type = VarSet
trigger1 = time = 0
var(1) = random%2

[State 8045, DestroySelf]
type = DestroySelf
trigger1 = !root,numtarget
trigger2 = !playeridexist(var(0))
trigger3 = time = 8

[State 8045, PosAdd]
type = PosAdd
trigger1 = playeridexist(var(0))
x = -(pos x-playerid(var(0)),pos x)*facing
y = -(pos y-playerid(var(0)),pos y)

[State 8045, Explod]
type = Explod
trigger1 = time = 0
trigger1 = playeridexist(var(0))
anim = 8045+var(1)
pos = 0,playerid(var(0)),const(size.mid.pos.y)
random = 80,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*2))
sprpriority = 4
ownpal = 1
scale = 1.5,1.5

[State 8045, Explod]
type = Explod
trigger1 = time = 0
trigger1 = playeridexist(var(0))
anim = 8045+var(1)
pos = 0,playerid(var(0)),const(size.mid.pos.y)
random = 60,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*1.5))
sprpriority = 4
ownpal = 1
scale = 1.5,1.5

[State 8045, Explod]
type = Explod
trigger1 = time = 0
trigger1 = playeridexist(var(0))
anim = 8045+var(1)
pos = 0,playerid(var(0)),const(size.mid.pos.y)
random = 60,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*1.5))
sprpriority = 4
ownpal = 1
scale = 1.5,1.5

[State 8045, Explod]
type = Explod
trigger1 = time = 0
trigger1 = playeridexist(var(0))
anim = 8045+var(1)
pos = 0,playerid(var(0)),const(size.mid.pos.y)
random = 60,ceil(abs(playerid(var(0)),const(size.mid.pos.y)*1.5))
sprpriority = 4
ownpal = 1
scale = 1.5,1.5
 
; 着地エフェクト 
[Statedef 8200]
type = A
movetype = H
physics = N
anim = 9999

[State 8200, Explod]
type = Explod
trigger1 = time = 0
anim = 8200
scale = 2,2
sprpriority = 4
ownpal = 1

[State 8200, Explod]
type = Explod
trigger1 = time = 0
anim = 8200
scale = 2,2
pos = 16,0
vel = 4,0
sprpriority = 4
ownpal = 1

[State 8200, Explod]
type = Explod
trigger1 = time = 0
anim = 8200
pos = -16,0
vel = -4,0
scale = 2,2
sprpriority = 4
ownpal = 1

[State 8200, DestroySelf]
type = DestroySelf
trigger1 = time = 0
 
; TIMEゲージ 
[Statedef 8580]
type    = A
movetype = I
physics = N
anim = 9999
velset = 0,0
ctrl = 0

[State 8580, Explod]
type = Explod
trigger1 = teamside = 1
anim = 8580
scale = .5,.5
ontop = 1
ownpal = 1
postype = left
pos = floor(root,fvar(3)),floor(root,fvar(4))+14*root,var(16)
pausemovetime = 99999999
supermovetime = 99999999

[State 8580, Explod]
type = Explod
trigger1 = teamside = 1
trigger1 = root,var(12) > 0
anim = 8582
scale = (root,var(12)/480.0)*.5,.5
ontop = 1
ownpal = 1
postype = left
pos = floor(root,fvar(3)),floor(root,fvar(4))+14*root,var(16)
pausemovetime = 99999999
supermovetime = 99999999

[State 8580, Explod]
type = Explod
trigger1 = teamside = 2
anim = 8581
scale = .5,.5
ontop = 1
ownpal = 1
postype = right
pos = -floor(root,fvar(3)),floor(root,fvar(4))+14*root,var(16)
pausemovetime = 99999999
supermovetime = 99999999

[State 8580, Explod]
type = Explod
trigger1 = teamside = 2
trigger1 = root,var(12) > 0
anim = 8583
scale = (root,var(12)/480.0)*.5,.5
ontop = 1
ownpal = 1
postype = right
pos = -floor(root,fvar(3)),floor(root,fvar(4))+14*root,var(16)
pausemovetime = 99999999
supermovetime = 99999999

[State 8580, DestroySelf]
type = DestroySelf
trigger1 = root,var(12) = 0
  
;This code is taken care of and dont need to change. All you need to do is add extra stuff from other specials or hypers
;Go to Statedef -3 to change values for P1 get hit sounds. Dont forget to modify Cheap KO in the common section.

[Statedef -2] 

;#ADD004BASIC PIEs#
;//==========================
;// add004-sctrls-start
;//==========================
;sys::-2::partners_standby ; ???????
[state 0]
	type=selfstate
	value=190190
	ctrl=0
	;;---
	triggerall=!ishelper && numpartner && roundstate=2 && alive && sysfvar(0)>0 && playeridexist(floor(sysfvar(0)))
	triggerall=(stateno!=[190190,190199]) && playerid(floor(sysfvar(0))),var(0)=90900 && playerid(floor(sysfvar(0))),var(22)=4
	;;---// switch / change ;(??)
	trigger1=sysfvar(4)<1 && ( ctrl || (time<2 && stateno<600) ) && playerid(floor(sysfvar(0))),var(48)=11
	trigger1=(pos y>=0) && movetype!=h && gethitvar(isbound)=0 && (stateno!=5120) && (stateno!=[5200,5210])
	;;---// assist ;(??)
	trigger2=sysfvar(4)=1 && ( ctrl || (stateno-playerid(floor(sysfvar(0))),var(53+id-playerid(floor(sysfvar(0))),sysvar(0))!=[0,999]) )
	trigger2=(pos y>=0) && movetype!=h && gethitvar(isbound)=0 && (stateno!=5120) && (stateno!=[5200,5210])
	;;---// switch-canceling ;(??????)
	trigger3=sysfvar(4)=2 && ( ctrl || stateno<160 )
	trigger3=(pos y>=0) && movetype!=h && gethitvar(isbound)=0 && (stateno!=5120) && (stateno!=[5200,5210])
	;;---// player-priority ;(??)
	trigger4=sysfvar(4)<1 && playerid(floor(sysfvar(0))),var(15)!=id
	;;---
	ignorehitpause=1

;sys::-2::partners_change_interrupted ; ??????
[state 0]
	type=varset
	trigger1=!ishelper && numpartner && roundstate=2 && alive && sysfvar(0)>0 && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && playerid(floor(sysfvar(0))),var(48)=21 && sysfvar(4)<1
	sysfvar(4)=2 ;; (0:main / 1:assist / 2:switch-canceling)

;sys::-2::helper::bar004 ; ?????
[state 0]
	type=helper
	triggerall=!ishelper && !numhelper(90900)
	trigger1=numpartner
	trigger1=id<(partner,id) && partner,numhelper(90900)=0
	trigger2=!numpartner
	id=90900
	stateno=90900
	helpertype=normal
	ownpal=1
	size.air.front=1702252 ;; <<-version
	size.height=0
	ignorehitpause=1
	supermovetime=88888
	pausemovetime=88888
	pos=0,88888

;sys::-2::get_helper::bar004_id ; ID??
[state 0]
	type=varset
	trigger1=!ishelper && numhelper(90900)
	trigger1=(helper(90900),var(0)=90900) && (sysfvar(0)!=helper(90900),id)
	sysfvar(0)=(helper(90900),id)
;sys::-2::get_players_id2
[state 0]
	type=varset
	trigger1=!ishelper && numpartner
	trigger1=!numhelper(90900) && (partner,numhelper(90900)) && (sysfvar(0)!=(partner,sysfvar(0)))
	sysfvar(0)=(partner,sysfvar(0))

;sys::-2::bk/jd_system ; ?????/????D
[state 0]
	type=hitoverride
	trigger1=(numprojid(195502)||numprojid(195503)) && !ishelper && roundstate=2 && alive && (ctrl || stateno=52)
	attr=sca,na,sa,ha,np,sp,hp
	stateno=195500
	time=1
	ignorehitpause=1

;//==========================
;;>>@Config.Face>>
;sys::-2::face_d ; portrait (?)
[state 0]
	type=explod
	trigger1=!ishelper && alive && !numexplod(490600) && selfanimexist(909002)
	trigger1=(sysfvar(0)>0) && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && playerid(floor(sysfvar(0))),numexplod(490600)
	trigger1=movetype!=h || (stateno=[120,159]) || (stateno=[5000,5199]) || (stateno=[190190,190196])
	id=490600
	anim=909002
	space=screen
	postype=left
	facing=ifelse(teamside=1,1,-1)
	ownpal=1
	bindtime=-1
	removetime=-1
	scale=playerid(floor(sysfvar(0))),fvar(32-(id=playerid(floor(sysfvar(0))),var(15))*10), playerid(floor(sysfvar(0))),fvar(33-(id=playerid(floor(sysfvar(0))),var(15))*10)
	pos=floor(const240p(playerid(floor(sysfvar(0))),fvar(30-(id=playerid(floor(sysfvar(0))),var(15))*10))), floor(const240p(playerid(floor(sysfvar(0))),fvar(31-(id=playerid(floor(sysfvar(0))),var(15))*10)))
	sprpriority=floor(playerid(floor(sysfvar(0))),fvar(36-(id=playerid(floor(sysfvar(0))),var(15))*10))
	trans=addalpha
	alpha=floor(playerid(floor(sysfvar(0))),fvar(34-(id=playerid(floor(sysfvar(0))),var(15))*10)), floor(playerid(floor(sysfvar(0))),fvar(35-(id=playerid(floor(sysfvar(0))),var(15))*10))
	ignorehitpause=1
	supermovetime=-1
	pausemovetime=-1
;sys::-2::face_d_mod
[state 0]
	type=removeexplod
	trigger1=(sysfvar(0)>0) && playeridexist(floor(sysfvar(0)))
	trigger1=(playerid(floor(sysfvar(0))),var(0)=90900)
	trigger1=(playerid(floor(sysfvar(0))),var(9)&262144) || !(playerid(floor(sysfvar(0))),var(9)&4)
	trigger2=roundstate!=2 || (stateno=5150 && time=5 && !alive)
	id=490600
	ignorehitpause=1

;//==========================
;;>>@Config.Camera>>
;sys::-2::camera_nc ; ????
[state 0]
	type=screenbound
	trigger1=!ishelper && (sysfvar(0)>0) && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && numpartner && (sysfvar(4)>0 || stateno=5150)
	value=0
	movecamera=0,0
	ignorehitpause=1
;sys::-2::camera_np
[state 0]
	type=playerpush
	trigger1=!ishelper && (sysfvar(0)>0) && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && numpartner && (sysfvar(4)>0 || stateno=5150)
	value=0
	ignorehitpause=1
;sys::-2::camera_nc2
[state 0]
	type=screenbound
	trigger1=!ishelper && (sysfvar(0)>0) && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && (playerid(floor(sysfvar(0))),var(7)&65536) ;; system_switch
	value= ((numpartner && sysfvar(4)<1) || !numpartner) ;; [def=0]
	movecamera=0,0 ;; [x,y]
	ignorehitpause=1

;//==========================
;sys::-2::add.option2-noko
[state 0] ;; opt-noko
	type=assertspecial
	trigger1=!ishelper && (sysfvar(0)>0) && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900
	trigger1=id=playerid(floor(sysfvar(0))),var(15) && (playerid(floor(sysfvar(0))),var(9)&65536) ;; opt-noko
	flag=noko
	ignorehitpause=1
;sys::-2::add.option3-life-mod
[state 0] ;; opt-life-mod
	type=lifeadd
	trigger1=!ishelper && (sysfvar(0)>0) && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900
	trigger1=id=playerid(floor(sysfvar(0))),var(15) && playerid(floor(sysfvar(0))),var(23)!=0 ;; opt-mod-life
	value=playerid(floor(sysfvar(0))),var(23)
	kill=0
	ignorehitpause=1

;//==========================
;// optional settings
;sys::-2::guard_crush_fx ; ????????
[state 0]
	type=palfx
	trigger1=(stateno=150 || stateno=152) && alive && !ishelper && (gametime%5=0) && (sysfvar(0)>0) && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && playerid(floor(sysfvar(0))),var(36)>=40
	time=2
	add=200,0,0
;sys::-2::guard_crush_cs
[state 0]
	type=changestate
	trigger1=(stateno=150 || stateno=152) && alive && !ishelper && (sysfvar(0)>0) && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && playerid(floor(sysfvar(0))),var(36)>=50
	value=190010
	ignorehitpause=1
;;--- dizzy
;sys::-2::goto-dizzy_s/c
[state 0] ;[.03-2d1]
	type=selfstate
	trigger1=(stateno=5001 || stateno=5011) && hitover     && alive && !ishelper && life>1 && roundstate=2 && (sysfvar(0)>0) && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && playerid(floor(sysfvar(0))),var(50)>=1000
	value=195201 ;; (goto-dizzy:190116)
;sys::-2::goto-dizzy_a/l
[state 0] ;[.03-2d2]
	type=selfstate
	trigger1=(stateno=5030 || stateno=5071) && hitshakeover && alive && !ishelper && life>1 && roundstate=2 && (sysfvar(0)>0) && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && playerid(floor(sysfvar(0))),var(50)>=1000
	value=195050
;;--- fadeout when KOed ; KO????
;sys::-2::st5150-1
[state 0]
	type=varset
	trigger1=stateno=5150 && time=1 && alive=0 && !ishelper && numpartner
	sysvar(1)=(roundstate<=2)
;sys::-2::st5150-2
[state 0]
	type=assertspecial
	trigger1=stateno=5150 && alive=0 && !ishelper && numpartner && sysvar(1) && (((time=[80,150]) && time%10<5) || time>150)
	flag=invisible
	flag2=noshadow
;;--- intro-pos-reset
;sys::-2::st5900-p3
[state 0]
	type=turn
	trigger1=stateno=5900 && time=0
	trigger1=!ishelper && numpartner>1 && facing=ifelse(teamside=1,-1,1)
;sys::-2::st5900-p4
[state 0]
	type=posset
	trigger1=stateno=5900 && time=0
	trigger1=!ishelper && numpartner>1 && playeridexist(id-2)
	trigger1=playerid(id-2),ishelper=0 && playerid(id-2),teamside=teamside
	x=const240p(120)*ifelse(teamside=1,-1,1)
;sys::-2::st5900-p5
[state 0]
	type=posset
	trigger1=stateno=5900 && time=0
	trigger1=!ishelper && numpartner>2 && playeridexist(id-3)
	trigger1=playerid(id-3),ishelper=0 && playerid(id-3),teamside=teamside
	x=const240p(144)*ifelse(teamside=1,-1,1)

;//==========================
;// add004-sctrls-end
;//==========================


[State -2, Dizzy Stars]
type = Explod
triggerall = Time = 1
trigger1 = anim = 5300
anim = f5301
ID = 5301 
pos = 0,-20
scale = .5,.5
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -1
sprpriority = 10

[State -2, Dizzy Stars]
type = RemoveExplod
trigger1 = anim != 5300
ID = 5301

[State -2, Remember the last Position (X)]
type = VarSet
triggerall = RoundState < 2
trigger1 = stateno = [0, 21] ;Enable after Intro
fvar(5) = Pos X

[State -2, Set the actual Position when match begins]
type = PosSet
trigger1 = RoundState = 2
trigger1 = fvar(5) != 0
trigger1 = prevstateno != [191,194]
;trigger1 = prevstateno != [194, 195] 
x = fvar(5)

[State -2, Reset PlaceHolder Var]
type = VarSet
trigger1 = RoundState = 2
fvar(5) = 0


[State -2, Pre-walking state]
type = ChangeState
;triggerall = !var(59)
trigger1 = prevstateno = [191,194] ;Enable after Intro
trigger2 = RoundNo != 1              ;Enable If Round Number is > 1
trigger2 = RoundState = 1           ;RoundState < 2 and
trigger2 = stateno = 0              ;Current state is 0
value = 21
ctrl = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(43) = 0 && Stateno = 150000
var(43) = 1

[State 0, VarSet]
type = VarSet
trigger1 = partner,var(4) = 0 && var(43)
var(43) = 0
; ============================ (TAG SYSTEM) =============================
[State -2, Deactivate Tag]
type = VarSet
triggerall = var(33)	; Partner TAG mode activated
trigger1 = roundstate > 2
trigger1 = Win || Lose
var(33) = 0

; NEW !! Tag active ctrl
[State -2, ctrl]
type = ChangeState
triggerall = var(33)        ; Partner TAG mode activated
triggerall = NumPartner
triggerall = ID > Partner,ID
trigger1 = var(33) != [3, 5]
trigger1 = partner, var(33) != [3, 5]
trigger1 = RoundState <= 2
trigger1 = Life && Partner, Life		; Team is alive
trigger1 = (stateno != [1000,4000]) && (stateno != [100500,199999])
trigger1 = (partner, stateno != [1000,4000]) && (partner, stateno != [100500,199999])
trigger1 = (stateno != 5500) && (stateno != 5500)
trigger1 = (partner, stateno != 5500) && (partner, stateno != 5500)
; -- Nobuyuki's chars fix (avoids stuck state) ---
trigger1 = stateno != [293, 299]
trigger1 = partner, stateno != [293, 299]
value = 100512

; No AR Finisher for the following Chars
; --------------------------------------
[State -2, Special Cases for AR]
type = VarSet
trigger1  = p2name != "Apocalypse"
trigger2  = p4name != "Apocalypse"
trigger3  = p2name != "Onslaught"
trigger4  = p4name != "Onslaught"
trigger5  = P2name != "Abyss Form 1"
trigger6  = P4name != "Abyss Form 1"
trigger7  = P2name != "Abyss Form 2"
trigger8  = P4name != "Abyss Form 2"
trigger9  = P2name != "Abyss Form 3"
trigger10 = P4name != "Abyss Form 3"
trigger11 = P2name != "Abyss"
trigger12 = P4name != "Abyss"
var(34) = 1

[State -2, Special Cases for AR]
type = VarSet
trigger1  = p2name = "Apocalypse"
trigger2  = p4name = "Apocalypse"
trigger3  = p2name = "Onslaught"
trigger4  = p4name = "Onslaught"
trigger5  = P2name = "Abyss Form 1"
trigger6  = P4name = "Abyss Form 1"
trigger7  = P2name = "Abyss Form 2"
trigger8  = P4name = "Abyss Form 2"
trigger9  = P2name = "Abyss Form 3"
trigger10 = P4name = "Abyss Form 3"
trigger11 = P2name = "Abyss"
trigger12 = P4name = "Abyss"
var(34) = 0



[State -3];Vs Style KO
type = ChangeState
triggerall = hitshakeover
trigger1 = (stateno = 5000 || stateno = 5010 || stateno = 5020 || stateno = 5070 || stateno = 5080)
trigger1 = !Alive || !Life
value = 5090

[State -2];Cheap KO on block damage
type = ChangeState
trigger1=((prevstateno=[120,121])||(prevstateno=[130,131]))&&!alive&&(stateno=[5000,5010])
value = 5950

[State -3, Assert: NoKOsnd (Cheap KO)];Cheap KO continue
type = AssertSpecial
trigger1=((prevstateno=[120,121])||(prevstateno=[130,131]))&&(stateno=[5000,5010])
flag = NoKOsnd
ignoreHitPause = 1



[State -3]
type = Helper
triggerall = !alive
trigger1 = roundstate = 2
trigger1 = roundstate != 3
trigger1 = NumHelper(19999997) = 0
stateno = 19999997
id = 19999997
ownpal = 1

;KO Sound
[State -3]
type = Helper
triggerall = !alive
trigger1 = roundstate != 2
trigger1 = roundstate = 3
trigger1 = NumHelper(19999998) = 0
stateno = 19999998
id = 19999998
ownpal = 1


	
; デバッグ用 
[State -2, Debug]
type = DisplayToClipboard
trigger1 = 1
text = "velx:%f,vely:%f,distx:%f,disty:%f time:%d\n"
params = vel x,vel y,p2bodydist x,p2bodydist y,time
ignorehitpause = 1

[State -2, Debug]
type = AppendToClipboard
trigger1 = 1
text = "numhits:%d hosei:%f limitter:%d %f"
params = var(18),fvar(0),var(6),fvar(2)
ignorehitpause = 1
 
; システム共用 
	
; ダメージ処理 
[State -2, ダメージ処理]
type = VarSet
trigger1 = movetype = H
var(4) = 0

[State -2, ダメージ処理]
type = AfterImage
trigger1 = movetype = H
time = 0
 
; ターゲット制御 
[State -2, ターゲット制御]
type = VarSet
trigger1 = 1
var(7) = 0
ignorehitpause = 1

[State -2, ターゲット制御]
type = VarSet
trigger1 = numtarget
var(7) = target,id
ignorehitpause = 1

[State -2, ターゲット制御]
type = VarSet
trigger1 = !numtarget
var(9) = 0
ignorehitpause = 1

[State -2, ターゲット制御]
type = VarSet
trigger1 = numtarget && hitpausetime
var(9) = target,stateno = 5080
ignorehitpause = 1

[State -2, ターゲット制御]
type = TargetState
trigger1 = playeridexist(var(7)) && !var(9)
trigger1 = playerID(var(7)),gethitvar(chainid) & 1
trigger1 = playerID(var(7)),stateno != [120,155]
trigger1 = playerID(var(7)),hitover && playerID(var(7)),alive && playerID(var(7)),hitshakeover
trigger1 = playerID(var(7)),statetype = A && playerID(var(7)),stateno != 9900
value = 9900

[State -2, ターゲット制御]
type = TargetState
trigger1 = playeridexist(var(7)) && var(9)
trigger1 = playerID(var(7)),alive && playerID(var(7)),hitshakeover
trigger1 = playerID(var(7)),pos y >= 0 && playerID(var(7)),vel y > 0
trigger1 = playerID(var(7)),statetype = A && playerID(var(7)),stateno != 5201 && playerID(var(7)),stateno != 9910
value = 9901

[State -2, ターゲット制御]
type = TargetState
trigger1 = playeridexist(var(7))
trigger1 = playerID(var(7)),gethitvar(chainid) & 2
trigger1 = playerID(var(7)),stateno != [120,155]
trigger1 = playerID(var(7)),alive && playerID(var(7)),hitshakeover
trigger1 = playerID(var(7)),pos y >= 0 && playerID(var(7)),vel y > 0
trigger1 = playerID(var(7)),statetype = A && playerID(var(7)),stateno != 9910
value = 9910

 
; 叩きつけエフェクト 
[State -2, 叩きつけエフェクト]
type = Explod
trigger1 = playeridexist(var(7)) && !var(8) && !var(9)
trigger1 = playerID(var(7)),gethitvar(chainid) & 4
trigger1 = playerID(var(7)),hitshakeover
trigger1 = playerID(var(7)),pos y >= 0 && playerID(var(7)),vel y > 0
anim = 8010
id = 8010
ownpal = 1
sprpriority = 4
pos = facing * ceil(playerID(var(7)),pos x-pos x),ceil(-pos y)

[State -2, 叩きつけエフェクト]
type = Explod
trigger1 = playeridexist(var(7)) && !var(8) && !var(9)
trigger1 = playerID(var(7)),gethitvar(chainid) & 4
trigger1 = playerID(var(7)),stateno != [120,155]
trigger1 = playerID(var(7)),stateno != 50001
trigger1 = playerID(var(7)),hitshakeover && playerID(var(7)),backedgebodydist <= 0
trigger1 = playerID(var(7)),vel x < 0 && playerID(var(7)),vel y > 0
trigger1 = facing != playerID(var(7)),facing
anim = 8015
id = 8010
ownpal = 1
sprpriority = 4
postype = front
pos = 0,ceil(playerID(var(7)),screenpos y)
facing = facing

[State -2, 叩きつけエフェクト]
type = Explod
trigger1 = playeridexist(var(7)) && !var(8) && !var(9)
trigger1 = playerID(var(7)),gethitvar(chainid) & 4
trigger1 = playerID(var(7)),stateno != [120,155]
trigger1 = playerID(var(7)),stateno != 50001
trigger1 = playerID(var(7)),hitshakeover && playerID(var(7)),backedgebodydist <= 0
trigger1 = playerID(var(7)),vel x < 0 && playerID(var(7)),vel y > 0
trigger1 = facing = playerID(var(7)),facing
anim = 8015
id = 8010
ownpal = 1
sprpriority = 4
postype = back
pos = 0,ceil(playerID(var(7)),screenpos y)
facing = facing
[State -2, ターゲット制御]
type = VarSet
trigger1 = 1
var(44) = 0
ignorehitpause = 1

[State -2, ターゲット制御]
type = VarSet
triggerall = numtarget
trigger1 = Target,name = "Charizard by Gladiacloud"
var(44) = target,id
ignorehitpause = 1

[State -2, 叩きつけエフェクト]
type = PlaySnd
triggerall = playerIDexist(var(44)) 
triggerall = playeridexist(var(7)) && !var(8) && !var(9)
triggerall = playerID(var(7)),gethitvar(chainid) & 4
triggerall = playerID(var(7)),stateno != [120,155]
triggerall = playerID(var(7)),stateno != 50001
trigger1 = playerID(var(7)),hitshakeover && playerID(var(7)),backedgebodydist <= 0
trigger1 = playerID(var(7)),vel x < 0 && playerID(var(7)),vel y > 0
;trigger2 = playerID(var(7)),pos y >= 0 && playerID(var(7)),vel y > 0
value = 0,9

[State -2, 叩きつけエフェクト]
type = PlaySnd
triggerall = playerIDexist(var(44)) 
triggerall = playeridexist(var(7)) && !var(8) && !var(9)
triggerall = playerID(var(7)),gethitvar(chainid) & 4
triggerall = playerID(var(7)),stateno != [120,155]
triggerall = playerID(var(7)),stateno != 50001
;trigger1 = playerID(var(7)),hitshakeover && playerID(var(7)),backedgebodydist <= 0
;trigger1 = playerID(var(7)),vel x < 0 && playerID(var(7)),vel y > 0
trigger1 = playerID(var(7)),pos y >= 0 && playerID(var(7)),vel y > 0
value = 0,17

[State -2, 叩きつけエフェクト]
type = PlaySnd
triggerall = !playerIDexist(var(44)) 
triggerall = playeridexist(var(7)) && !var(8) && !var(9)
triggerall = playerID(var(7)),gethitvar(chainid) & 4
triggerall = playerID(var(7)),stateno != [120,155]
triggerall = playerID(var(7)),stateno != 50001
trigger1 = playerID(var(7)),hitshakeover && playerID(var(7)),backedgebodydist <= 0
trigger1 = playerID(var(7)),vel x < 0 && playerID(var(7)),vel y > 0
;trigger2 = playerID(var(7)),pos y >= 0 && playerID(var(7)),vel y > 0
value = 0,16

[State -2, 叩きつけエフェクト]
type = PlaySnd
triggerall = !playerIDexist(var(44)) 
triggerall = playeridexist(var(7)) && !var(8) && !var(9)
triggerall = playerID(var(7)),gethitvar(chainid) & 4
triggerall = playerID(var(7)),stateno != [120,155]
triggerall = playerID(var(7)),stateno != 50001
;trigger1 = playerID(var(7)),hitshakeover && playerID(var(7)),backedgebodydist <= 0
;trigger1 = playerID(var(7)),vel x < 0 && playerID(var(7)),vel y > 0
trigger1 = playerID(var(7)),pos y >= 0 && playerID(var(7)),vel y > 0
value = 0,7

[State -2, 叩きつけエフェクト]
type = VarSet
trigger1 = numexplod(8010)
trigger2 = moveguarded
var(8) = 1

[State -2, 叩きつけエフェクト]
type = VarSet
trigger1 = !numtarget
trigger2 = movehit = 1
var(8) = 0
ignorehitpause = 1
 
; 特殊ヒットエフェクト 
[State -2, Helper]
type = Helper
triggerall = numtarget && !numhelper(8030)
trigger1 = movehit = 1
trigger1 = target,gethitvar(chainid)&8
trigger2 = projhit = 1
trigger2 = target,gethitvar(chainid)&8
stateno = 8030
id = 8030
ignorehitpause = 1

[State -2, Helper]
type = Helper
triggerall = numtarget && !numhelper(8040)
trigger1 = movehit = 1
trigger1 = target,gethitvar(chainid)&16
trigger2 = projhit = 1 && numtarget
trigger2 = target,gethitvar(chainid)&16
stateno = 8040
id = 8040
ignorehitpause = 1

[State -2, Helper]
type = Helper
triggerall = numtarget && !numhelper(8045)
trigger1 = movehit = 1
trigger1 = target,gethitvar(chainid)&32
trigger2 = projhit = 1
trigger2 = target,gethitvar(chainid)&32
stateno = 8045
id = 8045
ignorehitpause = 1
 
; スーパージャンプ関連 
[State -2, スーパージャンプ関連]
type = VarSet
trigger1 = statetype != A && stateno != 40
var(1) = 0

[State -2, スーパージャンプ関連]
type = VarSet
trigger1 = fvar(1) < 0 && movecontact
fvar(1) = 0;-fvar(1)

[State -2, スーパージャンプ関連]
type = VelAdd
trigger1 = var(1)
x = ctrl * ((command="holdfwd")*.15-(command="holdback")*.075)

[State -2, スーパージャンプ関連]
type = VelSet
trigger1 = var(1)
trigger1 = stateno = 50 || stateno = [600,800)
x = ifelse(vel x > const(velocity.jump.fwd.x),const(velocity.jump.fwd.x),ifelse(vel x < const(velocity.jump.back.x),const(velocity.jump.back.x),vel x))

[State -2, スーパージャンプ関連] ;Messes your yaccel jumps dont use!!!!
type =null;VelAdd
trigger1 = var(1) && statetype = A
trigger1 = stateno != [1000,5000)
y = fvar(1)

;[State -2, Super Jump]
;type = Turn
;trigger1 = var(1)
;trigger1 = (enemy,pos x-pos x)*facing < 0 && ctrl
; 
; 空中ジャンプ関連 
[State -2, 空中ジャンプ関連]
type = VarSet
trigger1 = var(3)
trigger1 = command != "holdup"
var(3) = 0
 
;Old Guard Push code 
[State -2, アドバンシングガード]
type = null;Helper
trigger1 = var(11)
stateno = 8060
postype = p2
pos = 20,0
id = 8060

[State -2, アドバンシングガード]
type = PosFreeze
trigger1 = numhelper(8060)

[State -2, アドバンシングガード]
type = VelAdd
trigger1 = numhelper(8060)
trigger1 = statetype = A
y = -gethitvar(yaccel)

[State -2, アドバンシングガード]
type = null;Explod
trigger1 = var(11)
anim = 8060
pos = 0,-55
ontop = 1

[State -2, アドバンシングガード]
type = VarSet
trigger1 = var(11)
var(11) = 0
 
; エリアルリミッター関連 
[State 650, エリアルリミッター関連]
type = PlaySnd
triggerall = numtarget
trigger1 = movehit = 1 && (target,gethitvar(chainid)&64)
trigger2 = projhit = 1 && (target,gethitvar(chainid)&64)
value = 0,11
channel = 4

[State 620, エリアルリミッター関連]
type = VarSet
triggerall = numtarget
trigger1 = movehit = 1 && (target,gethitvar(chainid)&64)
trigger2 = projhit = 1 && (target,gethitvar(chainid)&64)
var(6) = 2

[State -2, エリアルリミッター関連]
type = VarSet
trigger1 = !numtarget
var(6) = 0

[State -2, エリアルリミッター関連]
type = VarSet
trigger1 = var(6)= 2 && ctrl && statetype != A
var(6) = 3

[State -2, エリアルリミッター関連]
type = ScreenBound
trigger1 = var(6) = 2
value = ifelse(pos x*facing > 0,1,0)
movecamera = 0,0
ignorehitpause = 1

[State -2, エリアルリミッター関連]
type = ChangeState
triggerall = var(6) = 2
trigger1 = backedgebodydist < -20 && stateno != 101 && stateno != [810,811]
value = 810

[State -2, エリアルリミッター関連]
type = ScreenBound
trigger1 = stateno = 101 && prevstateno = 810
value = 0
movecamera = 0,0

[State -2, エリアルリミッター関連]
type = NotHitBy
trigger1 = stateno = 101 && prevstateno = 810
value = SCA
 
; ヘルパー関連 
[State -2, ヘルパー関連]
type = VarSet
trigger1 = !numhelper
var(4) = 0
 
; コンボメッセージ 
; 1P側
[State -2, コンボメッセージ]
type = Explod
triggerall = var(40) && !numexplod(8570)
triggerall = !numtarget && roundstate = 2 && teamside = 1
trigger1 = var(18) >= 3 && var(19) < 2
anim = 8550+(var(18)>3)+(var(18)>5)+(var(18)>7)+(var(18)>9)+(var(18)>29)+(var(18)>59)+(var(18)>99)
ownpal = 1
ontop = 1
postype = left
bindtime = -1
pos = 0,var(41)+var(16)*20
scale = .5,.5
ignorehitpause = 1
supermove = 1
pausemovetime = 99999999
id = 8550

[State -2, コンボメッセージ]
type = Explod
triggerall = var(40) && !numexplod(8570)
triggerall = !numtarget && roundstate = 2 && teamside = 1
trigger1 = var(18) >= 3 && var(19) >= 2
anim = 8558+(var(40)=2)
ownpal = 1
ontop = 1
postype = left
bindtime = -1
pos = 0,var(41)+var(16)*20
scale = .5,.5
ignorehitpause = 1
supermove = 1
pausemovetime = 99999999
id = 8550

; 2P側
[State -2, コンボメッセージ]
type = Explod
triggerall = var(40) && !numexplod(8570)
triggerall = !numtarget && roundstate = 2 && teamside = 2
trigger1 = var(18) >= 3 && var(19) < 2
anim = 8560+(var(18)>3)+(var(18)>5)+(var(18)>7)+(var(18)>9)+(var(18)>29)+(var(18)>59)+(var(18)>99)
ownpal = 1
ontop = 1
postype = right
bindtime = -1
pos = 0,var(41)+var(16)*20
scale = .5,.5
ignorehitpause = 1
supermove = 1
pausemovetime = 99999999
id = 8550

[State -2, コンボメッセージ]
type = Explod
triggerall = var(40) && !numexplod(8570)
triggerall = !numtarget && roundstate = 2 && teamside = 2
trigger1 = var(18) >= 3 && var(19) >= 2
anim = 8568+(var(40)=2)
ownpal = 1
ontop = 1
postype = right
bindtime = -1
pos = 0,var(41)+var(16)*20
scale = .5,.5
ignorehitpause = 1
supermove = 1
pausemovetime = 99999999
id = 8550

; アナウンス
[State -2, コンボメッセージ]
type = PlaySnd
triggerall = var(40)
triggerall = !numtarget && roundstate = 2
trigger1 = var(18) >= 3 && var(19) < 2
value = 2,(var(18)>3)+(var(18)>5)+(var(18)>7)+(var(18)>9)+(var(18)>29)+(var(18)>59)+(var(18)>99)
ignorehitpause = 1

[State -2, コンボメッセージ]
type = PlaySnd
triggerall = var(40)
triggerall = !numtarget && roundstate = 2
trigger1 = var(18) >= 3 && var(19) >= 2
value = 2,8+(var(40)=2)
ignorehitpause = 1
 
; システムメッセージ 
[State -2, システムメッセージ]
type = Explod
triggerall = var(40)
triggerall = !(var(14)&1) && teamside = 1
trigger1 = movehit
trigger2 = projhittime(0) > 0
anim = 8570
ownpal = 1
ontop = 1
postype = left
bindtime = -1
pos = 0,var(41)+var(16)*20
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8570

[State -2, システムメッセージ]
type = Explod
triggerall = var(40)
triggerall = !(var(14)&1) && teamside = 2
trigger1 = movehit
trigger2 = projhittime(0) > 0
anim = 8575
ownpal = 1
ontop = 1
postype = right
bindtime = -1
pos = 0,var(41)+var(16)*20
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8570

[State -2, システムメッセージ]
type = PlaySnd
triggerall = var(40)
triggerall = !(var(14)&1)
trigger1 = movehit
trigger2 = projhittime(0) > 0
value = 2,10
ignorehitpause = 1

[State -2, システムメッセージ]
type = VarSet
triggerall = !(var(14)&1)
trigger1 = movehit
trigger2 = projhittime(0) > 0
trigger3 = movetype = H && stateno != [120,155]
trigger4 = numpartner
trigger4 = partner,movetype = H && partner,stateno != [120,155]
trigger5 = numpartner
trigger5 = partner,movehit || partner,projhittime(0) > 0
var(14) = var(14) | 1
ignorehitpause = 1

[State -2, システムメッセージ]
type = Explod
triggerall = var(40)
triggerall = !(var(14)&2) && teamside = 1
trigger1 = life < lifemax * .35
anim = 8571
ownpal = 1
ontop = 1
postype = left
bindtime = -1
pos = 0,var(41)+var(16)*20
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8570

[State -2, システムメッセージ]
type = Explod
triggerall = var(40)
triggerall = !(var(14)&2) && teamside = 2 && alive
trigger1 = life < lifemax * .35
anim = 8576
ownpal = 1
ontop = 1
postype = right
bindtime = -1
pos = 0,var(41)+var(16)*20
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8570

[State -2, システムメッセージ]
type = PlaySnd
triggerall = var(40)
triggerall = !(var(14)&2) && alive
trigger1 = life < lifemax * .35
value = 2,11
ignorehitpause = 1

[State -2, システムメッセージ]
type = VarSet
triggerall = !(var(14)&2)
trigger1 = life < lifemax * .35
var(14) = var(14) | 2
ignorehitpause = 1

[State -2, システムメッセージ]
type = VarSet
triggerall = (var(14)&2)
trigger1 = life >= lifemax * .35
var(14) = var(14) ^ 2
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = Stateno = 100530
trigger2 = Stateno = [100701,100799] 
value = 1
movecamera = 0,0 


[State -2, システムメッセージ]
type = RemoveExplod
trigger1 = numexplod(8570) && numexplod(8550)
id = 8550
ignorehitpause = 1
 
; コンボ数 
[State -2, コンボ数]
type = VarSet
trigger1 = statetype = A && prevstateno = [600,800)
trigger1 = stateno = [1000,5000)
var(13) = 1

[State -2, コンボ数]
type = VarAdd
trigger1 = movehit = 1
trigger2 = projhit = 1
var(18) = 1

[State -2, コンボ数]
type = VarAdd
triggerall = statetype = A && numtarget
triggerall = target,statetype = A
triggerall = movehit = 1 || projhit = 1
trigger1 = stateno = [600,800)
trigger2 = var(13) && stateno = [1000,5000)
var(19) = 1

[State -2, コンボ数]
type = VarSet
;trigger1 = !numtarget
trigger1 = !numenemy
trigger2 = numenemy
trigger2 = enemynear,movetype != H
var(13) = 0

[State -2, コンボ数]
type = VarSet
trigger1 = !numtarget
var(18) = 0

[State -2, コンボ数]
type = VarSet
trigger1 = !numtarget
var(19) = 0
 
; コンボ補正 
[State -2, コンボ補正]
type = VarSet
trigger1 = 1
fvar(0) = 1.0-(var(18)>3)*((var(18)-3)*.05)

[State -2, コンボ補正]
type = VarSet
trigger1 = fvar(0) < .1
fvar(0) = .1

[State -2, コンボ補正]
type = AttackMulSet
trigger1 = 1
value = fvar(0)
 
; Timeゲージ 
[State 8580, VarAdd]
type = VarAdd
triggerall = var(12)
trigger1 = !numhelper(8500)
trigger2 = numhelper(8500)
trigger2 = helper(8500),time > 36
var(12) = - 1
 
; 画面外表示(自分) 
	
; プレイヤー表示 
[State -2, 画面外表示]
type = Explod
trigger1 = var(42) && roundstate = [2,3]
trigger1 = screenpos y > 240-const(size.head.pos.y)
anim = 8589+teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(screenpos x),215
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8590

[State -2, 画面外表示]
type = Explod
trigger1 = var(42) && roundstate = [2,3]
trigger1 = screenpos y < 0
anim = 8589+teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(screenpos x),25
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8590
 
; 矢印表示(回転) 
[State -2, 画面外表示]
type = Explod
triggerall = var(42) && roundstate = [2,3]
triggerall = !numexplod(8596) && numenemy
triggerall = screenpos y > 240-const(size.head.pos.y)
trigger1 = var(20) = 1
trigger1 = screenpos x < enemynear,screenpos x
trigger2 = var(20) = -1
trigger2 = screenpos x > enemynear,screenpos x
anim = 8595+teamside
ownpal = 1
ontop = 1
facing = -var(20)
postype = left
pos = floor(screenpos x),215
scale = .25,.25
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8596

[State -2, 画面外表示]
type = Explod
triggerall = var(42) && roundstate = [2,3]
triggerall = !numexplod(8598) && numenemy
triggerall = screenpos y < 0
trigger1 = var(20) = 1
trigger1 = screenpos x < enemynear,screenpos x
trigger2 = var(20) = -1
trigger2 = screenpos x > enemynear,screenpos x
anim = 8597+teamside
ownpal = 1
ontop = 1
facing = -var(20)
postype = left
pos = floor(screenpos x),25
scale = .25,.25
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8598

[State -2, 画面外表示]
type = RemoveExplod
triggerall = numexplod(8596)
trigger1 = screenpos y <= 240-const(size.head.pos.y)
id = 8596

[State -2, 画面外表示]
type = RemoveExplod
triggerall = numexplod(8598)
trigger1 = screenpos y >= 0
id = 8598

[State -2, 画面外表示]
type = ModifyExplod
trigger1 = numexplod(8596)
id = 8596
postype = left
pos = floor(screenpos x),215

[State -2, 画面外表示]
type = ModifyExplod
trigger1 = numexplod(8598)
id = 8598
postype = left
pos = floor(screenpos x),25

[State -2, 画面外表示]
type = VarSet
trigger1 = numenemy
var(20) = ifelse(screenpos x - enemynear,screenpos x < 0,-1,1)
 
; 矢印表示 
[State -2, 画面外表示]
type = Explod
trigger1 = var(42) && roundstate = [2,3]
trigger1 = !numexplod(8596) && stateno != 810
trigger1 = screenpos y > 240-const(size.head.pos.y)
anim = 8593+teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(screenpos x),215
scale = .25,.25
facing = -var(20)
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8594

[State -2, 画面外表示]
type = Explod
trigger1 = var(42) && roundstate = [2,3]
trigger1 = !numexplod(8598) && stateno != 810
trigger1 = screenpos y < 0
anim = 8593+teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(screenpos x),25
scale = .25,.25
facing = -var(20)
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8594

  
; 画面外表示(相手) 
	
; プレイヤー表示 
[State -2, 画面外表示]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
trigger1 = var(42) && roundstate = [2,3]
trigger1 = enemy,screenpos y > 240-enemy,const(size.head.pos.y)
anim = 8589+enemy,teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(enemy,screenpos x),215
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8590

[State -2, 画面外表示]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
trigger1 = var(42) && roundstate = [2,3]
trigger1 = enemy,screenpos y < 0
anim = 8589+enemy,teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(enemy,screenpos x),25
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8590
 
; 矢印表示(回転) 
[State -2, 画面外表示]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
triggerall = var(42) && roundstate = [2,3]
triggerall = !numexplod(18596)
triggerall = enemy,screenpos y > 240-enemy,const(size.head.pos.y)
trigger1 = var(21) = 1
trigger1 = enemy,screenpos x < screenpos x
trigger2 = var(21) = -1
trigger2 = enemy,screenpos x > screenpos x
anim = 8595+enemy,teamside
ownpal = 1
ontop = 1
facing = -var(21)
postype = left
pos = floor(enemy,screenpos x),215
scale = .25,.25
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 18596

[State -2, 画面外表示]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
triggerall = var(42) && roundstate = [2,3]
triggerall = !numexplod(18598)
triggerall = enemy,screenpos y < 0
trigger1 = var(21) = 1
trigger1 = enemy,screenpos x < screenpos x
trigger2 = var(21) = -1
trigger2 = enemy,screenpos x > screenpos x
anim = 8597+enemy,teamside
ownpal = 1
ontop = 1
facing = -var(21)
postype = left
pos = floor(enemy,screenpos x),25
scale = .25,.25
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 18598

[State -2, 画面外表示]
type = RemoveExplod
triggerall = numexplod(18596)
trigger1 = enemy,screenpos y <= 240-enemy,const(size.head.pos.y)
id = 18596

[State -2, 画面外表示]
type = RemoveExplod
triggerall = numexplod(18598)
trigger1 = enemy,screenpos y >= 0
id = 18598

[State -2, 画面外表示]
type = ModifyExplod
trigger1 = numexplod(18596)
id = 18596
postype = left
pos = floor(enemy,screenpos x),215

[State -2, 画面外表示]
type = ModifyExplod
trigger1 = numexplod(18598)
id = 18598
postype = left
pos = floor(enemy,screenpos x),25

[State -2, 画面外表示]
type = VarSet
trigger1 = numenemy = 1
var(21) = ifelse(enemy,screenpos x - screenpos x < 0,-1,1)
 
; 矢印表示 
[State -2, 画面外表示]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
trigger1 = var(42) && roundstate = [2,3]
trigger1 = !numexplod(18596)
trigger1 = enemy,screenpos y > 240-enemy,const(size.head.pos.y)
anim = 8593+enemy,teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(enemy,screenpos x),215
scale = .25,.25
facing = -var(21)
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 18594

[State -2, 画面外表示]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
trigger1 = var(42) && roundstate = [2,3]
trigger1 = !numexplod(18598)
trigger1 = enemy,screenpos y < 0
anim = 8593+enemy,teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(enemy,screenpos x),25
scale = .25,.25
facing = -var(21)
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 18594

  
; 試合終了 
[State -2, 試合終了]
type = AssertSpecial
trigger1 = roundstate > 2
flag = nowalk
 
; 回りこみ禁止 
[State -2, 回りこみ禁止]
type = Width
trigger1 = vel x > 0 && movetype != H
edge = 5,5

;Put this in Statedef -2 in the char's cns
[State 0, ChangeState] ;Prevents going past 0 in its Y Position when called to assist if a round is done
type = ChangeState
triggerall = roundstate = 3 && (stateno = 100701 || stateno = 150000)
trigger1 = Pos Y >= 0
trigger1 = Vel Y >= 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------------------------   
[Statedef -3] 

;All of this code is for your characters get hit sounds	
[State 1120, ダメージボイス] ;Getting Hit Sounds Light Hits
type = PlaySnd
triggerall = alive && movetype = H
triggerall = random % 10 < 5
trigger1 = anim = 5000 && time = 1 ; standing light hit high
trigger2 = anim = 5020 && time = 1 ; crouching light hit
;dont't use trigger4 = anim = 5030  ; air hit
value = 60,0+random%9
channel = 5

[State 1120, ダメージボイス] ;Getting Hit Sounds Standing Low Light Hits
type = PlaySnd
triggerall = alive && movetype = H
triggerall = random % 10 < 5
trigger1 = anim = 5010 && time = 1 ; stand light hit low
value = 61,0+random%3
channel = 5

[State 1120, ダメージボイス] ;Getting Hit Sounds Medium Hits
type = PlaySnd
triggerall = alive && movetype = H
triggerall = random % 10 < 5
trigger1 = anim = 5001 && time = 1
trigger2 = anim = 5021 && time = 1
value = 62,0+random%7
channel = 5

[State 1120, ダメージボイス] ;Getting Hit Sounds Medium Low Hits
type = PlaySnd
triggerall = alive && movetype = H
triggerall = random % 10 < 5
trigger1 = anim = 5011 && time = 1  ; stand medium hit low
value = 61,3+random%3
channel = 5

[State 1120, ダメージボイス] ;Getting Hit Sounds Heavy Hits
type = PlaySnd
triggerall = alive && movetype = H
triggerall = random % 10 < 5
trigger1 = anim = 5002 && time = 1
trigger2 = anim = 5022 && time = 1
;trigger4 = stateno = 5080 && time = 1 ;LieDown Hit (stay down)
;trigger5 = anim = 5170 && time = 1 ;Hit ground from bounce
;trigger6 = anim = 5051 && time = 1 ;Air Fall (up-type, going up)
value = 63,0+random%7
channel = 5

[State 1120, ダメージボイス] ;Getting Hit Sounds Heavy Low Hits
type = PlaySnd
triggerall = alive && movetype = H
triggerall = random % 10 < 5
trigger1 = anim = 5012 && time = 1 ; stand hard hit low
value = 61,3+random%3
channel = 5

[State 1120, ダメージボイス] ;Getting Hit Sounds Tripped
type = PlaySnd
triggerall = alive && movetype = H
triggerall = random % 10 < 5
trigger1 = stateno = 5070 && time = 1 ; tripped
value = 64,0+random%2
channel = 5

[State 1120, ダメージボイス] ;P1 Launched Up Sounds
type = PlaySnd
triggerall = alive && movetype = H
triggerall = random % 10 < 5
trigger1 = anim = 5051 && time = 1 ;Air Fall (up-type, going up)
value = 66,0
channel = 5

[State 1120, ダメージボイス] ;Getting Hit Body Landing Sounds
type = PlaySnd
triggerall = alive && movetype = H
triggerall = random % 10 < 5
trigger1 = stateno = 5080 && time = 1 ;LieDown Hit (stay down)
trigger2 = anim = 5170 && time = 1 ;Hit ground from bounce
value = 67,0+random%7
channel = 5

;----------------------------------------------------------------------------
;This is a basic get hit sounds code if the you dont have alot 
;get hit sounds to work with just delete or null code on top
[State 1120, ダメージボイス]
type = null;PlaySnd
triggerall = alive && movetype = H
triggerall = random % 10 < 5
triggerall = Time = 1
trigger1 = stateno = 5000 || Stateno = 5010 || stateno = 5020
trigger2 = stateno = 5070 || Stateno = 5080
value = 12,random%3
channel = 5

[State 0, StopSnd]
type = StopSnd
trigger1 = !alive
channel = 5



; ============================ (TAG SYSTEM) =============================
; Run into the screen (tagged in)
[State -3, enter the screen]
type = ChangeState
triggerall = var(33)      		; Partner TAG mode activated
triggerall = NumPartner
triggerall = stateno = 100512		; Player waiting outside the screen
trigger1 = partner, stateno = 100510      ; Partner leaving the screen
trigger1 = Life		                ; And you're alive
value = 100500

; Enter and help partner (Assist)
[State -3, enter the screen]
type = ChangeState
triggerall = var(33)      		       ; Partner TAG mode activated
triggerall = NumPartner
triggerall = stateno = 100512		       ; Player waiting outside the screen
triggerall = Life	                       ; And you're alive
trigger1 = partner, stateno =100700             ; Partner doing his taunt
;------------------------------------------------------------------------
;Special case for Beximus Chars with tag enabled
trigger2 = partner, AuthorName = "Beximus"
trigger2 = partner, stateno = 4900
;------------------------------------------------------------------------
trigger3 = (partner, MoveType = A) && (partner, statetype != A)
trigger3 = (command = "y") && (command = "b")  ; Assist command performed
trigger3 = partner, stateno = [200, 399]       ; During standing attacks
trigger4 = (partner, MoveType = A) && (partner, statetype != A)
trigger4 = (command = "y") && (command = "b")  ; Assist command performed
trigger4 = partner, stateno = [400, 599]       ; During crouching attacks
value = 100701
ignorehitpause = 1

; Enter and help partner (Counter)
[State -3, enter the screen]
type = ChangeState
triggerall = var(33)      		       ; Partner TAG mode activated
triggerall = NumPartner
triggerall = stateno = 100512		       ; Player waiting outside the screen
triggerall = Life	                       ; And you're alive
trigger1 = partner, stateno = 50100             
value = 100801
ignorehitpause = 1

; Enter and help partner (X-Over Combination)
[State -3, enter the screen]
type = ChangeState
triggerall = var(33) && Var(43) = 0     		       ; Partner TAG mode activated
triggerall = NumPartner
triggerall = stateno = 100512		       ; Player waiting outside the screen
triggerall = Life	                       ; And you're alive
trigger1 = partner, prevstateno = 150099 && partner,var(4)=1 
trigger2 = partner,name = "Cammy" && partner,authorname = "mouser-MvC2"
trigger2 = partner, prevstateno = 160011 && partner,var(4)=1            
value = 150000
ignorehitpause = 1


; Jump into the screen (partner was KOed or snapped back)
[State -3, enter the screen]
type = ChangeState
triggerall = var(33)      		; Partner TAG mode activated
triggerall = NumPartner
triggerall = StateNo = 100512             ; Player waiting outside the screen
trigger1 = !(Partner, Life)             ; Partner dead
trigger1 = (partner, stateno = 5150)
trigger1 = Life                         ; And you're alive
trigger2 = roundstate >= 3              ; the match is over
trigger2 = Win || LoseTime || WinTime || DrawGame
trigger3 = Partner,Life                ; Partner is alive
trigger3 = Partner,Stateno = 50003      ; Partner getting up after snapback
value = 100520



[State -3, wait out of the stage]
type = ChangeState
triggerall = NumPartner
trigger1 = var(33) = [3, 5]                ; just performed team attack or assist attack
trigger1 = RoundState = 2                  ; currently fighting
trigger1 = Life && Partner, Life	   ; And you're alive
trigger1 = (stateno != [1000,4000]) && (stateno != [100500,199999])
trigger1 = stateno != [5000, 5899]
value = 100511








;==============================================================================
; {D:\MUGEN\Marvel vs Capcom 1.1 Screenpack(By Maxi Mugen)\chars\MvC2_Thanos\config.txt}
;==============================================================================

[Statedef 9999]
type = A
physics = N
anim = 9999
velset = 0,0
ctrl = 0


; システム表示をオフにしたい時は0に設定する。1でAIR COMBO表記。2でAERIAL RAVE表記。
[State 9999, System Message]
type = ParentVarSet
trigger1 = 1
var(40) = 1


; システム表示の位置を調整する。
[State 9999, System Message Y pos]
type = ParentVarSet
trigger1 = 1
var(41) = 85


; 画面外にいる時の位置表示。オフにしたい場合は0を設定する。
[State 9999, Arrow outside a screen]
type = ParentVarSet
trigger1 = 1
var(42) = 1


; タイムゲージ座標の位置を調整する。
[State 9999, Time Gauge X Pos]
type = ParentVarSet
trigger1 = 1
fvar(3) = 12

[State 9999, Y座標]
type = ParentVarSet
trigger1 = 1
fvar(4) = 216



[State 8515, DestroySelf]
type = DestroySelf
trigger1 = 1


;==============================================================================
; {D:\MUGEN\Marvel vs Capcom 1.1 Screenpack(By Maxi Mugen)\chars\MvC2_Thanos\MvC2Tag.st}
;==============================================================================



;==============================================================================
; {D:\MUGEN\Marvel vs Capcom 1.1 Screenpack(By Maxi Mugen)\chars\MvC2_Thanos\SnapBackCounter.cns}
;==============================================================================



;==============================================================================
; {D:\MUGEN\Marvel vs Capcom 1.1 Screenpack(By Maxi Mugen)\chars\MvC2_Thanos\X-OverCombination.cns}
;==============================================================================



;==============================================================================
; {D:\MUGEN\Marvel vs Capcom 1.1 Screenpack(By Maxi Mugen)\chars\MvC2_Thanos\add004basic.scom1}
;==============================================================================

; Common state file for M.U.G.E.N 1.0
;
; System variables usage
; ----------------------
; Var name    Type   Purpose
; --------    ----   -------
; sysvar(0)   Temp   Set by state 5081 (HITL_SLIDE) to 1 to prevent
;                    showing ground hit frame in state 5110 (HIT_LIEDOWN).
;                    Used by guarding states.
; sysvar(1)   Temp   Used by state 40 (Jump Start) amd 45 (Air Jump Start)
;                    to keep track of which way to jump.
;                    Used by state 5100 and 5110 to remember downward
;                    velocity of player just before hitting the ground.
;                    Used in state 5080 for storing the anim # to display.

; The following states have special handling within MUGEN, and should be
; overridden with caution:
; Jump Start (40): airjumping bookkeeping at time = 0
; All guard states (120-155): guard handling throughout state
; Hit_trip, shaking (5070): defense increases at time = 0
; Downed get-hit (hit ground from fall) (5100):
;   defense increases at time = 0, player becomes invincible if within 10
;   ticks of getting up
; Hit_liedown (5110): player changes to get-up state (5120) when ready
; Hit_getup (5120): player's defence is restored to normal at time = 0
; Hitfall_recover (5200): player's defence is restored at time = 0
; Hitfall_airrecover (5210): player's defence is restored at time = 0

;---------------------------------------------------------------------------
; Stand
[Statedef 0]
type = S
physics = S
sprpriority = 0

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 0

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = abs(vel x) < Const(movement.stand.friction.threshold)
trigger2 = Time = 4
x = 0

[State 0, 4] ;Are you dead?
type = ChangeState
trigger1 = !alive
value = 5050
ctrl = 0

;---------------------------------------------------------------------------
; Stand to Crouch
[Statedef 10]
type    = C
physics = C
anim = 10

[State 10, 1]
type = VelMul
trigger1 = Time = 0
x = .75

[State 10, 2] ;Stop moving if low velocity
type = VelSet
trigger1 = abs(vel x) < Const(movement.crouch.friction.threshold)
x = 0

[State 10, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11

;---------------------------------------------------------------------------
; Crouching
[Statedef 11]
type    = C
physics = C
anim = 11
sprpriority = 0

[State 11, 1] ;Change from turning animation
type = ChangeAnim
trigger1 = Anim = 6 && AnimTime = 0
value = 11

[State 11, 2] ;Stop moving if low velocity
type = VelSet
trigger1 = abs(vel x) < Const(movement.crouch.friction.threshold)
x = 0

;---------------------------------------------------------------------------
; Crouch to Stand
[Statedef 12]
type    = S
physics = S
anim = 12

[State 12, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Walk
[Statedef 20]
type    = S
physics = S
sprpriority = 0

[State 20, 1]
type = VelSet
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x)

[State 20, 2]
type = VelSet
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)

[State 20, 3]
type = ChangeAnim
triggerall = vel x > 0
trigger1 = Anim != 20 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 20

[State 20, 4]
type = ChangeAnim
triggerall = vel x < 0
trigger1 = Anim != 21 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 21

;---------------------------------------------------------------------------
; Jump Start
[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1
facep2 = 1

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; AirJump Start
[Statedef 45]
type    = A
physics = N
ctrl = 0
velset = 0,0

[State 45, 1]
type = ChangeAnim
trigger1 = SelfAnimExist(44)
value = 44

[State 45, 2]
type = ChangeAnim
trigger1 = !SelfAnimExist(44)
value = 41

[State 45, 3]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 45, 4]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 45, 5]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 45, 6]
type = VelSet
trigger1 = Time = 2
x = ifelse(sysvar(1)=0, const(velocity.airjump.neu.x), ifelse(sysvar(1)=1, const(velocity.airjump.fwd.x), const(velocity.airjump.back.x)))
y = const(velocity.airjump.y)

[State 45, 7]
type = ChangeState
trigger1 = Time = 2
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Jump Up
[Statedef 50]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > Const720p(-8)
trigger1 = SelfAnimExist(anim + 3)
trigger1 = anim >= 41 && anim <= 43
persistent = 0
value = Anim + 3

;---------------------------------------------------------------------------
; Jump Down (empty state for compatibility)
[Statedef 51]
type    = A
physics = A

[State 51, 1]
type = Null
trigger1 = 1

;---------------------------------------------------------------------------
; Jump Land
[Statedef 52]
type    = S
physics = S
ctrl = 0
anim = 47

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 3]
type = CtrlSet
trigger1 = Time = 3
value = 1

[State 52, 4]
type = VelSet
trigger1 = abs(vel x) < Const(movement.stand.friction.threshold)
x = 0

[State 52, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Run forward
[Statedef 100]
type    = S
physics = S
anim = 100
sprpriority = 1

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 4]
type = ChangeState
trigger1 = command != "holdfwd"
value = 0

;---------------------------------------------------------------------------
; Hop backwards
[Statedef 105]
type    = A
physics = A
ctrl = 0
anim = 105
sprpriority = 1

[State 105, 1]
type = VelSet
trigger1 = Time = 0
x = const(velocity.run.back.x)
y = const(velocity.run.back.y)

[State 105, 2]
type = CtrlSet
trigger1 = Time = 2
value = 1

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106

;---------------------------------------------------------------------------
; Hop backwards (land)
[Statedef 106]
type    = S
physics = S
ctrl = 0
anim = 47

[State 106, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 106, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 106, 3]
type = MakeDust
trigger1 = Time = 2
pos = 0, 0
spacing = 1

[State 106, 4]
type = VelSet
trigger1 = abs(vel x) < Const(movement.stand.friction.threshold)
x = 0

[State 106, 5]
type = ChangeState
trigger1 = Time = 7
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; GUARD (start)
[Statedef 120]
type = U    ;Leave state type unchanged
physics = U ;Leave physics unchanged

[State 120, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 120 + (statetype = C) + (statetype = A)*2

[State 120, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 120, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 120, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 120, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 120, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 120, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 130 + (statetype = C) + (statetype = A)*2

[State 120, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

;---------------------------------------------------------------------------
; Stand guard (guarding)
[Statedef 130]
type    = S
physics = S

[State 130, 1]
type = ChangeAnim
trigger1 = Anim != 130
value = 130

[State 130, Hi to Lo]
type = ChangeState
trigger1 = command = "holddown"
value = 131

[State 130, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

;---------------------------------------------------------------------------
; Crouch guard (guarding)
[Statedef 131]
type    = C
physics = C

[State 131, 1]
type = ChangeAnim
trigger1 = Anim != 131
value = 131

[State 131, Lo to Hi]
type = ChangeState
trigger1 = command != "holddown"
value = 130

[State 131, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

;---------------------------------------------------------------------------
; Air guard (guarding)
[Statedef 132]
type    = A
physics = N

[State 132, 1]
type = ChangeAnim
trigger1 = Anim != 132
value = 132

[State 132, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 132, 3]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 132, 4]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 132, 5]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 132, 6]
type = ChangeState
trigger1 = sysvar(0)
trigger1 = command = "holdback"
trigger1 = inguarddist
value = 130

[State 132, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52

[State 132, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

;---------------------------------------------------------------------------
; Guard (end)
[Statedef 140]
type = U    ;Leave state type unchanged
physics = U ;Leave physics unchanged
ctrl = 1

[State 140, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 140 + (statetype = C) + (statetype = A)*2

[State 140, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 140, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 140, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 140, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 140, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

;[State 140, 5] ;Implemented within engine
;type = ChangeState
;trigger1 = AnimTime = 0
;value = (statetype = C)*11 + (statetype = A)*51

;---------------------------------------------------------------------------
; Stand guard hit (shaking)
[Statedef 150]
type    = S
movetype= H
physics = N
velset = 0,0

[State 150, 1]
type = ChangeAnim
trigger1 = 1
value = 150

[State 150, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 151 + 2*(command = "holddown")

[State 150, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 150, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 150, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 3

;---------------------------------------------------------------------------
; Stand guard hit (knocked back)
[Statedef 151]
type    = S
movetype= H
physics = S
anim = 150

[State 151, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 151, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0

[State 151, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 151, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 151, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 151, 4]
type = ChangeState
trigger1 = HitOver
value = 130
ctrl = 1

;---------------------------------------------------------------------------
; Crouch guard hit (shaking)
[Statedef 152]
type    = C
movetype= H
physics = N
velset = 0,0

[State 152, 1]
type = ChangeAnim
trigger1 = 1
value = 151

[State 152, 3]
type = ChangeState
trigger1 = HitShakeOver
value = 151 + 2*(command = "holddown")

[State 152, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 152, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 152, 4]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4

;---------------------------------------------------------------------------
; Crouch guard hit (knocked back)
[Statedef 153]
type    = C
movetype= H
physics = C
anim = 151

[State 153, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 153, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0

[State 153, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 153, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 153, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 153, 4]
type = ChangeState
trigger1 = HitOver
value = 131
ctrl = 1

;---------------------------------------------------------------------------
; Air guard hit (shaking)
[Statedef 154]
type    = A
movetype= H
physics = N
velset = 0,0

[State 154, 1]
type = ChangeAnim
trigger1 = 1
value = 152

[State 154, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 155 ;AGUARDHIT2

[State 154, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4

;---------------------------------------------------------------------------
; Air guard hit (knocked away)
[Statedef 155]
type    = A
movetype= H
physics = N
anim = 152

[State 155, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 155, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 155, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 155, 4]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 155, 5]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = ChangeState
trigger1 = sysvar(0)
trigger1 = command = "holdback"
trigger1 = inguarddist
value = 130

[State 155, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52

;---------------------------------------------------------------------------
; Lose (time over)
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Draw game (time over)
[Statedef 175]
type = S
ctrl = 0
velset = 0,0

[State 175, 1] ; If no anim, use go to lose state.
type = ChangeState
trigger1 = Time = 0
trigger1 = !SelfAnimExist(175)
value = 170

[State 175, 2]
type = ChangeAnim
trigger1 = Time = 0
value = 175

[State 175, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Pre-intro
[Statedef 190]
type = S
ctrl = 0
velset = 0,0

[State 190, 1]
type = ChangeAnim
trigger1 = SelfAnimExist(190)
value = 190

[State 190, 2] ;Go straight to intro.
type = ChangeState
trigger1 = Time = 0
value = 191

;---------------------------------------------------------------------------
; Intro (override this state to give character an intro)
[Statedef 191]
type = S
ctrl = 0

[State 191, 1]
type = ChangeState
trigger1 = Time = 0
value = 0

;---------------------------------------------------------------------------
; Stand get-hit (shaking)
[Statedef 5000]
type    = S
movetype= H
physics = N
velset = 0,0

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5000, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5000, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 5000, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5000, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0 && !GetHitVar(fall)
value = 5001 ;Stand get-hit (knocked back)

[State 5000, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 5030

;---------------------------------------------------------------------------
; Stand get-hit (knocked back)
[Statedef 5001]
type    = S
movetype= H
physics = S

[State 5001, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5001, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 5005 + GetHitVar(animtype) + (GetHitVar(groundtype)=2)*10

[State 5001, 3] ;Stop sliding back
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5001, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 5001, 5]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 5001, 6]
type = ChangeState
trigger1 = HitOver
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Crouch get-hit (shaking)
[Statedef 5010]
type    = C
movetype= H
physics = N
velset = 0,0

[State 5010, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = 5020 + GetHitVar(animtype)

[State 5010, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5010, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5010, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5010, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
triggerall = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 5010, 6]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0 && !GetHitVar(fall)
value = 5011 ;Crouch get-hit (knocked back)

[State 5010, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 5030

[State 5010, FFB Light]
type = ForceFeedback
trigger1 = anim = 5020
persistent = 0
time = 6
waveform = square

[State 5010, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5021
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5010, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5022
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; Crouch get-hit (knocked back)
[Statedef 5011]
type    = C
movetype= H
physics = C

[State 5011, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5011, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 5025 + GetHitVar(animtype)

[State 5011, 3] ;Stop sliding back
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5011, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 5011, 5]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 5011, 6]
type = ChangeState
trigger1 = HitOver
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Air get-hit (shaking)
[Statedef 5020]
type    = A
movetype= H
physics = N
velset = 0,0

[State 5020, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(airtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5020, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5020, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5020, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5020, 5]
type = ChangeState
trigger1 = HitShakeOver
value = 5030

[State 5020, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5020, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5020, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
trigger4 = anim = [5051,5059]
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; Air get-hit (knocked away)
[Statedef 5030]
type    = A
movetype= H
physics = N
ctrl = 0

[State 5030, 1]
type = ChangeAnim
trigger1 = Anim != [5000, 5199]
trigger1 = SelfAnimExist(5030)
value = 5030

[State 5030, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5030, 3]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5030, 4]
type = ChangeState
triggerall = !HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= Const(movement.air.gethit.groundlevel)
value = 5040 ;HITA_RECOV

[State 5030, 5]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= Const(movement.air.gethit.groundlevel)
value = 5050 ;HITA_FALL

[State 5030, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 5035 ;Air get-hit (transition)

;---------------------------------------------------------------------------
; Air get-hit (transition)
[Statedef 5035]
type    = A
movetype= H
physics = N

[State 5035, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059] ;Not if in hit up anim
trigger1 = Anim != 5090 ;Not if hit off ground anim
value = 5035

[State 5035, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5035, 3]
type = ChangeState
triggerall = !HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Animation over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= Const(movement.air.gethit.groundlevel)
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 5040 ;Air get-hit (recovering in air, not falling)

[State 5035, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Anim is over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= Const(movement.air.gethit.groundlevel)
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 5050 ;Air get-hit (falling)

;---------------------------------------------------------------------------
; Air get-hit (recovering in air, not falling)
[Statedef 5040]
type    = A
movetype= H
physics = N

[State 5040, 1]
type = ChangeState
trigger1 = !Alive
value = 5050
ctrl = 0

[State 5040, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim != 5040
trigger2 = Time = 0
trigger2 = Anim != 5035
value = 5040

[State 5040, 3]
type = CtrlSet
trigger1 = HitOver
value = 1

[State 5040, 4]
type = StateTypeSet
trigger1 = HitOver
movetype = I

[State 5040, 5]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5040, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;Jump land

;---------------------------------------------------------------------------
; Air get-hit (falling)
[Statedef 5050]
type    = A
movetype= H
physics = N

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, Const720p(4), Const720p(-8))
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = backedgebodydist <= 0 || frontedgebodydist >= 0 
trigger1 = facing != facing
anim = 8015
id = 8010
ownpal = 1
sprpriority = 4
postype = front
pos = 0,ceil(playerID(var(7)),screenpos y)
facing = facing


[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5050, 4] ;Recover near ground
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= Const(movement.air.gethit.groundrecover.ground.threshold)
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200 ;Air get-hit (fall recovery on ground)

[State 5050, 5]; Recover in mid air
type = ChangeState
triggerall = Vel Y > Const(movement.air.gethit.airrecover.threshold)
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 ;Air get-hit (fall recovery in air)

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, Const(movement.air.gethit.groundlevel))
value = 5110 ;Downed get-hit (hit ground from fall)

;---------------------------------------------------------------------------
; Tripped get-hit (shaking)
[Statedef 5070]
type    = A
movetype= H
physics = N
velset = 0,0

[State 5070, 1]
type = ChangeAnim
trigger1 = 1
value = 5070

[State 5070, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 5071

[State 5070, 3]
type = ForceFeedback
trigger1 = time = 0
time = 12
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; Tripped get-hit (knocked away)
[Statedef 5071]
type    = A
movetype= H
physics = N

[State 5071, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5071, 2] ;Acceleration
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5071, 3] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= Const(movement.air.gethit.trip.groundlevel)
type = ChangeState
value = 5110

;---------------------------------------------------------------------------
; Downed get-hit (shaking)
[Statedef 5080]
type    = L
movetype= H
physics = N
velset = 0,0

[State 5080, 1] ;Set default anim
type = VarSet
trigger1 = time = 0
sysvar(2) = ifelse (GetHitVar(yvel) = 0, 5080, 5090)

[State 5080, 2]
type = VarAdd
trigger1 = time = 0
trigger1 = (anim = [5081,5089]) || (anim = [5111,5119])
trigger1 = SelfAnimExist(sysvar(2) + (anim % 10))
sysvar(2) = anim % 10

[State 5080, 3] ;If 5090 doesn't exist, default to 5030
type = VarSet
trigger1 = time = 0
trigger1 = sysvar(2) = 5090
trigger1 = !SelfAnimExist(5090)
sysvar(2) = 5030

[State 5080, 3] ;Freeze
type = ChangeAnim
trigger1 = 1
value = sysvar(2)

[State 5080, 4]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
value = 5081 ;Downed get-hit (knocked back)

[State 5080, 5]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) != 0
value = 5030 ;Air get-hit (knocked away)

;---------------------------------------------------------------------------
; Downed get-hit (knocked back)
[Statedef 5081]
type    = L
movetype= H
physics = C

[State 5081, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5081, 2]
type = VelSet
trigger1 = HitOver
x = 0

[State 5081, 3] ;Don't show hit ground frame
type = VarSet
trigger1 = Time = 0
sysvar(0) = 1

[State 5081, 4]
type = ChangeState
trigger1 = HitOver
value = 5110 ;Downed get-hit (lying down)

; Dead Get Hit (initial going up, used when dead, Vs System Type)
[Statedef 5090]
type    = A
movetype= H
physics = N

[State 5090, 1]
type = VelAdd
trigger1 = Time > 0
y = GetHitVar(yaccel)

[State 5090, 2a]
type = VelSet
trigger1 = Time = 0 && Roundstate = 2 && roundstate != 3
x = -(abs(GetHitVar(xvel)) + (Const720p(20)))
y = -(abs(GetHitVar(yvel)) + (Const720p(20))*(abs(GetHitVar(yvel) < Const720p(56))))


[State 5090, 2b]
type = VelSet
trigger1 = Time = 0 && Roundstate = 3
x = -(abs(GetHitVar(xvel)) + (Const720p(20)))
y = -(abs(GetHitVar(yvel)) + (Const720p(20))*(abs(GetHitVar(yvel) < Const720p(56))))

[State 5090, 3] ;Anim for HIT_BACK/HIT_DIAG_UP
type = ChangeAnim
trigger1 = Vel Y < Const720p(-16)
value = Cond(SelfAnimExist(5035), 5035, 5030)

[State 5090, 4]
type = NotHitBy
trigger1 = Vel Y > Const720p(-8)
value = SCA
time = 700

[State 5090, 4]
type = ChangeState
trigger1 = Vel Y > 0
value = 5050

;---------------------------------------------------------------------------
; Downed get-hit (hit ground from fall)
[Statedef 5100]
type    = L
movetype= H
physics = N

[State 5100, 2004.04.14 behavior]
type = null;VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x < -1
x = -1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 5110 ;Downed get-hit (lying down)

[State 5100, 8]
type = Explod
trigger1 = Time = 1
anim = 8010
pos = 0, 0
sprpriority = 5

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
value = 0,7

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 5101 ;Downed get-hit (bounce off ground)

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;---------------------------------------------------------------------------
; Downed get-hit (bounce off ground)
[Statedef 5101]
type    = L
movetype= H
physics = N

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 3]
type = HitFallVel
trigger1 = Time = 0

[State 5101, 4]
type = PosSet
trigger1 = Time = 0
y = Const(movement.down.bounce.offset.y)

[State 5101, 5]
type = PosAdd
trigger1 = Time = 0
x = Const(movement.down.bounce.offset.x)

[State 5101, 6] ;Acceleration
type = VelAdd
trigger1 = 1
y = Const(movement.down.bounce.yaccel)

[State 5101, 7] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= Const(movement.down.bounce.groundlevel)
type = ChangeState
value = 5110

;---------------------------------------------------------------------------
; Downed get-hit (lying down)
[Statedef 5110]
type    = L
movetype= H
physics = N

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = 0,7

[State 5110, 7]
type = Explod
trigger1 = Time = 0
trigger1 = !SysVar(0)
anim = 8010
pos = 0, 0
sprpriority = 5

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5110, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 5110, 11] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 5110, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5110, 14] ;Friction
type = VelSet
trigger1 = abs(Vel x) < Const(movement.down.friction.threshold)
persistent = 0
x = 0

[State 5110, 15]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 5110, 16]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine

[State 0, ChangeState]
type = null;ChangeState
triggerall = Alive 
triggerall = Anim = 5110
trigger1 = command = "recovery"
value = 5202


;---------------------------------------------------------------------------
; Downed get-hit (getting up)
[Statedef 5120]
type    = L
movetype= I
physics = N

[State 5120, 1a] ;Get up anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5111,5119]
trigger2 = !SelfAnimExist(5120 + (anim % 10))
value = 5120

[State 5120, 1b] ;Get up anim (for hit up/diag-up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5111,5119]
trigger1 = SelfAnimExist(5120 + (anim % 10))
value = 5120 + (anim % 10)

[State 5120, 2]
type = VelSet
trigger1 = Time = 0
x = 0

[State 5120, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5120, 4]
type = HitFallSet
trigger1 = AnimTime = 0
value = 1

[State 5120, Getting Up Snd]
Type = PlaySnd
TriggerAll = Alive = 1
triggerall = random % 10 < 5
TriggerAll = !IsHelper
Trigger1 = Time = 1
Value = 65,random%5
Channel = 5
IgnoreHitPause = 1

[State 5120, 5] ;Can't be thrown right after getting up
type = NotHitBy
trigger1 = AnimTime = 0
value = , NT,ST,HT
time = 12

[State 5120, 6] ;Can't be hit right after getting up (short time)
type = NotHitBy
trigger1 = AnimTime = 0
value2 = SCA
time = 3

[State 5120, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Downed get-hit (lying defeated)
[Statedef 5150]
type    = L
movetype= H
physics = N
sprpriority = -3
ctrl = 0

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = Anim = 5140
trigger1 = Time % 3 = 2 && Time >= 70
trigger2 = Time > 122
flag = Invisible

[State 5150, 1] ;Normal anim
type = ChangeAnim
triggerall = roundstate = 2
triggerall = Time = 0
triggerall = SelfAnimExist(5140)
trigger1 = (anim != [5111,5119]) && (anim != [5171,5179])
trigger2 = !SelfAnimExist(5140 + (anim % 10))
value = 5140

[State 5150, 3] ;Hit up type anim
type = ChangeAnim
triggerall = roundstate = 3
trigger1 = Time = 0
trigger1 = (anim = [5111,5119]) || (anim = [5171,5179])
trigger1 = SelfAnimExist(5150)
value = 5150

[State 5150, 4] ;Match over anim
type = ChangeAnim
persistent = 0
;trigger1 = Time = 0
trigger1 = MatchOver = 1
trigger1 = Anim = [5140,5149]
trigger1 = SelfAnimExist(anim+10)
value = anim+10

[State 5150, 5] ;Switch to 5110 if liedead anim does not exist
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Anim != [5140,5159]
trigger1 = Anim != [5110,5119]
value = 5110

[State 5150, 6] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5150, 7] ;Friction
type = VelSet
trigger1 = abs(Vel x) < Const(movement.down.friction.threshold)
persistent = 0
x = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = prevstateno = 50002 
value = 0
movecamera = 0,0 


[State 5150, 8]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Air get-hit (fall recovery on ground; still falling)
[Statedef 5200]
type    = A
movetype= H
physics = N

[State 5200, 1] ;Change anim if done with transition
type = ChangeAnim
trigger1 = Anim = 5035
trigger1 = AnimTime = 0
value = 5050

[State 5200, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5200, 3]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= Const(movement.air.gethit.groundrecover.groundlevel)
value = 5201

;---------------------------------------------------------------------------
; Air get-hit (fall recovery on ground)
[Statedef 5201]
type    = A
movetype= H
physics = A
anim = 5200

[State 5201, 1] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < Const720p(-20)

[State 5201, 2]
type = VelSet
trigger1 = Time = 0
x = Const(velocity.air.gethit.groundrecover.x)
y = Const(velocity.air.gethit.groundrecover.y)

[State 5201, 3]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5201, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5201, 5] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128 ;256,256,256

[State 5201, 6]
type = Explod
trigger1 = Time = 0
anim = F60
pos = 0, -floor(vel y)
sprpriority = -10

;---------------------------------------------------------------------------
; Air get-hit (fall recovery in air)
[Statedef 5210]
type    = A
movetype= I
physics = N
anim = 5210
ctrl = 0

[State 5210, 1] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 128,128,128

[State 5210, 1]
type = PosFreeze
trigger1 = Time < 4

[State 5210, 2] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < Const720p(-80)

[State 5210, 1.0 behavior 1]
type = VelMul
trigger1 = Time = 4
x = Const(velocity.air.gethit.airrecover.mul.x)
y = Const(velocity.air.gethit.airrecover.mul.y)

[State 5210, 1.0 behavior 2]
type = VelAdd
trigger1 = Time = 4
x = Const(velocity.air.gethit.airrecover.add.x)
y = Const(velocity.air.gethit.airrecover.add.y)

[State 5210, 2002.04.14 behavior 1]
type = null;VelMul
trigger1 = Time = 4
x = .8
y = .8

[State 5210, 2002.04.14 behavior 2]
type = null;VelAdd
trigger1 = Time = 4
x = 0
y = -4.5

[State 5210, 2002.04.14 behavior 3]
type = null;VelMul
trigger1 = Time = 4
trigger1 = Vel Y > 0
y = .5

[State 5210, 2002.04.14 behavior 4]
type = null;VelAdd
trigger1 = Time = 4
trigger1 = Vel Y > -3
y = -2

[State 5210, 2002.04.14 behavior 5]
type = null;VelAdd
trigger1 = Time = 4
trigger1 = Vel Y > -2
y = -1

[State 5210, 2] ;Go up
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdup"
y = Const(velocity.air.gethit.airrecover.up)

[State 5210, 2] ;Go down
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holddown"
y = Const(velocity.air.gethit.airrecover.down)

[State 5210, 2] ;Go fwd
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdfwd"
x = Const(velocity.air.gethit.airrecover.fwd)

[State 5210, 2] ;Go back
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdback"
x = Const(velocity.air.gethit.airrecover.back)

[State 5210, 3]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 15

[State 5210, 4]
type = CtrlSet
trigger1 = Time = 20
value = 1

[State 5210, 5]
type = VelAdd
trigger1 = Time >= 4
y = Const(movement.air.gethit.airrecover.yaccel)

[State 5210, 5] ;Land on ground
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;Jump land
ctrl = 1

;---------------------------------------------------------------------------
; Continue screen animation
[Statedef 5500]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 5500, 1] ;Use continue animation if available
type = ChangeAnim
trigger1 = time = 0
trigger1 = SelfAnimExist(5500)
value = 5500

;---------------------------------------------------------------------------
; Initialize (at the start of the round)
[Statedef 5900]
type = S

[State 5900, 1] ;Clear all int variables
type = VarRangeSet
trigger1 = roundsexisted = 0
value = 0

[State 5900, 2] ;Clear all float variables
type = VarRangeSet
trigger1 = roundsexisted = 0
fvalue = 0

[State 5900, 3] ;Change palette
type = RemapPal
trigger1 = 1
source = 1,1
dest = 1,palno

[State 5900, 4] ;Intro for round 1
type = ChangeState
trigger1 = roundno = 1
value = 190

[State 5900, 5] ;All other rounds
type = ChangeState
triggerall = !roundsexisted && teammode = turns
trigger1 = roundno != 1
value = 190

;Cheap K.O. 
;=============<CHEAP K.O.>=============
[StateDef 5950]
type = S
moveType = H
physics = S
anim = 5950
velSet = 0,0

[State 5950, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5950, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 5950, Assert: NoKOsnd]
type = AssertSpecial
trigger1 = 1
flag = NoKOsnd

[State 5950, StopSnd]
type = StopSnd
trigger1 = !Time && !Alive
channel = 0

[State 5950, KO Sound];Gasping SND
type = 	null;PlaySnd
trigger1 = AnimElem = 2 && !Alive
value = 61,2+(random%2)

[State 5950,Cheap KO Sound]
type = PlaySnd
trigger1 = AnimElem = 1 && !Alive
value = 5950,0+(random%2)

[State 5950, Hitting the Floor Sound]
type = null;PlaySnd
trigger1 = AnimElem = 8
value = 0,7
volume = 200

[State 5950, Hitting the Floor Explod]
type = Explod
trigger1 = AnimElem = 8
anim = 8102
sprpriority = -3
postype = P1
scale = 0.5,0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 5950, End]
type = ChangeState
trigger1= !AnimTime
value = ifElse(Alive, 5110, 5150)

; ...
[Statedef 19999997]
type    = A
movetype= H
physics = N
velset = 0,0
anim = 9999

[State 7760]
type = playsnd
trigger1 = Time = 1
value = 0,14
channel = 8
volume = 255
persistent = 0

[State 7760]
type = playsnd
trigger1 = Time = 1
value = 0,14
channel = 9
volume = 255
persistent = 0

[State FX-4b, Pause]
type = Pause
trigger1 = roundstate = 2
trigger1 = time <= 60
trigger1 = (time % 1) = 0
time = 1

[State 7760]
type = Explod
triggerall = !NumExplod(88888888)
trigger1 = WinKO
trigger2 = Time = 0
persistent = 0
anim = 9950
id = 88888888
postype = Back
pos = 0, 0
bindtime = -1
removetime = -2
ontop = 1
supermovetime = 1000
pausemovetime = 1000
ignorehitpause = 1


[State 7760]
type = DestroySelf
trigger1 = Parent,alive

[Statedef 19999998]
type    = A
movetype= H
physics = N
velset = 0,0
anim = 9999

[State 6119, Explod]
type = Explod
triggerall = !NumExplod(88888888)
trigger1 = WinKO
trigger2 = Time = 0
persistent = 0
anim = 9950
id = 88888888
postype = Back
pos = 0, 0
bindtime = -1
removetime = -2
ontop = 1
supermovetime = 1000
pausemovetime = 1000
ignorehitpause = 1


[State 7760]
type = playsnd
trigger1 = Time = 1
value = 0,15
channel = 8
volume = 255
persistent = 0

[State 7760]
type = playsnd
trigger1 = Time = 1
value = 0,15
channel = 9
volume = 255
persistent = 0


[State 7770]
type = DestroySelf
trigger1 = Parent,alive

;Lv 3 Hyper Helper
[Statedef 8501] 
type = A
physics = N
anim = 9999
velset = 0,0
ctrl = 0

[State 8500, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1,2

[State 8500, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg

[State 8500, EnvColor]
type = EnvColor
trigger1 = time < 37
value = 0,0,0
under = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = 8500
id = 8500
bindtime = -1
removetime = -1
ontop = 1
supermove = 1
ownpal = 1
scale = 1.1,1.1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = 8900
sprpriority = -1
pos = 0,120
postype = back
under = 1
supermove = 1
bindtime = 6
removetime = 37
vel = -0.09,0
scale = 1,1
ID = 8900
ownpal = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = f9951
sprpriority = -2
postype = left
under = 1
supermove = 1
bindtime = -1
removetime = 37
scale = 1,1
ownpal = 1


[State 9999,0]
type = ModifyExplod
trigger1 = time = [0,6]
ID = 8900
scale = .75- (.0415*time), .75- (.0415*time)
sprpriority = -1
under = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 37
trigger2 = time > 37 && root,var(4) = 1 && !numexplod(8505)
anim = 8506
id = 8505
postype = left
bindtime = -1
removetime = -1
sprpriority = -3
ownpal = 1

[State 8500, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(4) = 0 || root,var(4) = 2
trigger2 = root,movetype = H
trigger3 = time >= 37 && roundstate > 2
id = 8505

[State 8500, ChangeState]
type = ChangeState
triggerall = root,winko
trigger1 = time >= 37 && roundstate > 2
value = 8510

[State 8500, DestroySelf]
type = DestroySelf
trigger1 = root,var(4) = 0
trigger2 = root,movetype = H

;X-Over Hyper Helper
[Statedef 8502] 
type = A
physics = N
anim = 9999
velset = 0,0
ctrl = 0

[State 8500, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1,2

[State 8500, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg

;[State 8500, EnvColor]
;type = EnvColor
;trigger1 = time < 37
;value = 0,0,0
;under = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = 9101
id = 8500
bindtime = -1
removetime = -1
ontop = 1
supermove = 1
ownpal = 1
scale = 1.1,1.1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = 8905
sprpriority = 5
pos = 60,78
postype = back
ontop = 1
supermove = 1
bindtime = 6
removetime = 37
vel = 0,0
scale = 1,1
ID = 8900
ownpal = 1

;[State 8500, Explod]
;type = Explod
;trigger1 = time = 0
;anim = f9951
;sprpriority = -2
;postype = left
;under = 1
;supermove = 1
;bindtime = -1
;removetime = 37
;scale = 1,1
;ownpal = 1


[State 9999,0]
type = ModifyExplod
trigger1 = time = [0,6]
ID = 8900
scale = .75- (.0415*time), .75- (.0415*time)
sprpriority = -1
under = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
trigger2 = time > 0 && root,var(4) = 1 && !numexplod(8505)
anim = 8506
id = 8505
postype = left
bindtime = -1
removetime = -1
sprpriority = -3
ownpal = 1
Supermovetime = 37
ignorehitpause = 1


[State 8500, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(4) = 0 || root,var(4) = 2
trigger2 = root,movetype = H
trigger3 = time >= 37 && roundstate > 2
id = 8505

[State 8500, ChangeState]
type = ChangeState
triggerall = root,winko 
trigger1 = time >= 37 && roundstate > 2
value = 8510

[State 8500, DestroySelf]
type = DestroySelf
trigger1 = root,var(4) = 0
trigger2 = root,movetype = H
 
;Doing the Recovery command while
;lying down will save you from extra hits on ground
[Statedef 5202]
type    = C
movetype= H
physics = N
anim = 5200
facep2 = 1
sprpriority = -1

[State 5201, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 5201, VelSet]
type = VelSet
trigger1 = time = 0
x = 8
y = 0

[State 5201, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5201, PlayerPush]
type = PlayerPush
trigger1 = anim = 5200
value = 0

[State 5201, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;P1 Tech Hit
[Statedef 200000]
type = S
movetype = I
physics = S
velset = -8,0
facep2 = 1
anim = 47

[State -2, システムメッセージ]
type = Explod
triggerall = var(40)
triggerall = teamside = 1 && alive
trigger1 = time = 0
anim = f8578
ownpal = 1
ontop = 1
postype = right
bindtime = -1
pos = 0,var(41)+var(16)*20
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8570

[State -2, システムメッセージ]
type = Explod
triggerall = var(40)
triggerall = teamside = 2 && alive
trigger1 = time = 0
anim = f8573
ownpal = 1
ontop = 1
postype = left
bindtime = -1
pos = 0,var(41)+var(16)*20
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8570

[State 7000, sn1]
type = PlaySnd
trigger1 = Time = 0
value = f2,14
volume = 255

[State 820, 2]
type = nothitby
trigger1 = 1
value = SCA

[State 820, 2]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;P1 Air Tech-Hit
[Statedef 200010];??????
type = A
movetype = I
physics = N
anim = 132
velset = -2,-2
facep2 = 1

[State 820, 1]
type = playsnd
trigger1 = time = 1
value = S8201,4
volume = 250

[State -2, システムメッセージ]
type = Explod
triggerall = var(40)
triggerall = teamside = 1 && alive
trigger1 = time = 0
anim = f8578
ownpal = 1
ontop = 1
postype = right
bindtime = -1
pos = 0,var(41)+var(16)*20
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8570

[State -2, システムメッセージ]
type = Explod
triggerall = var(40)
triggerall = teamside = 2 && alive
trigger1 = time = 0
anim = f8573
ownpal = 1
ontop = 1
postype = left
bindtime = -1
pos = 0,var(41)+var(16)*20
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8570

[State 7000, sn1]
type = PlaySnd
trigger1 = Time = 0
value = f2,14
volume = 255

[State 821, 1] ;Gravity
type = VelAdd
Trigger1 = 1
y = .53

[State 820, 2]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 820, 2]
type = SelfState
trigger1 = time > 15
value = 51
anim = 44
ctrl = 1

;----------------------------------------------------------------------
;P2 Tech-Hit
[Statedef 200020]
type = A
movetype = H
physics = N
velset = -4,-10
facep2 = 1

[State 821, 1]
type = VelAdd
Trigger1 = 1
y = .53

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 5040

[State 820, 2]
type = nothitby
trigger1 = time = 0
value = SCA
time = 17

[State 820, 2]
type = SelfState
trigger1 = time > 18
value = 50
ctrl = 1


