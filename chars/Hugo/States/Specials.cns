;------------------------------------------------------------------
;Moonsault Press
[Statedef 1000]
type=S
movetype=A
physics=S
ctrl=0
velset=0,0
poweradd=72 * !var(20)
sprpriority=1
facep2=1

[State 1000, VarSet]
type=VarSet
trigger1 =!AILevel&& !time
var(10)=ifelse(command="MoonsaultPress1",0,ifelse(command="MoonsaultPress2",1,2))
ignorehitpause=1

[State 1000, VarSet]
type=VarSet
trigger1 =AILevel&& !time
var(10)=ifelse(random<700,1,2)
ignorehitpause=1

[State 1000, anim]
type=ChangeAnim
Trigger1=!time
value=ifElse(var(10)=0,1000,ifElse(var(10)=1,1010,1020))
ignorehitpause=1

[State 1000, Voice]
type=PlaySnd
trigger1 =animelem = 3
value=1,2
channel=0

[State 1000, Move Snd]
type=PlaySnd
trigger1=Animelem=4
value=5000,0

[State 1000, posadd]
type=posadd
trigger1=animelemtime(1)=0
trigger2=animelemtime(2)=0
trigger3=animelemtime(3)=0
trigger4=animelemtime(4)=0
x=8*const(size.xscale)

[State 1000, posadd]
type=posadd
trigger1=animelemtime(7)=0
x=-8*const(size.xscale)

[State 1000, Position]
type=PosSet
trigger1=!Time
y=0

[State 1000, AttackDist]
type=AttackDist
trigger1=1
value=0

[State 1000, Throw]
type=Hitdef
trigger1=!time
;trigger1=!var(38)
attr=S,ST
priority=1,Miss
getpower=0
givepower=0
hitflag=M
numhits=0
sparkno=-1 + 0 * (var(33) := 0)
p1facing = ifelse (command = "holdback", -1, 1)
p2facing = 1
p1stateno=1050
hitsound=s800,0
fall=1
fall.recover=1
ID=1000

[State 1000, StateTypeSet: Idle]
type=StateTypeSet
trigger1=AnimElemTime(3) =0
movetype=I

[State 1000, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

;---------------------------------------------------------------------------
;Moonsault Press
[Statedef 1050]
type=S
movetype=A
physics=N
anim=1050
ctrl=0
velset=0,0
poweradd=0
sprpriority=1
facep2=1

[State 1000, TargetState]
type = TargetState
Trigger1 = !time
value = 1060

[State 1000, TargetState]
type = TargetState
Trigger1 = time = 0
trigger1 = target,authorname = "Capcom"
trigger1 = target,name = "Hugo Andore"
value = 1070

[State 1000, Playerpush]
type = Playerpush
trigger1 = 1
value = 0

[State 1000]
type = Width
trigger1 = 1
edge = 30,30

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1 && P2StateNo = 1060
pos = ceil(80*const(size.xscale)), 0

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 2 && P2StateNo = 1060
pos = ceil(60*const(size.xscale)), 0

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 3 && P2StateNo = 1060
pos = 0, 0

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 4 && P2StateNo = 1060
pos = ceil(-10*const(size.xscale)), 0

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 5 && P2StateNo = 1060
pos = 0, 0

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 6 && P2StateNo = 1060
pos = ceil(-30*const(size.xscale)), ceil(-70*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 7 && P2StateNo = 1060
pos = ceil(-15*const(size.xscale)), ceil(-85*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 8 && P2StateNo = 1060
pos = 0, ceil(-120*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 9 && P2StateNo = 1060
pos = ceil(10*const(size.xscale)), ceil(-110*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 10 && P2StateNo = 1060
pos = ceil(10*const(size.xscale)), ceil(-110*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 11  && P2StateNo = 1060
pos = 0, ceil(-100*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 12 && P2StateNo = 1060
pos = ceil(-10*const(size.xscale)), ceil(-100*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 13 && P2StateNo = 1060
pos = ceil(-10*const(size.xscale)), ceil(-100*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 14 && P2StateNo = 1060
pos = ceil(10*const(size.xscale)), ceil(-100*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 15 && P2StateNo = 1060
pos = ceil(35*const(size.xscale)), ceil(-110*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 16 && P2StateNo = 1060
pos = ceil(10*const(size.xscale)), ceil(-110*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 17  && P2StateNo = 1060
pos = ceil(-10*const(size.xscale)), ceil(-110*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 18 && P2StateNo = 1060
pos = ceil(-10*const(size.xscale)), ceil(-110*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 19 && P2StateNo = 1060
pos = ceil(-10*const(size.xscale)), ceil(-105*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 20 && P2StateNo = 1060
pos = ceil(10*const(size.xscale)), ceil(-105*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 21 && P2StateNo = 1060
pos = ceil(35*const(size.xscale)), ceil(-110*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 22 && P2StateNo = 1060
pos = ceil(20*const(size.xscale)), ceil(-105*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 23  && P2StateNo = 1060
pos = ceil(5*const(size.xscale)), ceil(-115*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 24 && P2StateNo = 1060
pos = ceil(-15*const(size.xscale)), ceil(-120*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 25 && P2StateNo = 1060
pos = ceil(-25*const(size.xscale)), ceil(-105*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 26 && P2StateNo = 1060
pos = ceil(-30*const(size.xscale)), ceil(-85*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 27 && P2StateNo = 1060
pos = ceil(-35*const(size.xscale)), ceil(-70*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 28 && P2StateNo = 1060
pos = ceil(-20*const(size.xscale)), ceil(-60*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 29  && P2StateNo = 1060
pos = ceil(-10*const(size.xscale)), ceil(-50*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(30) >= 0 && P2StateNo = 1060
pos = 0, ceil(-50*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1 && P2StateNo = 1070
pos = ceil(82*const(size.xscale)), 0

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 2 && P2StateNo = 1070
pos = ceil(47*const(size.xscale)), 0

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 3 && P2StateNo = 1070
pos = ceil(3*const(size.xscale)), 0

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 4 && P2StateNo = 1070
pos = ceil(-25*const(size.xscale)), 0

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 5 && P2StateNo = 1070
pos = ceil(-15*const(size.xscale)), ceil(-5*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 6 && P2StateNo = 1070
pos = ceil(-40*const(size.xscale)), 0

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 7 && P2StateNo = 1070
pos = ceil(-21*const(size.xscale)), ceil(-13*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 8 && P2StateNo = 1070
pos = 0, ceil(-50*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 9 && P2StateNo = 1070
pos = ceil(26*const(size.xscale)), ceil(-42*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 10 && P2StateNo = 1070
pos = ceil(-16*const(size.xscale)), ceil(-41*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 11  && P2StateNo = 1070
pos = ceil(-17*const(size.yscale)), ceil(-41*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 12 && P2StateNo = 1070
pos = ceil(-41*const(size.xscale)), ceil(-33*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 13 && P2StateNo = 1070
pos = ceil(-20*const(size.xscale)), ceil(-40*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 14 && P2StateNo = 1070
pos = 0, ceil(-29*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 15 && P2StateNo = 1070
pos = ceil(37*const(size.xscale)), ceil(-45*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 16 && P2StateNo = 1070
pos = ceil(-10*const(size.xscale)), ceil(-41*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 17  && P2StateNo = 1070
pos = ceil(10*const(size.xscale)), ceil(-31*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 18 && P2StateNo = 1070
pos = ceil(-29*const(size.xscale)), ceil(-36*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 19 && P2StateNo = 1070
pos = ceil(-28*const(size.xscale)), ceil(-36*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 20 && P2StateNo = 1070
pos = ceil(41*const(size.xscale)), ceil(-19*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 21 && P2StateNo = 1070
pos = ceil(41*const(size.xscale)), ceil(-39*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 22 && P2StateNo = 1070
pos = ceil(22*const(size.xscale)), ceil(-21*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 23  && P2StateNo = 1070
pos = ceil(6*const(size.xscale)), ceil(-26*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 24 && P2StateNo = 1070
pos = ceil(-15*const(size.xscale)), ceil(-121*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 25 && P2StateNo = 1070
pos = ceil(-8*const(size.xscale)), ceil(-109*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 26 && P2StateNo = 1070
pos = ceil(-22*const(size.xscale)), ceil(-158*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 27 && P2StateNo = 1070
pos = ceil(-50*const(size.xscale)), ceil(-134*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 28 && P2StateNo = 1070
pos = ceil(-35*const(size.xscale)), ceil(10*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 29  && P2StateNo = 1070
pos = ceil(-30*const(size.xscale)), ceil(14*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 30 && P2StateNo = 1070
pos = 0, ceil(-10*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 31 && P2StateNo = 1070
pos = 0, ceil(-10*const(size.yscale))

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(32) >= 0 && P2StateNo = 1070
pos = 0, ceil(-30*const(size.yscale))

[State 1000, Velocity]
type = VelSet
trigger1 = AnimElemtime(8) = 0
y = -8.0-0.8*var(10)

[State 1000, Velocity]
type = VelSet
triggerall=var(10)=3
trigger1 = AnimElemtime(8) = 0
x = 0 + ifElse(command = "holdfwd", 1.5, 0) - ifElse(command = "holdback", 1.5, 0) 
y = -10.0-0.8*var(10)

[State 1000, veladd]
type = veladd
trigger1 = animelemtime(20) >= 0
trigger1 = animelemtime(29) < 0
y = 0.4+0.04*var(10)

[State 1000, veladd]
type = veladd
trigger1 = animelemtime(29) >= 0
y = 1.2

[State 1000]
type = posadd
trigger1 = animelemtime(23) = 0
trigger2 = animelemtime(24) = 0
trigger3 = animelemtime(25) = 0
trigger4 = animelemtime(26) = 0
trigger5 = animelemtime(27) = 0
trigger6 = animelemtime(28) = 0
trigger7 = animelemtime(29) = 0
x = -3*const(size.xscale)

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S0,1
channel = 0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 9
trigger3 = animelem = 13
trigger4 = animelem = 17
value = S1,1

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 21
value = S1,2

[State 1000]
type = SprPriority
trigger1 = AnimElem = 7
trigger2 = AnimElem = 12
trigger3 = AnimElem = 18
trigger4 = AnimElem = 31
value = 0

[State 1000]
type = SprPriority
trigger1 = AnimElem = 10
trigger2 = AnimElem = 16
trigger3 = AnimElem = 26
value = 2

[State 1000]
type = Explod
trigger1 = animelemtime(7) = 0
ID = 1055
anim = 1055
postype = p1
pos = 0,0
persistent = 0
bindtime = -1
velocity = 0, 0
accel = 0, 0
sprpriority = 2
scale = const(size.xscale),const(size.yscale)

[State 1000, StateType]
type = StateTypeSet
trigger1 = AnimElem = 8,>=0
StateType = A
physics = N

[State 1000, State End]
type = ChangeState
triggerall = animelemtime(8) > 0
trigger1 = pos y > -vel y
value = 1051

;---------------------------------------------------------------------------
;Moonsault Press
[Statedef 1051]
type=S
movetype=A
physics=N
anim=1051
ctrl=0
velset=0,0
poweradd=0
sprpriority=1
facep2=1

[State 1000, TargetState]
type = TargetState
Trigger1 = time = 0
value = 1061

[State 1000, TargetState]
type = TargetState
Trigger1 = time = 0
trigger1 = target,authorname = "Capcom"
trigger1 = target,name = "Hugo Andore"
value = 1071

[State 1000]
type = Width
trigger1 = 1
edge = 30,0

[State 1000, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
ID = 1055

[State 1000, VelSet]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1000, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1000, Playerpush]
type = Playerpush
trigger1 = 1
value = 0

[State 1000, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1
pos = 0, 0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,7

[State 0, Dust]
type = helper
trigger1 = time = 0
helpertype = normal
stateno = 8110
ID = 8100
name = "Impact Dust"
postype = p1
pos = 0, 0
ownpal = 1

[State 1000, TargetPowerAdd]
type = TargetPowerAdd
trigger1 = NumTarget && !time
value = 36

[State 1000, PowerAdd]
type = PowerAdd
trigger1 = NumTarget && !time && !var(20)
value = 72

[State 1000, HitAdd]
type = HitAdd
trigger1 = NumTarget && !time
value = 1

[State 1000]
type = TargetLifeAdd
trigger1 = NumTarget && !time
value = floor(-180*fvar(10))-15*var(10)

[State 1000, Envshake]
type = Envshake
trigger1 = time = 2
time = 30
freq = 100
ampl = -8-var(10)

[State 1000, Velocity]
type = VelSet
trigger1 = AnimElemtime(9) = 0
x = -3.0
y = -7.0

[State 1000, veladd]
type = veladd
trigger1 = animelemtime(9) >= 0
y = .60

[State 1000, StateType]
type = StateTypeSet
trigger1 = AnimElem = 9,>=0
StateType = A
physics = N

[State 1000, State End]
type = ChangeState
triggerall = animelemtime(9) > 0
trigger1 = pos y > -vel y
value = 52
;---------------------------------------------------------------------------
;Moonsault Press(Target)
[Statedef 1060]
type=A
movetype=H
physics=N
velset=0,0
sprpriority=-1

[State 1000]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1000]
type=ChangeAnim2
Trigger1=!time 
value=1060

[State 1000, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 1000, Playerpush]
type = Playerpush
trigger1 = 1
value = 0

[State 1000, StateType]
type = StateTypeSet
trigger1 = AnimElem = 8,>=0
StateType = A
physics = N

;---------------------------------------------------------------------------
;Moonsault Press(Target#2)
[Statedef 1061]
type=A
movetype=H
physics=N
velset=0,0
sprpriority=-1

[State 1000]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1100]
type=ChangeAnim2
Trigger1=!time 
value=1061

[State 1000, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1000, Playerpush]
type = Playerpush
trigger1 = 1
value = 0

[State 1000, Velocity]
type = VelSet
trigger1 = animtime = 0
x = -3.0
y = -3.0

[State 1000, Changestate]
type = selfstate
trigger1 = animtime = 0
value = 5101

;---------------------------------------------------------------------------
;Moonsault Press(Target)
[Statedef 1070]
type=A
movetype=H
physics=N
velset=0,0
sprpriority=-1

[State 1000]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1000]
type=ChangeAnim2
Trigger1=!time 
value=1070

[State 1000, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 1000, Playerpush]
type = Playerpush
trigger1 = 1
value = 0

[State 1000, StateType]
type = StateTypeSet
trigger1 = AnimElem = 8,>=0
StateType = A
physics = N

;---------------------------------------------------------------------------
;Moonsault Press(Target#2)
[Statedef 1071]
type=A
movetype=H
physics=N
velset=0,0
sprpriority=-1

[State 1000]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1000]
type=ChangeAnim2
Trigger1=!time 
value=1071

[State 1000, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1000, Playerpush]
type = Playerpush
trigger1 = 1
value = 0

[State 1000, Velocity]
type = VelSet
trigger1 = AnimElemtime(5) = 0
x = -4.0
y = -4.0

[State 1000, veladd]
type = veladd
trigger1 = animelemtime(5) >= 0
y = .60

[State 811, Changestate]
type = selfstate
trigger1 = animelemtime(5) > 0
trigger1=pos y > -vel y
value = 5110
;------------------------------------------------------------------
;EX-Moonsault Press
[Statedef 1030]
type=S
movetype=A
physics=S
anim=1030
ctrl=0
velset=0,0
poweradd=-500
sprpriority=1
facep2=1

[State 1030, VarSet]
type=VarSet
trigger1 =!time
var(10)=3
ignorehitpause=1

[State 1030, MAX Timer Drain]
type=VarAdd
trigger1=!Time
trigger1=var(20) > 0
var(20)=-250

[State 1030, Custom Combo Juggle Reset]
type=VarSet
trigger1=!Time && var(20)
var(15)=0
ignoreHitPause=1

[State 1030, EX Flash]
type=VarSet
trigger1=!Time
var(25)=30

[State 1030, EX FX]
type=Explod
trigger1=!Time
anim=8210
sprPriority=3
posType=p1
pos=10, -67
scale=0.5, 0.5
pauseMoveTime=-1
superMoveTime=-1
ownPal=1

[State 1030, EX-SND]
type=PlaySnd
trigger1 =!time
value=0,1000
channel=3

[State 1000, Voice]
type=PlaySnd
trigger1 =animelem = 3
value=1,2
channel=0

[State 1000, Move Snd]
type=PlaySnd
trigger1=Animelem=4
value=5000,0

[State 1030, NotHitBy]
type=NotHitBy
trigger1=AnimElemTime(3) < 0
time=1
value=SCA

[State 1030, posadd]
type=Posadd
trigger1=animelemtime(1)=0
trigger2=animelemtime(2)=0
trigger3=animelemtime(3)=0
trigger4=animelemtime(4)=0
x=10*const(size.xscale)

[State 1030, posadd]
type=Posadd
trigger1=animelemtime(7)=0
x=-10*const(size.xscale)

[State 1030, Position]
type=PosSet
trigger1=!Time
y=0

[State 1030, AttackDist]
type=AttackDist
trigger1=1
value=0

[State 1030, Throw]
type=Hitdef
trigger1=!time
trigger1=!var(38)
attr=S,ST
priority=1,Miss
getpower=0
givepower=0
hitflag=M
numhits=0
sparkno=-1+0*(var(33):=0)
p1facing = ifelse (command = "holdback", -1, 1)
p2facing = 1
p1stateno=1050
hitsound=s800,0
fall=1
fall.recover=1
ID=1030

[State 1030, StateTypeSet: Idle]
type=StateTypeSet
trigger1=AnimElemTime(3)=0
movetype=I

[State 1030, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

;------------------------------------------------------------------
;Shootdown Backbreaker 
[Statedef 1100]
type=S
movetype=A
physics=S
ctrl=0
velset=0,0
poweradd=72 * !var(20)
sprpriority=1
facep2=1

[State 1100, VarSet]
type=VarSet
trigger1 =!AILevel&& !time
var(10)=ifelse(command="ShootdownBackbreaker1",0,ifelse(command="ShootdownBackbreaker2",1,2))
ignorehitpause=1

[State 1100, VarSet]
type=VarSet
trigger1 =AILevel&& !time
var(10)=ifelse(random<700,1,2)
ignorehitpause=1

[State 1100, ChangeAnim]
type = ChangeAnim
trigger1 = !Time
value = ifElse(var(10) = 0, 1100, ifElse(var(10) = 1, 1110, 1120))

[State -2, PlaySnd]
type = PlaySnd
trigger1 = animelemtime(2) = 0
value = S0,5
channel = 0

[State -2, PlaySnd]
type = PlaySnd
trigger1 = animelemtime(2) = 0
value = S1,2

[State 1100, Move Snd]
type=PlaySnd
trigger1=Animelem=2
value=41,0

[State 1100, Dust]
type = helper
trigger1 = Animelem=2
;helpertype = normal
stateno = 8100
ID = 8100
name = "Jump Dust"
postype = p1
ownpal = 1

[State 1100, Position]
type = PosSet
trigger1 = !Time
y = 0

[State 1100, StateTypeSet]
type=StateTypeSet
trigger1=animelem=2
statetype=A  
physics=N

[State 1100, VelAdd]
type = VelAdd
trigger1 = animelemtime(2) >= 0
y=.50*const(size.yscale)

[State 1100, Velset]
type=Velset
trigger1=AnimElem=2
x=5+1.5*var(10)
y=-6.5-1*var(10)

[State -2, Playerpush]
type = Playerpush
trigger1 = animelemtime(2) >= 0
trigger1 = enemynear,statetype = C
value = 0

[State 1100, Throw]
type=Hitdef
trigger1=!time
;trigger1=!var(38)
attr = A, ST
hitflag = AF
priority=1,Miss
getpower=0
givepower=0
numhits=0
sparkno=-1 + 0 * (var(33) := 0)
p2facing=1
p1stateno=1150
hitsound=s800,0
fall=1
fall.recover=1
ID=1100

[State 1100, End]
type = ChangeState
trigger1 = pos y > -vel y
value = 52

;------------------------------------------------------------------
;EX-Shootdown Backbreaker 
[Statedef 1130]
type=S
movetype=A
physics=S
anim=1130
ctrl=0
velset=0,0
poweradd=-500
sprpriority=1
facep2=1

[State 1130, VarSet]
type=VarSet
trigger1 =!time
var(10)=3
ignorehitpause=1

[State 1130, MAX Timer Drain]
type=VarAdd
trigger1=!Time
trigger1=var(20) > 0
var(20)=-250

[State 1130, Custom Combo Juggle Reset]
type=VarSet
trigger1=!Time && var(20)
var(15)=0
ignoreHitPause=1

[State 1130, EX Flash]
type=VarSet
trigger1=!Time
var(25)=30

[State 1130, EX FX]
type=Explod
trigger1=!Time
anim=8210
sprPriority=3
posType=p1
pos=10,-67
scale=0.5, 0.5
pauseMoveTime=-1
superMoveTime=-1
ownPal=1

[State 1130, EX-SND]
type=PlaySnd
trigger1 =!time
value=0,1000
channel=3

[State 1130, Voice]
type=PlaySnd
trigger1=!time
value=0,5
channel=0

[State 1130, Move Snd]
type=PlaySnd
trigger1=Animelem=2
value=41,0

[State -2, PlaySnd]
type = PlaySnd
trigger1 = animelemtime(2) = 0
value = S1,2

[State 1130, Dust]
type = helper
trigger1 = Animelem=2
;helpertype = normal
stateno = 8100
ID = 8100
name = "Jump Dust"
postype = p1
ownpal = 1

[State 1100, Position]
type = PosSet
trigger1 = !Time
y = 0

[State 1130, NotHitBy]
type=NotHitBy
trigger1=AnimElemTime(6) < 0
time=1
value=SCA

[State 1130, StateTypeSet]
type=StateTypeSet
trigger1=animelem=2
statetype=A  
physics=N

[State 1130, VelAdd]
type = VelAdd
trigger1 = animelemtime(2) >= 0
y=.50*const(size.yscale)

[State 1130, Velset]
type=Velset
trigger1=AnimElem=2
x=9.5
y=-8.5

[State 1130, Playerpush]
type = Playerpush
trigger1 = animelemtime(2) >= 0
trigger1 = enemynear,statetype = C
value = 0

[State 1130, Throw]
type=Hitdef
trigger1=!time
;trigger1=!var(38)
attr = A, ST
hitflag = AF
priority=1,Miss
getpower=0
givepower=0
numhits=0
sparkno=-1 + 0 * (var(33) := 0)
p2facing=1
p1stateno=1150
hitsound=s800,0
fall=1
fall.recover=1
ID=1130

[State 1130, End]
type = ChangeState
trigger1 = pos y > -vel y
value = 52
;---------------------------------------------------------------------------
;Shootdown Backbreaker  
[Statedef 1150]
type=S
movetype=A
physics=N
anim=1150
ctrl=0
velset=0,0
poweradd=0
sprpriority=1
facep2=1

[State -2, TargetState]
type = TargetState
Trigger1 = time = 0
value = 1151

[State 1200, TargetState]
type = TargetState
Trigger1 = time = 0
trigger1 = target,authorname = "Capcom"
trigger1 = target,name = "Hugo Andore"
value = 1152

[State 1200, VelSet]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1200, VelSet]
type = Veladd
trigger1 = animelemtime(7) >= 0
y = 0.6

[State 1200, 9]
type = Width
trigger1 = 1
edge = 80,0

[State -2, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1100,0
channel = 0

[State 1200, Playerpush]
type = Playerpush
trigger1 = 1
value = 0

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1 && P2StateNo = 1151
pos = ceil(80*const(size.xscale)), ceil(-85*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 2 && P2StateNo = 1151
pos = ceil(65*const(size.xscale)), ceil(-90*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 3 && P2StateNo = 1151
pos = ceil(50*const(size.xscale)), ceil(-110*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 4 && P2StateNo = 1151
pos = ceil(30*const(size.xscale)), ceil(-125*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 5  && P2StateNo = 1151
pos = 0, ceil(-135*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 6 && P2StateNo = 1151
pos = 0, ceil(-140*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 7 && P2StateNo = 1151
pos = 0, ceil(-155*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(8) >= 0 && P2StateNo = 1151
pos = 0, ceil(-170*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1 && P2StateNo = 1152
pos = ceil(89*const(size.xscale)), ceil(-84*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 2 && P2StateNo = 1152
pos = ceil(76*const(size.xscale)), ceil(-91*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 3 && P2StateNo = 1152
pos = ceil(49*const(size.xscale)), ceil(-107*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 4 && P2StateNo = 1152
pos = ceil(20*const(size.xscale)), ceil(-129*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 5 && P2StateNo = 1152
pos = ceil(5*const(size.xscale)), ceil(-130*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 6 && P2StateNo = 1152
pos = 0, ceil(-150*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 7 && P2StateNo = 1152
pos = ceil(-7*const(size.xscale)), ceil(-170*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(8) >= 0 && P2StateNo = 1152
pos = 0, ceil(-175*const(size.yscale))

[State 1200, State End]
type = ChangeState
trigger1 = AnimElemTime(7) > 0
trigger1=pos y > -vel y
value = 1160

;---------------------------------------------------------------------------
;Shootdown Backbreaker
[Statedef 1151]
type=A
movetype=H
physics=N
velset=0,0
ctrl=0
SprPriority=1

[State 1200, ScreenBound]
type=ScreenBound
trigger1=1
value=1
movecamera=1,0

[State 811, ChangeAnim2]
type=ChangeAnim2
Trigger1=!time
value=1151

;---------------------------------------------------------------------------
;Shootdown Backbreaker
[Statedef 1152]
type=A
movetype=H
physics=N
velset=0,0
ctrl=0
SprPriority=1

[State 1200, ScreenBound]
type=ScreenBound
trigger1=1
value=1
movecamera=1,0

[State 811, ChangeAnim2]
type=ChangeAnim2
Trigger1=!time
value=1152

;---------------------------------------------------------------------------
;Shootdown Backbreaker
[Statedef 1160]
type=S
movetype=A
physics=N
anim=1160
SprPriority=2

[State 1200, TargetState]
type = TargetState
Trigger1 = !time
value = 1161

[State 1200, TargetState]
type = TargetState
Trigger1 = !time 
trigger1 = target,authorname = "Capcom"
trigger1 = target,name = "Hugo Andore"
value = 1162

[State 1100, VelSet]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1100, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1200, Playerpush]
type = Playerpush
trigger1 = 1
value = 0

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1 && P2StateNo = 1161
pos = 0, ceil(-100*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 2 && P2StateNo = 1161
pos = 0, ceil(-110*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 3 && P2StateNo = 1161
pos = 0, ceil(-120*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 4 && P2StateNo = 1161
pos = 0, ceil(-100*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 5 && P2StateNo = 1161
pos = 0, ceil(-110*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 6 && P2StateNo = 1161
pos = ceil(10*const(size.xscale)), ceil(-110*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 7 && P2StateNo = 1161
pos = ceil(0*const(size.xscale)), ceil(-115*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 8 && P2StateNo = 1161
pos = ceil(10*const(size.xscale)), ceil(-110*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1 && P2StateNo = 1162
pos = 0, ceil(-100*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 2 && P2StateNo = 1162
pos = 0, ceil(-110*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 3 && P2StateNo = 1162
pos = 0, ceil(-120*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 4 && P2StateNo = 1162
pos = 0, ceil(-100*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 5 && P2StateNo = 1162
pos = 0, ceil(-110*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 6 && P2StateNo = 1162
pos = ceil(8*const(size.xscale)), ceil(-113*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 7 && P2StateNo = 1162
pos = ceil(3*const(size.xscale)), ceil(-115*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 8 && P2StateNo = 1162
pos = ceil(12*const(size.xscale)), ceil(-107*const(size.yscale))

[State 810, Hit Spark]
type = Helper
trigger1 = time = 0
helperType = Normal
stateNo = 8005
ID = 8000
name = "Spark"
posType = P1
pos = 0,-85
ownPal = 1
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1
size.xScale=0.5
size.yScale=0.5

[State 6901, Landing Dust]
type = Explod
trigger1 = !Time
anim = 8102
sprpriority = -3
postype = p1
scale = .5,.5
pausemovetime = -1
supermovetime = -1
ownpal = 1

[State -2, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S42,0

[State -2, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S12,2

[State -2, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,8

[State -2, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = S1,2

[State -2, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1100,1
channel = 0

[State -2, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = S0,0
channel = 0

[State 1100, TargetPowerAdd]
type = TargetPowerAdd
trigger1 = NumTarget && !time
value = 36

[State 1100, PowerAdd]
type = PowerAdd
trigger1 = NumTarget && !time && !var(20)
value = 72

[State 1100, HitAdd]
type = HitAdd
trigger1 = NumTarget && !time
value = 1

[State 1100]
type = TargetLifeAdd
trigger1 = NumTarget && !time
value = floor(-135*fvar(10))-20*var(10)

[State 1200, 2]
type = Explod
trigger1 = time = 0
ID = 3021
anim = 3021
postype = p1
pos = 0,0
persistent = 0
bindtime = -1
velocity = 0, 0
accel = 0, 0
sprpriority = 0
scale = const(size.xscale),const(size.yscale)

[State 820, ???\???D???x]
type = SprPriority
trigger1 = AnimElemTime(5) >= 0
value = 0

[State -2, Envshake]
type = Envshake
trigger1 = time = 2
time = 20
freq = 100
ampl = -8

[State -2, CornerPush]
type = VarSet
trigger1 = animelemtime(13) = 0
fvar(1) = 10
ignorehitpause = 0

[State 1200, State End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Shootdown Backbreaker
[Statedef 1161]
type    = A
movetype= H
physics = N
velset = 0,0
ctrl = 0
SprPriority = 1

[State 811, ChangeAnim2]
type = ChangeAnim2
Trigger1 = time = 0
value = 1161

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 5030, 4]
type = ChangeState
trigger1 = animtime = 0
value = 1165

;---------------------------------------------------------------------------
;Shootdown Backbreaker
[Statedef 1165]
type    = A
movetype= H
physics = N
ctrl = 0
SprPriority = 1

[State -2, nothitby]
type = nothitby
Trigger1 = 1
value = SCA

[State 820, ChangeAnim2]
type = ChangeAnim
Trigger1 = Time = 0
value = 5030

[State 820, ChangeAnim2]
type = ChangeAnim
trigger1 = SelfAnimExist(5035)
Trigger1 = anim = 5030
Trigger1 = AnimTime = 0
value = 5035

[State 820, ChangeAnim2]
type = ChangeAnim
trigger1 = SelfAnimExist(5035)
Trigger1 = anim = 5035
Trigger1 = AnimTime = 0
trigger2 = !SelfAnimExist(5035)
Trigger2 = anim = 5030
Trigger2 = AnimTime = 0
value = 5050

[State 5050, 2]
type = ChangeAnim
trigger1 = anim = 5050
trigger1 = Vel Y >= 1
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 820, posadd]
type = posadd
trigger1 = Time = 0
x = -60
y = -ceil(const(size.head.pos.Y)/2)

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1200, VelSet]
type = VelSet
trigger1 = time = 0
x = -3.3
y = -9.0

[State 1200, VelSet]
type = VelAdd
trigger1 = 1
y = .60

[State 5030, 2]
type = VelSet
trigger1 = time > 0
trigger1 = vel Y > 0
trigger1 = pos Y >= 25
x = -1.5

[State 5030, 4]
type = SelfState
trigger1 = time > 0
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 25
value = 5100

;---------------------------------------------------------------------------
;Shootdown Backbreaker
[Statedef 1162]
type    = A
movetype= H
physics = N
velset = 0,0
ctrl = 0
SprPriority = 1

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 811, ChangeAnim2]
type = ChangeAnim2
Trigger1 = time = 0
value = 1162

[State 1200, VelSet]
type = VelSet
trigger1 = animelemtime(9) = 0
x = -4.5
y = -9.3

[State 1200, VelSet]
type = VelAdd
trigger1 = animelemtime(9) >= 0
y = .60

[State 5030, 2]
type = VelSet
trigger1 = AnimElemTime(9) > 0
trigger1 = vel Y > 0
trigger1 = pos Y >= -30
x = -1.5

[State 1200, State End]
type = SelfState
trigger1 = AnimElemTime(9) > 0
trigger1 = vel Y > 0
trigger1 = pos Y >= -30
value = 5100

;------------------------------------------------------------------
;Meat Squasher
[Statedef 1200]
type=S
movetype=A
physics=S
ctrl=0
velset=0,0
poweradd=72 * !var(20)
sprpriority=1
facep2=1

[State 1200, VarSet]
type=VarSet
trigger1 =!AILevel&& !time
var(10)=ifelse(command="MeatSquasher1",0,ifelse(command="MeatSquasher2",1,2))
ignorehitpause=1

[State 1200, VarSet]
type=VarSet
trigger1 =AILevel&& !time
var(10)=ifelse(random<700,1,2)
ignorehitpause=1

[State 1200, anim]
type=ChangeAnim
Trigger1=!time
value=ifElse(var(10)=0,1200,ifElse(var(10)=1,1210,1220))
ignorehitpause=1

[State 1200, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1200, posadd]
type = posadd
triggerall = anim = 1200
trigger1 = animelemtime(1) = 0
trigger2 = animelemtime(2) = 0
trigger3 = animelemtime(3) = 0
trigger4 = animelemtime(4) = 0
x = 8*const(size.xscale)

[State 1200, posadd]
type = posadd
triggerall = anim = 1201
trigger1 = animelemtime(1) = 0
trigger2 = animelemtime(2) = 0
trigger3 = animelemtime(3) = 0
trigger4 = animelemtime(4) = 0
x = 8*const(size.xscale)

[State 1200, posadd]
type = posadd
triggerall = anim = 1200
trigger1 = animelemtime(5) = 0
trigger2 = animelemtime(6) = 0
trigger3 = animelemtime(7) = 0
trigger4 = animelemtime(8) = 0
x = 10*const(size.xscale)

[State 1200, posadd]
type = posadd
trigger1 = anim = 1201
trigger1 = animelemtime(7) = 0
x = -8*const(size.xscale)

[State 1200, posadd]
type = posadd
triggerall = anim = 1210
trigger1 = animelemtime(1) = 0
trigger2 = animelemtime(2) = 0
trigger3 = animelemtime(3) = 0
trigger4 = animelemtime(4) = 0
trigger5 = animelemtime(13) = 0
trigger6 = animelemtime(14) = 0
trigger7 = animelemtime(15) = 0
trigger8 = animelemtime(16) = 0
x = 8*const(size.xscale)

[State 1200, posadd]
type = posadd
triggerall = anim = 1211
trigger1 = animelemtime(1) = 0
trigger2 = animelemtime(2) = 0
trigger3 = animelemtime(3) = 0
trigger4 = animelemtime(4) = 0
x = 8*const(size.xscale)

[State 1200, posadd]
type = posadd
triggerall = anim = 1210
trigger1 = animelemtime(5) = 0
trigger2 = animelemtime(6) = 0
trigger3 = animelemtime(7) = 0
trigger4 = animelemtime(8) = 0
trigger5 = animelemtime(9) = 0
trigger6 = animelemtime(10) = 0
trigger7 = animelemtime(11) = 0
trigger8 = animelemtime(12) = 0
x = 12*const(size.xscale)

[State 1200, posadd]
type = posadd
triggerall = anim = 1211
trigger1 = animelemtime(7) = 0
x = -8*const(size.xscale)

[State 1200, posadd]
type = posadd
triggerall = anim = 1220
trigger1 = animelemtime(1) = 0
trigger2 = animelemtime(2) = 0
trigger3 = animelemtime(3) = 0
trigger4 = animelemtime(4) = 0
trigger5 = animelemtime(16) = 0
trigger6 = animelemtime(17) = 0
trigger7 = animelemtime(18) = 0
trigger8 = animelemtime(19) = 0
x = 8*const(size.xscale)

[State 1200, posadd]
type = posadd
triggerall = anim = 1221
trigger1 = animelemtime(1) = 0
trigger2 = animelemtime(2) = 0
trigger3 = animelemtime(3) = 0
trigger4 = animelemtime(4) = 0
x = 8*const(size.xscale)

[State 1200, posadd]
type = posadd
triggerall = anim = 1220
trigger1 = animelemtime(5) = 0
trigger2 = animelemtime(6) = 0
trigger3 = animelemtime(7) = 0
trigger4 = animelemtime(8) = 0
trigger5 = animelemtime(9) = 0
trigger6 = animelemtime(10) = 0
trigger7 = animelemtime(11) = 0
trigger8 = animelemtime(12) = 0
trigger9 = animelemtime(13) = 0
trigger10 = animelemtime(14) = 0
trigger11 = animelemtime(15) = 0
x = 16*const(size.xscale)

[State 1200, posadd]
type = posadd
triggerall = anim = 1221
trigger1 = animelemtime(7) = 0
x = -8*const(size.xscale)

[State 1200, PlaySnd]
type = PlaySnd
trigger1 = anim = 1200
trigger1 = animelemtime(6) = 0
value = S42,0

[State 1000, 3]
type = EnvShake
trigger1 = anim = 1200
trigger1 = animelemtime(6) = 0
time = 3
freq = 120
ampl = 3

[State 1200, PlaySnd]
type = PlaySnd
trigger1 = anim = 1201
trigger1 = animelemtime(2) = 0
value = S1,2

[State 1200, PlaySnd]
type = PlaySnd
trigger1 = anim = 1201
trigger1 = animelemtime(3) = 0
value = S5000,0

[State -2, PlaySnd]
type = PlaySnd
triggerall = anim = 1210
trigger1 = animelemtime(6) = 0
trigger2 = animelemtime(10) = 0
trigger3 = animelemtime(14) = 0
value = S42,0

[State 1000, 3]
type = EnvShake
triggerall = anim = 1210
trigger1 = animelemtime(6) = 0
trigger2 = animelemtime(10) = 0
trigger3 = animelemtime(14) = 0
time = 3
freq = 120
ampl = 3

[State -2, PlaySnd]
type = PlaySnd
triggerall = anim = 1211
trigger1 = animelemtime(4) = 0
value = S1,2

[State -2, PlaySnd]
type = PlaySnd
triggerall = anim = 1220
trigger1 = animelemtime(6) = 0
trigger2 = animelemtime(10) = 0
trigger3 = animelemtime(14) = 0
trigger4 = animelemtime(18) = 0
value = S42,0

[State 1000, 3]
type = EnvShake
triggerall = anim = 1220
trigger1 = animelemtime(6) = 0
trigger2 = animelemtime(10) = 0
trigger3 = animelemtime(14) = 0
trigger4 = animelemtime(18) = 0
time = 3
freq = 120
ampl = 3

[State -2, PlaySnd]
type = PlaySnd
triggerall = anim = 1221
trigger1 = animelemtime(4) = 0
value = S1,2

[State 1200, ChangeAnim]
type = ChangeAnim
triggerall = anim = 1200
trigger1 = P2BodyDist X <= 0
trigger2 = !AnimTime 
value = 1201
persistent = 0

[State -2, ChangeAnim]
type = ChangeAnim
triggerall = anim = 1210
trigger1 = P2BodyDist X <= 0
trigger2 = !AnimTime 
value = 1211
persistent = 0

[State -2, ChangeAnim]
type = ChangeAnim
triggerall = anim = 1220
trigger1 = P2BodyDist X <= 0
trigger2 = !AnimTime 
value = 1221
persistent = 0

[State 1200, Throw]
type=Hitdef
trigger1=!time
;trigger1=!var(38)
attr=S,ST
priority=1,Miss
getpower=0
givepower=0
hitflag=M
numhits=0
sparkno=-1 + 0 * (var(33) := 0)
p1facing = 1
p2facing = 1
p1stateno=1250
hitsound=s800,0
fall=1
fall.recover=1
ID=1200

[State 1200, End]
type=ChangeState
trigger1=Anim=1201+10*var(10)
trigger1=!AnimTime
value=0
ctrl=1
;------------------------------------------------------------------
;EX-Meat Squasher
[Statedef 1230]
type=S
movetype=A
physics=N
anim=1230
ctrl=0
velset=0,0
poweradd=-500
sprpriority=1
facep2=1

[State 1230, VarSet]
type=VarSet
trigger1 =!time
var(10)=3
ignorehitpause=1

[State 1230, MAX Timer Drain]
type=VarAdd
trigger1=!Time
trigger1=var(20) > 0
var(20)=-250

[State 1230, Custom Combo Juggle Reset]
type=VarSet
trigger1=!Time && var(20)
var(15)=0
ignoreHitPause=1

[State 1230, EX Flash]
type=VarSet
trigger1=!Time
var(25)=999

[State 1230, EX FX]
type=Explod
trigger1=!Time
anim=8210
sprPriority=3
posType=p1
pos=10, -67
scale=0.5, 0.5
pauseMoveTime=-1
superMoveTime=-1
ownPal=1

[State 1230, EX-SND]
type=PlaySnd
trigger1 =!time
value=0,1000
channel=3

[State 1230, Voice]
type=PlaySnd
trigger1=animelem=2&&random<=700
value=1200,0
channel=0

[State 1230, Move Snd]
type=PlaySnd
trigger1=Animelem=2
value=1200,1

[State 1230, NotHitBy]
type=NotHitBy
triggerall = anim = 1230
trigger1=AnimElemTime(8) < 0
time=1
value=SCA

[State 1230, NotHitBy]
type=NotHitBy
triggerall = anim = 1231
trigger1=AnimElemTime(3) < 0
time=1
value=SCA

[State 1230, autoguard by Pots]
type = reversaldef
trigger1 = animelemtime(8) < 0
reversal.attr = SCA, NA, SA, NP, SP
pausetime = 4, 4
sparkno = S-1 + 0 * (var(34) := 8001)
hitsound = S130,0
numhits = 0

[State 1230, posadd]
type = posadd
triggerall = anim = 1230
trigger1 = animelemtime(1) = 0
trigger2 = animelemtime(2) = 0
trigger3 = animelemtime(3) = 0
trigger4 = animelemtime(4) = 0
trigger5 = animelemtime(16) = 0
trigger6 = animelemtime(17) = 0
trigger7 = animelemtime(18) = 0
trigger8 = animelemtime(19) = 0
x = 20*const(size.xscale)

[State 1230, posadd]
type = posadd
triggerall = anim = 1231
trigger1 = animelemtime(1) = 0
trigger2 = animelemtime(2) = 0
trigger3 = animelemtime(3) = 0
trigger4 = animelemtime(4) = 0
x = 10*const(size.xscale)

[State 1230, posadd]
type = posadd
triggerall = anim = 1230
trigger1 = animelemtime(5) = 0
trigger2 = animelemtime(6) = 0
trigger3 = animelemtime(7) = 0
trigger4 = animelemtime(8) = 0
trigger5 = animelemtime(9) = 0
trigger6 = animelemtime(10) = 0
trigger7 = animelemtime(11) = 0
trigger8 = animelemtime(12) = 0
trigger9 = animelemtime(13) = 0
trigger10 = animelemtime(14) = 0
trigger11 = animelemtime(15) = 0
x = 25*const(size.xscale)

[State 1230, posadd]
type = posadd
triggerall = anim = 1231
trigger1 = animelemtime(7) = 0
x = -10*const(size.xscale)

[State 1230, ChangeAnim]
type = ChangeAnim
triggerall = anim = 1230
trigger1 = P2BodyDist X <= 0
trigger2 = !AnimTime 
value = 1231
persistent = 0

[State 1230, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1230, PlaySnd]
type = PlaySnd
triggerall = anim = 1230
trigger1 = animelemtime(6) = 0
trigger2 = animelemtime(10) = 0
trigger3 = animelemtime(14) = 0
trigger4 = animelemtime(18) = 0
value = S42,0

[State 1230]
type = EnvShake
triggerall = anim = 1230
trigger1 = animelemtime(6) = 0
trigger2 = animelemtime(10) = 0
trigger3 = animelemtime(14) = 0
trigger4 = animelemtime(18) = 0
time = 3
freq = 120
ampl = 3

[State 1230, Throw]
type=Hitdef
triggerall=anim = 1231
trigger1=AnimElem = 2
;trigger1=!var(38)
attr=S,ST
priority=1,Miss
getpower=0
givepower=0
hitflag=M
numhits=0
sparkno=-1+0*(var(33):=0)
p2facing=1
p1stateno=1250
hitsound=s800,0
fall=1
fall.recover=1
ID=1230

[State 1230, End]
type=ChangeState
trigger1=anim=1231
trigger1=!AnimTime
value=0
ctrl=1

;---------------------------------------------------------------------------
;Meat Squasher
[Statedef 1250]
type=S
movetype=A
physics=N
anim=1250
sprpriority=2

[State 1200, TargetState]
type = TargetState
Trigger1 = time = 0
value = 1260

[State 1200, TargetState]
type = TargetState
Trigger1 = time = 0
trigger1 = target,authorname = "Capcom"
trigger1 = target,name = "Hugo Andore"
value = 1270

[State 1200, ???\???D???x]
type = SprPriority
trigger1 = AnimElem = 2,>0
value = 0

[State 1200, Playerpush]
type = Playerpush
trigger1 = 1
value = 0

[State 1200, 9]
type = Width
trigger1 = 1
edge = 60,60

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1 && target,StateNo = 1260
pos = ceil(60*const(size.xscale)), 0

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 2 && target,StateNo = 1260
pos = ceil(20*const(size.xscale)), ceil(-110*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 3 && target,StateNo = 1260
pos = ceil(20*const(size.xscale)), ceil(-115*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 4 && target,StateNo = 1260
pos = ceil(20*const(size.xscale)), ceil(-120*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 5 && target,StateNo = 1260
pos = ceil(25*const(size.xscale)), ceil(-120*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 6 && target,StateNo = 1260
pos = ceil(20*const(size.xscale)), ceil(-160*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 7 && target,StateNo = 1260
pos = ceil(20*const(size.xscale)), ceil(-160*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 8 && target,StateNo = 1260
pos = ceil(10*const(size.xscale)), ceil(-150*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1 && target,StateNo = 1270
pos = ceil(60*const(size.xscale)), 0

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 2 && target,StateNo = 1270
pos = ceil(45*const(size.xscale)), ceil(5*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 3 && target,StateNo = 1270
pos = ceil(45*const(size.xscale)), ceil(5*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 4 && target,StateNo = 1270
pos = ceil(40*const(size.xscale)), ceil(-5*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 5 && target,StateNo = 1270
pos = ceil(15*const(size.xscale)), ceil(-15*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 6 && target,StateNo = 1270
pos = ceil(15*const(size.xscale)), ceil(-30*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 7 && target,StateNo = 1270
pos = ceil(30*const(size.xscale)), ceil(-50*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 8 && target,StateNo = 1270
pos = ceil(40*const(size.xscale)), ceil(-40*const(size.yscale))

[State 1200, 2]
type = Explod
trigger1 = animelemtime(2) = 0
ID = 1255
anim = 1255
postype = p1
pos = 0,0
persistent = 0
bindtime = -1
velocity = 0, 0
accel = 0, 0
sprpriority = 2
scale = const(size.xscale),const(size.yscale)

[State 1200, Changestate]
type = ChangeState
trigger1 = animtime = 0
trigger1 = Target,Backedgebodydist = 0
value = 1253

[State 1200, Changestate]
type = ChangeState
triggerall = animtime = 0
trigger1 = var(1) = 1 && facing = 1
trigger1 = pos X < helper(30000),pos X
trigger2 = var(1) = 1 && facing = -1
trigger2 = pos X >= helper(30000),pos X
trigger3 = var(1) = 2 && facing = 1
trigger3 = pos X < helper(30000),pos X
trigger4 = var(1) = 2 && facing = -1
trigger4 = pos X >= helper(30000),pos X
value = 1251

[State 1200, Changestate]
type = ChangeState
triggerall = animtime = 0
trigger1 = var(1) = 1 && facing = 1
trigger1 = pos X >= helper(30000),pos X
trigger2 = var(1) = 1 && facing = -1
trigger2 = pos X < helper(30000),pos X
trigger3 = var(1) = 2 && facing = -1
trigger3 = pos X < helper(30000),pos X
trigger4 = var(1) = 2 && facing = 1
trigger4 = pos X >= helper(30000),pos X
value = 1252

;---------------------------------------------------------------------------
;Meat Squasher
[Statedef 1251]
type    = S
movetype= A
physics = N
anim = 1251
sprpriority = 0

[State 1200, TargetState]
type = TargetState
Trigger1 = time = 0
value = 1261

[State 1200, TargetState]
type = TargetState
Trigger1 = time = 0
trigger1 = target,authorname = "Capcom"
trigger1 = target,name = "Hugo Andore"
value = 1271

[State 1200, turn]
type = turn
trigger1 = time = 0

[State 1200, posadd]
type = posadd
trigger1 = animelemtime(1) = 0
x = 8*const(size.xscale)

[State 1200, Playerpush]
type = Playerpush
trigger1 = 1
value = 0

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1 && target,StateNo = 1261
pos = ceil(-20*const(size.xscale)), ceil(-105*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 2 && target,StateNo = 1261
pos = ceil(5*const(size.xscale)), ceil(-80*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 3 && target,StateNo = 1261
pos = ceil(40*const(size.xscale)), ceil(-100*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1 && target,StateNo = 1271
pos = ceil(-20*const(size.xscale)), ceil(-115*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 2 && target,StateNo = 1271
pos = ceil(15*const(size.xscale)), ceil(-80*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = AnimElem = 3 && target,StateNo = 1271
pos = ceil(30*const(size.xscale)), ceil(-110*const(size.yscale))

[State 1200, 2]
type = Explod
trigger1 = time = 0
ID = 1251
anim = 1251
postype = p1
pos = 0,0
persistent = 0
bindtime = -1
velocity = 0, 0
accel = 0, 0
sprpriority = 2
scale = const(size.xscale),const(size.yscale)

[State 1200, Changestate]
type = ChangeState
trigger1 = animtime = 0
value = 1252

;---------------------------------------------------------------------------
;Meat Squasher
[Statedef 1252]
type    = S
movetype= A
physics = N
velset = 8.0,0
anim = 1252
sprpriority = 0

[State 1200, TargetState]
type = TargetState
Trigger1 = time = 0
value = 1262

[State 1200, TargetState]
type = TargetState
Trigger1 = time = 0
trigger1 = target,authorname = "Capcom"
trigger1 = target,name = "Hugo Andore"
value = 1272

[State 1200, Playerpush]
type = Playerpush
trigger1 = 1
value = 0

[State 1200, TargetBind]
type = TargetBind
trigger1 = target,StateNo = 1262
pos = ceil(30*const(size.xscale)), ceil(-145*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = target,StateNo = 1272
pos = ceil(30*const(size.xscale)), ceil(-130*const(size.yscale))

[State 1200, PlaySnd]
type = PlaySnd
trigger1 = animelemtime(3) = 0
trigger2 = animelemtime(7) = 0
value = S42,0

[State 1000, 3]
type = EnvShake
trigger1 = animelemtime(3) = 0
trigger2 = animelemtime(7) = 0
time = 3
freq = 120
ampl = 3

[State 1200, 2]
type = Explod
trigger1 = time = 0
ID = 1257
anim = 1257
postype = p1
pos = 0,0
bindtime = -1
removetime = -1
velocity = 0, 0
accel = 0, 0
sprpriority = 2
scale = const(size.xscale),const(size.yscale)

[State 1200, Explod]
type = Explod
trigger1 = time%2 = 0
anim = 6250
postype = p1
pos = 0, 0
velocity = 0, 0
accel = 0, 0
bindtime = 1
ownpal = 1
sprpriority = 3
scale = const(size.xscale),const(size.yscale)

[State 1200, Changestate]
type = ChangeState
trigger1 = Target,Backedgebodydist <= 0
trigger2 = time = 300
value = 1253

;---------------------------------------------------------------------------
;Meat Squasher
[Statedef 1253]
type    = S
movetype= A
physics = N
velset = 3.0,-8.0
anim = 1253
sprpriority = 0

[State 1200, TargetState]
type = TargetState
Trigger1 = time = 0
value = 1263

[State 1200, TargetState]
type = TargetState
Trigger1 = time = 0
trigger1 = target,authorname = "Capcom"
trigger1 = target,name = "Hugo Andore"
value = 1273

[State 1200, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,1
channel = 0

[State 1130, Move Snd]
type=PlaySnd
trigger1=time = 0
value=41,0

[State 40, Dust]
type = helper
trigger1 = Time=0
helpertype = normal
stateno = 8100
ID = 8100
name = "Jump Dust"
postype = p1
ownpal = 1

[State 1200, ???\???D???x]
type = SprPriority
trigger1 = AnimElem = 2,>0
value = 2

[State 1200, Playerpush]
type = Playerpush
trigger1 = 1
value = 0

[State 1200, TargetBind]
type = TargetBind
triggerall = target,StateNo = 1263
trigger1 = animelem = 1,>=0
trigger1 = animelem = 2,<0
pos = ceil(50*const(size.xscale)), ceil(-140*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = animelem = 2 && target,StateNo = 1263
pos = ceil(40*const(size.xscale)), ceil(-100*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = animelem = 3 && target,StateNo = 1263
pos = ceil(40*const(size.xscale)), ceil(-100*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
triggerall = target,StateNo = 1273
trigger1 = animelem = 1,>=0
trigger1 = animelem = 2,<0
pos = ceil(33*const(size.xscale)), ceil(-34*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = animelem = 2 && target,StateNo = 1273
pos = ceil(40*const(size.xscale)), ceil(-15*const(size.yscale))

[State 1200, TargetBind]
type = TargetBind
trigger1 = animelem = 3 && target,StateNo = 1273
pos = ceil(40*const(size.xscale)), ceil(-15*const(size.yscale))

[State 1200, Velocity]
type = VelSet
trigger1 = AnimElemtime(2) = 0
x = 0
y = 0

[State 1200, Velocity]
type = VelSet
trigger1 = AnimElemtime(4) = 0
x = -4.0 + var(10)*0.75
y = -6.0

[State 1200, veladd]
type = veladd
trigger1 = animelemtime(2) < 0
trigger2 = animelemtime(4) >= 0
y = .40

[State 1200, 2]
type = RemoveExplod
trigger1 = time = 0
ID = 1257

[State 1200, 2]
type = Explod
trigger1 = time = 0
ID = 1258
anim = 1258
postype = p1
pos = 0,0
persistent = 0
bindtime = -1
velocity = 0, 0
accel = 0, 0
sprpriority = 2
scale = const(size.xscale),const(size.yscale)

[State 1200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem=3
value = S2,7

[State 0, Dust]
type = helper
trigger1 = AnimElem=3
helpertype = normal
stateno = 8111
ID = 8100
name = "Wall Impact Dust"
postype = p2
ownpal = 1

[State 1200, TargetPowerAdd]
type = TargetPowerAdd
trigger1 = NumTarget && AnimElem=3
value = 36

[State 1200, PowerAdd]
type = PowerAdd
trigger1 = NumTarget && AnimElem=3 && !var(20)
value = 72

[State 1200, HitAdd]
type = HitAdd
trigger1 = NumTarget && AnimElem=3
value = 1

[State 1200]
type = TargetLifeAdd
trigger1 = NumTarget && AnimElem=3
value = floor(-154*fvar(10))-15*var(10)

[State 1200, Hit Spark]
type=Helper
trigger1=AnimElem=3
helperType = Normal
stateNo = 8013
ID = 8000
name = "Spark"
pos = ceil(30*const(size.xscale)),ceil(-100*const(size.yscale))
posType = P1
ownPal = 1
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 1200]
type = EnvShake
trigger1 = AnimElemTime(3) = 2
time = 20
freq = 80
ampl = 4

[State 1200, Changestate]
type = ChangeState
triggerall = animelemtime(4) > 0
trigger1=pos y > -vel y
value = 52

;---------------------------------------------------------------------------
;Meat Squasher
[Statedef 1260]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0
SprPriority = 1

[State 1200, ChangeAnim2]
type = ChangeAnim2
Trigger1 = time = 0
value = 1260

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 1200, 9]
type = Width
trigger1 = 1
edge = 0,40

;---------------------------------------------------------------------------
;Meat Squasher
[Statedef 1261]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0
SprPriority = 1

[State 1200, turn]
type = turn
trigger1 = time = 0

[State 1200, ChangeAnim2]
type = ChangeAnim2
Trigger1 = time = 0
value = 1261

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

;---------------------------------------------------------------------------
;Meat Squasher
[Statedef 1262]
type    = A
movetype= H
physics = N
ctrl = 0
SprPriority = 1

[State 1200, ChangeAnim2]
type = ChangeAnim2
Trigger1 = time = 0
value = 1262

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 1200, 9]
type = Width
trigger1 = 1
edge = 0,40

;---------------------------------------------------------------------------
;Meat Squasher
[Statedef 1263]
type    = A
movetype= H
physics = N
ctrl = 0
SprPriority = 1

[State 1200, ChangeAnim2]
type = ChangeAnim2
Trigger1 = time = 0
value = 1263

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 1200, Changestate]
type = ChangeState
trigger1 = animtime = 0
value = 1264

;---------------------------------------------------------------------------
;Meat Squasher
[Statedef 1264]
type    = A
movetype= H
physics = N
ctrl = 0
SprPriority = 1

[State 1200, posadd]
type = posadd
trigger1 = Time = 0
y = -const(size.mid.pos.Y)

[State 1200, nothitby]
type = nothitby
Trigger1 = 1
value = SCA

[State 1200, ChangeAnim2]
type = ChangeAnim
Trigger1 = Time = 0
value = 5030

[State 1200, ChangeAnim2]
type = ChangeAnim
trigger1 = SelfAnimExist(5035)
Trigger1 = anim = 5030
Trigger1 = AnimTime = 0
value = 5035

[State 1200, ChangeAnim2]
type = ChangeAnim
trigger1 = SelfAnimExist(5035)
Trigger1 = anim = 5035
Trigger1 = AnimTime = 0
trigger2 = !SelfAnimExist(5035)
Trigger2 = anim = 5030
Trigger2 = AnimTime = 0
value = 5050

[State 5050, 2]
type = ChangeAnim
trigger1 = anim = 5050
trigger1 = Vel Y >= 1
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5030, 2]
type = VelSet
trigger1 = time = 0
y = -8.0

[State 5030, 1]
type = veladd
trigger1 = 1
y = .60

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 5030, 4]
type = SelfState
trigger1 = time > 0
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 25
value = 5100

;---------------------------------------------------------------------------
;Meat Squasher
[Statedef 1270]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0
SprPriority = 1

[State 1200, ChangeAnim2]
type = ChangeAnim2
Trigger1 = time = 0
value = 1270

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 1200, 9]
type = Width
trigger1 = 1
edge = 0,40

;---------------------------------------------------------------------------
;Meat Squasher
[Statedef 1271]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0
SprPriority = 1

[State 1200, turn]
type = turn
trigger1 = time = 0

[State 1200, ChangeAnim2]
type = ChangeAnim2
Trigger1 = time = 0
value = 1271

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

;---------------------------------------------------------------------------
;Meat Squasher
[Statedef 1272]
type    = A
movetype= H
physics = N
ctrl = 0
SprPriority = 1

[State 1200, ChangeAnim2]
type = ChangeAnim2
Trigger1 = time = 0
value = 1272

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 1200, 9]
type = Width
trigger1 = 1
edge = 0,40

;---------------------------------------------------------------------------
;Meat Squasher
[Statedef 1273]
type    = A
movetype= H
physics = N
ctrl = 0
SprPriority = 1

[State 1200, ChangeAnim2]
type = ChangeAnim2
Trigger1 = time = 0
value = 1273

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 1200, Changestate]
type = ChangeState
trigger1 = animtime = 0
value = 1274

;---------------------------------------------------------------------------
;Meat Squasher
[Statedef 1274]
type    = A
movetype= H
physics = N
ctrl = 0
SprPriority = 1

[State 1200, nothitby]
type = nothitby
Trigger1 = 1
value = SCA

[State 1200, ChangeAnim2]
type = ChangeAnim
Trigger1 = Time = 0
value = 5030

[State 1200, ChangeAnim2]
type = ChangeAnim
trigger1 = SelfAnimExist(5035)
Trigger1 = anim = 5030
Trigger1 = AnimTime = 0
value = 5035

[State 1200, ChangeAnim2]
type = ChangeAnim
trigger1 = SelfAnimExist(5035)
Trigger1 = anim = 5035
Trigger1 = AnimTime = 0
trigger2 = !SelfAnimExist(5035)
Trigger2 = anim = 5030
Trigger2 = AnimTime = 0
value = 5050

[State 5050, 2]
type = ChangeAnim
trigger1 = anim = 5050
trigger1 = Vel Y >= 1
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5030, 2]
type = VelSet
trigger1 = time = 0
y = -8.0

[State 5030, 1]
type = veladd
trigger1 = 1
y = .60

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 5030, 4]
type = SelfState
trigger1 = time > 0
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 25
value = 5100
;------------------------------------------------------------------
;Ultra Throw
[Statedef 1300]
type=S
movetype=A
physics=S
ctrl=0
velset=0,0
poweradd=72 * !var(20)
sprpriority=1
facep2=1

[State 1300, VarSet]
type=VarSet
trigger1 =!AILevel&& !time
var(10)=ifelse(command="UltraThrow1",0,ifelse(command="UltraThrow2",1,2))
ignorehitpause=1

[State 1300, VarSet]
type=VarSet
trigger1 =AILevel&& !time
var(10)=ifelse(random<700,1,2)
ignorehitpause=1

[State 1300, anim]
type=ChangeAnim
Trigger1=!time
value=ifElse(var(10)=0,1300,ifElse(var(10)=1,1310,1320))
ignorehitpause=1

[State 1300, Voice]
type=PlaySnd
trigger1 =Animelem=4
value=5000,0
channel=0

[State 1300, Move Snd]
type=PlaySnd
trigger1=Animelem=4
value=1,2

[State 1300, posadd]
type=posadd
trigger1=animelemtime(1)=0
trigger2=animelemtime(2)=0
trigger3=animelemtime(3)=0
trigger4=animelemtime(4)=0
x=8*const(size.xscale)

[State 1300, posadd]
type=posadd
trigger1=animelemtime(7)=0
x=-8*const(size.xscale)

[State 1300, Position]
type=PosSet
trigger1=!Time
y=0

[State 1300, AttackDist]
type=AttackDist
trigger1=1
value=0

[State 1300, Throw]
type=Hitdef
trigger1=!time
;trigger1=!var(38)
attr=S,ST
priority=1,Miss
getpower=0
givepower=0
hitflag=M
numhits=0
sparkno=-1 + 0 * (var(33) := 0)
p1facing = 1
p2facing = 1
p1stateno=1350
hitsound=s800,0
fall=1
fall.recover=1
ID=1300

[State 1300, StateTypeSet: Idle]
type=StateTypeSet
trigger1=AnimElemTime(4) =0
movetype=I

[State 1300, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

;------------------------------------------------------------------
;EX-Ultra Throw
[Statedef 1330]
type=S
movetype=A
physics=S
anim=1330
ctrl=0
velset=0,0
poweradd=-500
sprpriority=1
facep2=1

[State 1330, VarSet]
type=VarSet
trigger1 =!time
var(10)=3
ignorehitpause=1

[State 1330, MAX Timer Drain]
type=VarAdd
trigger1=!Time
trigger1=var(20) > 0
var(20)=-250

[State 1330, Custom Combo Juggle Reset]
type=VarSet
trigger1=!Time && var(20)
var(15)=0
ignoreHitPause=1

[State 1330, EX Flash]
type=VarSet
trigger1=!Time
var(25)=30

[State 1330, EX FX]
type=Explod
trigger1=!Time
anim=8210
sprPriority=3
posType=p1
pos=10, -67
scale=0.5, 0.5
pauseMoveTime=-1
superMoveTime=-1
ownPal=1

[State 1330, EX-SND]
type=PlaySnd
trigger1 =!time
value=0,1000
channel=3

[State 1330, Voice]
type=PlaySnd
trigger1=animelem=2&&random<=700
value=1000,0
channel=0

[State 1330, Move Snd]
type=PlaySnd
trigger1=Animelem=2
value=1000,1

[State 1330, NotHitBy]
type=NotHitBy
trigger1=AnimElemTime(4) < 0
time=1
value=SCA

[State 1330, posadd]
type=Posadd
trigger1=animelemtime(1)=0
trigger2=animelemtime(2)=0
trigger3=animelemtime(3)=0
trigger4=animelemtime(4)=0
x=10*const(size.xscale)

[State 1330, posadd]
type=Posadd
trigger1=animelemtime(7)=0
x=-10*const(size.xscale)

[State 1330, Position]
type=PosSet
trigger1=!Time
y=0

[State 1330, NotHitBy]
type=NotHitBy
trigger1=AnimElemTime(4) < 0
time=1
value=SCA

[State 1330, AttackDist]
type=AttackDist
trigger1=1
value=0

[State 1330, Throw]
type=Hitdef
trigger1=!time
trigger1=!var(38)
attr=S,ST
priority=1,Miss
getpower=0
givepower=0
hitflag=M
numhits=0
sparkno=-1+0*(var(33):=0)
p1facing = 1
p2facing = 1
p1stateno=1350
hitsound=s800,0
fall=1
fall.recover=1
ID=1330

[State 1330, StateTypeSet: Idle]
type=StateTypeSet
trigger1=AnimElemTime(4)=0
movetype=I

[State 1330, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

;---------------------------------------------------------------------------
;Ultra Throw
[Statedef 1350]
type=S
movetype=A
physics=N
anim=1350
ctrl=0
velset=0,0
poweradd=0
sprpriority=1
facep2=1

[State 1300, TargetState]
type = TargetState
Trigger1 = !time
value = 1360

[State 1300, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1
pos = ceil(60*const(size.xscale)), 0

[State 1300, TargetBind]
type = TargetBind
trigger1 = AnimElem = 2
pos = 0,ceil(-70*const(size.yscale))

[State 1300, TargetBind]
type = TargetBind
trigger1 = AnimElem = 3
pos = ceil(-60*const(size.xscale)), ceil(-70*const(size.yscale))

[State 1300, TargetBind]
type = TargetBind
trigger1 = AnimElem = 4
pos = ceil(-65*const(size.xscale)), ceil(-80*const(size.yscale))

[State 1300, TargetBind]
type = TargetBind
trigger1 = AnimElem = 5
pos = ceil(-55*const(size.xscale)), ceil(-90*const(size.yscale))

[State 1300, TargetBind]
type = TargetBind
trigger1 = AnimElem = 6
pos = ceil(35*const(size.xscale)), ceil(-100*const(size.yscale))

[State 1300, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(7) = 0
pos = ceil(80*const(size.xscale)), ceil(-100*const(size.yscale))

[State 1000, TargetPowerAdd]
type = TargetPowerAdd
trigger1 = NumTarget && AnimElem = 7
value = 36

[State 1000, PowerAdd]
type = PowerAdd
trigger1 = NumTarget && AnimElem = 7 && !var(20)
value = 72

[State 1000, HitAdd]
type = HitAdd
trigger1 = NumTarget && AnimElem = 7
value = 1

[State 1000]
type = TargetLifeAdd
trigger1 = NumTarget && AnimElem = 7
value = floor(-60*fvar(10))-15*var(10)

[State 1300, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S0,1
channel = 0

[State 1300, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S1,2

[State 1300]
type = Width
trigger1 = animelemtime(2) >= 0
trigger1 = animelemtime(7) < 0
edge = 0,ifelse(var(10)=0,20,ifelse(var(10)=1,40,60))

[State 1300]
type = Width
trigger1 = animelemtime(7) >= 0
trigger1 = animelemtime(10) < 0
edge = 120,ifelse(var(10)=0,20,ifelse(var(10)=1,40,60))

[State 1300]
type = Width
trigger1 = animelemtime(10) >= 0
edge = 0,ifelse(var(10)=0,20,ifelse(var(10)=1,40,60))

[State 1300, State End]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Moonsault Press(Target)
[Statedef 1360]
type=A
movetype=H
physics=N
velset=0,0
sprpriority=0

[State 1300]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1300]
type=ChangeAnim2
Trigger1=!time 
value=1360

[State 1300]
type=ChangeAnim2
trigger1=!time
trigger1=authorname="Capcom"
trigger1=name="Hugo Andore"
value=1361

[State 1300]
type = VelSet
trigger1 = animelemtime(7) = 1
x = -15.0
y = -4.0

[State 1300]
type = VelSet
triggerall=var(10)=3
trigger1 = animelemtime(7) = 1
x = -25.0
y = -4.0

[State 1300]
type = veladd
trigger1 = animelemtime(7) >= 1
y = .50

[State 1300]
type = ScreenBound
trigger1 = animelemtime(7) >= 7
value = 1
movecamera = 1,0

[State 1300]
type = ScreenBound
trigger1 = animelemtime(7) < 7
value = 1
movecamera = 0,0

[State 1300] 
type = ChangeState
triggerall = animelemtime(7) > 1
triggerall = Pos Y < 0
trigger1 = BackEdgeBodyDist <= 5
trigger2 = FrontEdgeBodyDist <= 5
value = 1370

[State 1300]
type = SelfState
triggerall = animelemtime(7) > 1
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 5100

;---------------------------------------------------------------------------
;Moonsault Press(Target#2)
[Statedef 1370]
type=A
movetype=H
physics=N
velset=0,0
sprpriority=-1

[State 1300]
type = PosAdd
trigger1 = !Time
x = 5 - BackEdgeBodyDist
y = -const(size.mid.pos.Y)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=0
value = S2,7
channel = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=0
value = S7,0
channel = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=0
value = S5100,1
channel = 1

[State 1300]
type = PosFreeze
trigger1 = 1

[State 1300]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1300]
type = ChangeAnim2
trigger1 = Time = 0
value = 1370

[State 1300]
type = Turn
trigger1 = animelem = 2

[State 1300]
type = EnvShake
trigger1 = Time = 3
time = 10

[State 1300]
type = ChangeState
trigger1 = !AnimTime
value = 1380

;---------------------------------------------------------------------------
;Moonsault Press(Target#2)
[Statedef 1380]
type=A
movetype=H
physics=N
velset=0,0
sprpriority=-1

[State 1200, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 820, ChangeAnim2]
type = ChangeAnim
Trigger1 = Time = 0
value = 5030

[State 820, ChangeAnim2]
type = ChangeAnim
trigger1 = SelfAnimExist(5035)
Trigger1 = anim = 5030
Trigger1 = AnimTime = 0
value = 5035

[State 820, ChangeAnim2]
type = ChangeAnim
trigger1 = SelfAnimExist(5035)
Trigger1 = anim = 5035
Trigger1 = AnimTime = 0
trigger2 = !SelfAnimExist(5035)
Trigger2 = anim = 5030
Trigger2 = AnimTime = 0
value = 5050

[State 5050, 2]
type = ChangeAnim
trigger1 = anim = 5050
trigger1 = Vel Y >= 1
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5030, 2]
type = VelSet
trigger1 = !Time 
x = -1.0
y = -10.5

[State 5030, 1]
type = veladd
trigger1 = 1
y = .60

[State 5030, 4]
type = SelfState
trigger1 = time > 0
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 25
value = 5100

;------------------------------------------------------------------
;Giant Palm Bomber
[Statedef 1400]
type=S
movetype=A
physics=S
ctrl=0
velset=0,0
poweradd=72 * !var(20)
sprpriority=1
facep2=1

[State 1400, VarSet]
type=VarSet
trigger1 =!AILevel&& !time
var(10)=ifelse(command="GiantPalmBomber1",0,ifelse(command="GiantPalmBomber2",1,2))
ignorehitpause=1

[State 1400, VarSet]
type=VarSet
trigger1 =AILevel&& !time
var(10)=ifelse(random<700,1,2)
ignorehitpause=1

[State 1400, anim]
type=ChangeAnim
Trigger1=!time
value=ifElse(var(10)=0,1400,ifElse(var(10)=1,1410,1420))
ignorehitpause=1

[State 1400, Voice]
type=PlaySnd
trigger1=Animelem=7
value=1,2
channel=1

[State 1400, Voice]
type=PlaySnd
trigger1=Animelem=5
value=0,5
channel=0

[State 1400]
type = posadd
trigger1 = animelemtime(2) = 0
x = 15*const(size.xscale)

[State 1400]
type = posadd
trigger1 = animelemtime(5) = 0
x = 8*const(size.xscale)

[State 1400]
type = PlaySnd
trigger1 = AnimElem = 8
value = 42, 0

[State 251, Landing Dust Explod]
type=Explod
trigger1=AnimElem = 8
anim=8102
sprpriority=-3
postype=P1
scale=0.5,0.5
pauseMoveTime=-1
superMoveTime=-1
ownPal=1

[State 1400]
type = Envshake
trigger1 = AnimElemTime(8) = 0
time = 10
freq = 80
ampl = -4

[state 1400, helper]
type = helper
triggerall=var(10)=0
trigger1 = animelemtime(8) = 0
pos = 0,0
postype = p1
stateno = 1440
ID = 1440
helpertype = normal
keyctrl = 0
name = "Giant Palm Bomber"
ignorehitpause = 1
persistent = 0
size.xscale = const(size.xscale)
size.yscale = const(size.yscale)

[state 1400, helper]
type = helper
triggerall=var(10)=1
trigger1 = animelemtime(8) = 0
pos = 0,0
postype = p1
stateno = 1440
ID = 1441
helpertype = normal
keyctrl = 0
name = "Giant Palm Bomber"
ignorehitpause = 1
persistent = 0
size.xscale = const(size.xscale)
size.yscale = const(size.yscale)

[state 1400, helper]
type = helper
triggerall=var(10)=2
trigger1 = animelemtime(8) = 0
pos = 0,0
postype = p1
stateno = 1440
ID = 1442
helpertype = normal
keyctrl = 0
name = "Giant Palm Bomber"
ignorehitpause = 1
persistent = 0
size.xscale = const(size.xscale)
size.yscale = const(size.yscale)

[State 1400]
type = helper
trigger1 = animelemtime(8) = 0
ID = 6500
pos = 0,0
postype = p1
stateno = 6500
helpertype = normal
name = "Palm"
sprpriority = 1
ownpal = 1
keyctrl = 0
ignorehitpause = 1
persistent = 0
size.xscale = const(size.xscale)
size.yscale = const(size.yscale)

[State 1400, Hit]
type=HitDef
trigger1 = !var(16) && (var(15)<3 || var(20))
trigger1=!time
attr=S, SA
damage=ceil(ifElse(fvar(10) * 70 < 7, 7, fvar(10) * 70)), 7
priority=4, hit
animtype=Hard
getpower=72* !var(20), 0
givepower=35, 35
guardflag=MA
hitflag=MAF
hitsound=S2+10*var(44),2
guardsound=S130,0
pauseTime=ifElse(var(20), 0, 14), ifElse(var(20), 0, 14)
guard.pauseTime=0,14
sparkNo=-1 + 0 * (var(33) :=8013)
guard.sparkNo=-1 + 0 * (var(34) :=8001)
sparkXY=-10 + 0 * (var(35) :=155), var(36) :=-60
air.animtype=Back
fall.animtype=Back
ground.type=Low
air.type=Low
ground.slidetime=18
ground.hittime =Ifelse(p2statetype = C, 21, 19)
guard.hittime=12
ground.velocity=-9.0*const(size.xscale)
air.velocity=-3.5*const(size.xscale),-10.0*const(size.yscale) 
guard.velocity=-9.0*const(size.xscale)
airguard.velocity =Ifelse(var(20),-4,-8), -3
airguard.ctrlTime=16
ground.cornerPush.velOff=0
guard.cornerPush.velOff=0
air.cornerPush.velOff=0
yaccel=Ifelse(var(20),.4,.5)
fall=0
fall.recover=0
forcestand=1
palFX.time=12 * var(9)
palFX.add=255,255,255
palFX.sinAdd=-255,-255,-255,48
envshake.time=10
envshake.freq=80
envshake.ampl=-4
ID=1400

[State 1400, StateTypeSet: Idle]
type=StateTypeSet
trigger1=AnimElemTime(10)=0
movetype=I

[State 1400, Ctrlset]
type=Ctrlset
trigger1=AnimelemTime(14)=1
value=1

[State 1400, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

;------------------------------------------------------------------
;EX-Giant Palm Bomber
[Statedef 1430]
type=S
movetype=A
physics=S
anim=1430
ctrl=0
velset=0,0
poweradd=-500
sprpriority=1
facep2=1

[State 1430, VarSet]
type=VarSet
trigger1 =!time
var(10)=3
ignorehitpause=1

[State 1430, MAX Timer Drain]
type=VarAdd
trigger1=!Time
trigger1=var(20) > 0
var(20)=-250

[State 1430, Custom Combo Juggle Reset]
type=VarSet
trigger1=!Time && var(20)
var(15)=0
ignoreHitPause=1

[State 1430, EX Flash]
type=VarSet
trigger1=!Time
var(25)=30

[State 1430, EX FX]
type=Explod
trigger1=!Time
anim=8210
sprPriority=3
posType=p1
pos=10, -67
scale=0.5, 0.5
pauseMoveTime=-1
superMoveTime=-1
ownPal=1

[State 1430, EX-SND]
type=PlaySnd
trigger1 =!time
value=0,1000
channel=3

[State 1430, NotHitBy]
type=NotHitBy
trigger1=AnimElemTime(3) < 0
time=1
value=SCA

[State 1430, Voice]
type=PlaySnd
trigger1=Animelem=5
value=0,5
channel=0

[State 1400, Voice]
type=PlaySnd
trigger1=Animelem=7
value=1,2
channel=1

[State 1430]
type=PlaySnd
trigger1=AnimElem = 8
value=42,0

[State 251, Landing Dust Explod]
type=Explod
trigger1=AnimElem = 8
anim=8102
sprpriority=-3
postype=P1
scale=0.5,0.5
pauseMoveTime=-1
superMoveTime=-1
ownPal=1

[State 1430]
type = posadd
trigger1 = animelemtime(2) = 0
x = 15*const(size.xscale)

[State 1430]
type = posadd
trigger1 = animelemtime(5) = 0
x = 8*const(size.xscale)

[State 1430]
type = Envshake
trigger1 = AnimElemTime(8) = 0
time = 10
freq = 80
ampl = -4

[state 1430, helper]
type = helper
trigger1 = animelemtime(8) = 0
pos = 0,0
postype = p1
stateno = 1440
ID = 1443
helpertype = normal
keyctrl = 0
name = "Giant Palm Bomber"
ignorehitpause = 1
persistent = 0
size.xscale = const(size.xscale)
size.yscale = const(size.yscale)

[state 1430, helper]
type = helper
trigger1 = animelemtime(10) = 0
pos = 0,0
postype = p1
stateno = 1440
ID = 1444
helpertype = normal
keyctrl = 0
name = "Giant Palm Bomber"
ignorehitpause = 1
persistent = 0
size.xscale = const(size.xscale)
size.yscale = const(size.yscale)

[state 1430, helper]
type = helper
trigger1 = animelemtime(12) = 0
pos = 0,0
postype = p1
stateno = 1440
ID = 1445
helpertype = normal
keyctrl = 0
name = "Giant Palm Bomber"
ignorehitpause = 1
persistent = 0
size.xscale = const(size.xscale)
size.yscale = const(size.yscale)

[State 1430]
type = helper
trigger1 = animelemtime(8) = 0
ID = 6500
pos = 0,0
postype = p1
stateno = 6500
helpertype = normal
name = "Palm"
sprpriority = 1
ownpal = 1
keyctrl = 0
ignorehitpause = 1
persistent = 0
size.xscale = const(size.xscale)
size.yscale = const(size.yscale)

[State 1430, Hit]
type=HitDef
trigger1 = !var(16) && (var(15)<2 || var(20))
trigger1=AnimElem=8
attr=S, SA
damage=ceil(ifelse(fvar(10) * 20 < 7, 7, fvar(10) * 20)),11
priority=4, hit
animtype=Hard
getpower=0,0
givepower=35, 35
guardflag=MA
hitflag=MAF
hitsound=S2+10*var(44),2
guardsound=S130,0
pausetime = 0,12
guard.pausetime = 0,12
sparkNo=-1 + 0 * (var(33) :=8013)
guard.sparkNo=-1 + 0 * (var(34) :=8001)
sparkXY=-10 + 0 * (var(35) :=155), var(36) :=-60
air.animtype=Back
fall.animtype=Back
ground.type=Low
air.type=Low
ground.slidetime=18
ground.hittime =Ifelse(p2statetype = C, 21, 19)
guard.hittime=12
ground.velocity=-9.0*const(size.xscale)
air.velocity=-3.5*const(size.xscale),-10.0*const(size.yscale) 
guard.velocity=-9.0*const(size.xscale)
airguard.velocity =Ifelse(var(20),-4,-8), -3
airguard.ctrlTime=16
ground.cornerPush.velOff=0
guard.cornerPush.velOff=0
air.cornerPush.velOff=0
yaccel=Ifelse(var(20),.4,.5)
fall=0
fall.recover=0
forcestand=1
palFX.time=12 * var(9)
palFX.add=255,255,255
palFX.sinAdd=-255,-255,-255,48
envshake.time=10
envshake.freq=80
envshake.ampl=-4
ID=1430

[State 1430, Hit]
type=HitDef
trigger1 = !var(16) && (var(15)<2 || var(20))
trigger1=AnimElem=10
attr=S, SA
damage=ceil(ifelse(fvar(10) * 20 < 7, 7, fvar(10) * 20)),11
priority=4, hit
animtype=Hard
getpower=0,0
givepower=35, 35
guardflag=MA
hitflag=MAF
hitsound=-1
guardsound=-1
pausetime = 0,12
guard.pausetime = 0,12
sparkNo=-1 + 0 * (var(33) :=8013)
guard.sparkNo=-1 + 0 * (var(34) :=8001)
sparkXY=-10 + 0 * (var(35) :=155), var(36) :=-60
air.animtype=Back
fall.animtype=Back
ground.type=Low
air.type=Low
ground.slidetime=18
ground.hittime =Ifelse(p2statetype = C, 21, 19)
guard.hittime=12
ground.velocity=-9.0*const(size.xscale)
air.velocity=-3.5*const(size.xscale),-10.0*const(size.yscale) 
guard.velocity=-9.0*const(size.xscale)
airguard.velocity =Ifelse(var(20),-4,-8), -3
airguard.ctrlTime=16
ground.cornerPush.velOff=0
guard.cornerPush.velOff=0
air.cornerPush.velOff=0
yaccel=Ifelse(var(20),.4,.5)
fall=0
fall.recover=0
forcestand=1
palFX.time=12 * var(9)
palFX.add=255,255,255
palFX.sinAdd=-255,-255,-255,48
envshake.time=10
envshake.freq=80
envshake.ampl=-4
ID=1430

[State 1430, Hit]
type=HitDef
trigger1 = !var(16) && (var(15)<2 || var(20))
trigger1=AnimElem=12
attr=S, SA
damage=ceil(ifelse(fvar(10) * 60 < 7, 7, fvar(10) * 60)),11
priority=4, hit
animtype=Hard
getpower=72* !var(20), 0
givepower=35, 35
guardflag=MA
hitflag=MAF
hitsound=-1
guardsound=-1
pausetime = 0,12
guard.pausetime = 0,12
sparkNo=-1 + 0 * (var(33) :=8013)
guard.sparkNo=-1 + 0 * (var(34) :=8001)
sparkXY=-10 + 0 * (var(35) :=155), var(36) :=-60
air.animtype=Back
fall.animtype=Back
ground.type=Low
air.type=Low
ground.slidetime=18
ground.hittime =Ifelse(p2statetype = C, 21, 19)
guard.hittime=12
ground.velocity=-4.0*const(size.xscale),-11.0*const(size.yscale)
air.velocity=-4.0*const(size.xscale),-10.0*const(size.yscale)
guard.velocity=-9.0*const(size.xscale)
airguard.velocity =Ifelse(var(20),-4,-8), -3
airguard.ctrlTime=16
ground.cornerPush.velOff=0
guard.cornerPush.velOff=0
air.cornerPush.velOff=0
yaccel=Ifelse(var(20),.4,.5)
fall=1
fall.recover=0
fall.envshake.time = 15
fall.envshake.freq = 80
fall.envshake.ampl = -6
forcestand=0
palFX.time=12 * var(9)
palFX.add=255,255,255
palFX.sinAdd=-255,-255,-255,48
envshake.time = 10
envshake.freq = 80
envshake.ampl = -4
ID=1430

[State 1430, StateTypeSet: Idle]
type=StateTypeSet
trigger1=AnimElemTime(13)=0
movetype=I

[State 1430, Ctrlset]
type=Ctrlset
trigger1=AnimelemTime(18)=1
value=1

[State 1430, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

;------------------------------------------------------------------
;Monster Lariat 
[Statedef 1500]
type=S
movetype=A
physics=N
ctrl=0
velset=0,0
poweradd=72 * !var(20)
sprpriority=1
facep2=1

[State 1500, VarSet]
type=VarSet
trigger1 =!AILevel&& !time
var(10)=ifelse(command="MonsterLariat1",0,ifelse(command="MonsterLariat2",1,2))
ignorehitpause=1

[State 1500, VarSet]
type=VarSet
trigger1 =AILevel&& !time
var(10)=ifelse(random<700,1,2)
ignorehitpause=1

[State 1500, anim]
type=ChangeAnim
Trigger1=!time
value=ifElse(var(10)=0,1500,ifElse(var(10)=1,1510,1520))
ignorehitpause=1

[State 1500, Voice]
type=PlaySnd
trigger1 =Animelem=5
value=0,3
channel=0

[State 1500]
type = posadd
trigger1 = animelemtime(2) = 0
trigger2 = animelemtime(3) = 0
trigger3 = animelemtime(4) = 0
trigger4 = animelemtime(5) = 0
trigger5 = animelemtime(6) = 0
trigger6 = animelemtime(7) = 0
trigger7 = animelemtime(8) = 0
x = 8*const(size.xscale)

[State 1500]
type = posadd
triggerall=var(10)=2
trigger1 = animelemtime(2) = 0
trigger2 = animelemtime(3) = 0
trigger3 = animelemtime(4) = 0
trigger4 = animelemtime(5) = 0
trigger5 = animelemtime(6) = 0
trigger6 = animelemtime(7) = 0
trigger7 = animelemtime(8) = 0
trigger8 = animelemtime(9) = 0
trigger9 = animelemtime(10) = 0
trigger10 = animelemtime(11) = 0
trigger11 = animelemtime(12) = 0
x = 8*const(size.xscale)

[State 1500]
type = velset
triggerall=var(10)=0
trigger1 = !time 
x = 2.2*const(size.xscale)

[State 1500]
type = velset
trigger1 = !time
x = 4.4*const(size.xscale)

[State 350, 3]
type = velset
triggerall=var(10)=0
trigger1 = animelemtime(14) = 0
x = 0

[State 350, 3]
type = velset
triggerall=var(10)=1
trigger1 = animelemtime(14) = 0
x = 0

[State 350, 3]
type = velset
triggerall=var(10)=2
trigger1 = animelemtime(18) = 0
x = 0

[State 1500]
type = PlaySnd
trigger1 = AnimElem=3
value = 42,0

[State 1530, Move Snd]
type=PlaySnd
trigger1 = Animelem=7
value= 42,0

[State 1500]
type = EnvShake
trigger1 = animelemtime(3) = 0
time = 3
freq = 120
ampl = 3

[State 1500]
type = PlaySnd
trigger1 = AnimElem = 10
value = 1, 2

[State 1500, Hit]
type=HitDef
Triggerall = anim = 1500
trigger1= animelem = 8
attr=S, SA
damage=100, 10
priority=4, hit
animtype=Back
getpower=72* !var(20), 0
givepower=35, 35
guardflag=MA
hitflag=MAF
hitsound=S2+10*var(44),2
guardsound=S130,0
pausetime = 18,18
guard.pausetime = 18,18
sparkNo=-1 + 0 * (var(33) :=8013)
guard.sparkNo=-1 + 0 * (var(34) :=8001)
sparkXY=-10 + 0 * (var(35) :=20), var(36) :=-100
air.animtype=Back
fall.animtype=Back
ground.type=Low
air.type=Low
ground.slidetime=18
ground.hittime =18
guard.hittime=12
ground.velocity = 0,5.0*const(size.yscale)
guard.velocity = -8.8*const(size.xscale)
air.velocity=-1.0*const(size.xscale),5.0*const(size.yscale)
airguard.velocity =Ifelse(var(20),-4,-8), -3
airguard.ctrlTime=16
ground.cornerPush.velOff=0
guard.cornerPush.velOff=0
air.cornerPush.velOff=0
yaccel=Ifelse(var(20),.4,.5)
fall=1
fall.recover = 0
fall.envshake.time = 20
fall.envshake.freq = 80
fall.envshake.ampl = -4
forcestand=1
palFX.time=12 * var(9)
palFX.add=255,255,255
palFX.sinAdd=-255,-255,-255,48
envshake.time = 5
envshake.freq = 60
envshake.ampl = 4
P2facing = 1
ID=1500
sprpriority = -1 

[State 1500, Hit]
type=HitDef
Triggerall = anim = 1510
trigger1= animelem = 8
attr=S, SA
damage=108, 10
priority=4, hit
animtype=Back
getpower=72* !var(20), 0
givepower=35, 35
guardflag=MA
hitflag=MAF
hitsound=S2+10*var(44),2
guardsound=S130,0
pausetime = 18,18
guard.pausetime = 18,18
sparkNo=-1 + 0 * (var(33) :=8013)
guard.sparkNo=-1 + 0 * (var(34) :=8001)
sparkXY=-10 + 0 * (var(35) :=20), var(36) :=-100
air.animtype=Back
fall.animtype=Back
ground.type=Low
air.type=Low
ground.slidetime=18
ground.hittime =18
guard.hittime=12
ground.velocity = 0,5.0*const(size.yscale)
guard.velocity = -8.8*const(size.xscale)
air.velocity=-1.0*const(size.xscale),5.0*const(size.yscale)
airguard.velocity =Ifelse(var(20),-4,-8), -3
airguard.ctrlTime=16
ground.cornerPush.velOff=0
guard.cornerPush.velOff=0
air.cornerPush.velOff=0
yaccel=Ifelse(var(20),.4,.5)
fall=1
fall.recover = 0
fall.envshake.time = 20
fall.envshake.freq = 80
fall.envshake.ampl = -4
forcestand=1
palFX.time=12 * var(9)
palFX.add=255,255,255
palFX.sinAdd=-255,-255,-255,48
envshake.time = 5
envshake.freq = 60
envshake.ampl = 4
P2facing = 1
ID=1500
sprpriority = -1 

[State 1500, Hit]
type=HitDef
Triggerall = anim = 1520
trigger1= animelem = 12
attr=S, SA
damage=118, 10
priority=4, hit
animtype=Back
getpower=72* !var(20), 0
givepower=35, 35
guardflag=MA
hitflag=MAF
hitsound=S2+10*var(44),2
guardsound=S130,0
pausetime = 18,18
guard.pausetime = 18,18
sparkNo=-1 + 0 * (var(33) :=8013)
guard.sparkNo=-1 + 0 * (var(34) :=8001)
sparkXY=-10 + 0 * (var(35) :=20), var(36) :=-100
air.animtype=Back
fall.animtype=Back
ground.type=Low
air.type=Low
ground.slidetime=18
ground.hittime =18
guard.hittime=12
ground.velocity = 0,5.0*const(size.yscale)
guard.velocity = -8.8*const(size.xscale)
air.velocity=-1.0*const(size.xscale),5.0*const(size.yscale)
airguard.velocity =Ifelse(var(20),-4,-8), -3
airguard.ctrlTime=16
ground.cornerPush.velOff=0
guard.cornerPush.velOff=0
air.cornerPush.velOff=0
yaccel=Ifelse(var(20),.4,.5)
fall=1
fall.recover = 0
fall.envshake.time = 20
fall.envshake.freq = 80
fall.envshake.ampl = -4
forcestand=1
palFX.time=12 * var(9)
palFX.add=255,255,255
palFX.sinAdd=-255,-255,-255,48
envshake.time = 5
envshake.freq = 60
envshake.ampl = 4
P2facing = 1
ID=1500
sprpriority = -1 

[State 810, TargetBind]
type = TargetBind
trigger1 = p2stateno = 5000
trigger1 = Movecontact = 1
trigger1 = !Moveguarded
pos = ceil(10*const(size.xscale)), ceil(0*const(size.yscale))
ignorehitpause = 1

[State 810, Playerpush]
type = Playerpush
triggerall = anim = 1500
trigger1 = animelemtime(8)>=0
trigger2 = P2statetype = L
value = 0
ignorehitpause = 1

[State 810, Playerpush]
type = Playerpush
triggerall = anim = 1510
trigger1 = animelemtime(8)>=0
trigger2 = P2statetype = L
value = 0
ignorehitpause = 1

[State 810, Playerpush]
type = Playerpush
triggerall = anim = 1520
trigger1 = animelemtime(12)>=0
trigger2 = P2statetype = L
value = 0
ignorehitpause = 1

[State 1500, Ctrlset]
type=Ctrlset
trigger1=AnimelemTime(14)=1
value=1

[State 1500, Ctrlset]
type=Ctrlset
triggerall=var(10)=2
trigger1=AnimelemTime(22)=1
value=1

[State 1500, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

;------------------------------------------------------------------
;EX-Monster Lariat 
[Statedef 1530]
type=S
movetype=A
physics=N
anim=1530
ctrl=0
velset=0,0
poweradd=-500
sprpriority=1
facep2=1

[State 1530, VarSet]
type=VarSet
trigger1 =!time
var(10)=3
ignorehitpause=1

[State 1530, MAX Timer Drain]
type=VarAdd
trigger1=!Time
trigger1=var(20) > 0
var(20)=-250

[State 1530, Custom Combo Juggle Reset]
type=VarSet
trigger1=!Time && var(20)
var(15)=0
ignoreHitPause=1

[State 1530, EX Flash]
type=VarSet
trigger1=!Time
var(25)=30

[State 1530, EX FX]
type=Explod
trigger1=!Time
anim=8210
sprPriority=3
posType=p1
pos=10, -67
scale=0.5, 0.5
pauseMoveTime=-1
superMoveTime=-1
ownPal=1

[State 1530, EX-SND]
type=PlaySnd
trigger1 =!time
value=0,1000
channel=3

[State 1530, Voice]
type=PlaySnd
trigger1 =Animelem=10
value=0,3
channel=0

[State 1530, Move Snd]
type=PlaySnd
trigger1=Animelem=3
value=42,0

[State 1530, Move Snd]
type=PlaySnd
trigger1=Animelem=7
value=42,0

[State 1530, NotHitBy]
type=NotHitBy
trigger1=AnimElemTime(14) < 0
time=1
value=SCA

[State 1230, autoguard by Pots]
type = reversaldef
trigger1 = animelemtime(4) < 0
reversal.attr = SCA, NA, SA, NP, SP
pausetime = 4, 4
sparkno = S-1 + 0 * (var(34) := 8001)
hitsound = S130,0
numhits = 0

[State 1500]
type = posadd
trigger1 = animelemtime(2) = 0
trigger2 = animelemtime(3) = 0
trigger3 = animelemtime(4) = 0
trigger4 = animelemtime(5) = 0
trigger5 = animelemtime(6) = 0
trigger6 = animelemtime(7) = 0
trigger7 = animelemtime(8) = 0
trigger8 = animelemtime(9) = 0
trigger9 = animelemtime(10) = 0
trigger10 = animelemtime(11) = 0
trigger11 = animelemtime(12) = 0
x = 10*const(size.xscale)

[State 1500]
type = velset
trigger1 = !time
x=5.5*const(size.xscale)

[State 350, 3]
type = velset
trigger1 = animelemtime(20) = 0
x = 0

[State 1500]
type = EnvShake
trigger1 = animelemtime(3) = 0
time = 3
freq = 120
ampl = 3

[State 1500]
type = PlaySnd
trigger1 = AnimElem = 10
value = 1, 2

[State 1500, Hit]
type=HitDef
trigger1=Animelem=14
attr=S, SA
damage=126, 10
priority=4, hit
animtype=Back
getpower=0,0
givepower=35, 35
guardflag=MA
hitflag=MAF
hitsound=S2+10*var(44),2
guardsound=S130,0
pausetime = 18,18
guard.pausetime = 18,18
sparkNo=-1 + 0 * (var(33) :=8013)
guard.sparkNo=-1 + 0 * (var(34) :=8001)
sparkXY=-10 + 0 * (var(35) :=20), var(36) :=-100
air.animtype=Back
fall.animtype=Back
ground.type=Low
air.type=Low
ground.slidetime=18
ground.hittime =18
guard.hittime=12
ground.velocity = 0,-14.0*const(size.yscale)
guard.velocity = -8.8*const(size.xscale)
air.velocity=-1.0*const(size.xscale),5.0*const(size.yscale)
airguard.velocity =Ifelse(var(20),-4,-8), -3
airguard.ctrlTime=16
ground.cornerPush.velOff=0
guard.cornerPush.velOff=0
air.cornerPush.velOff=0
yaccel=Ifelse(var(20),.60,.70)
fall=1
fall.recover = 0
fall.envshake.time = 20
fall.envshake.freq = 80
fall.envshake.ampl = -4
forcestand=1
palFX.time=12 * var(9)
palFX.add=255,255,255
palFX.sinAdd=-255,-255,-255,48
envshake.time = 5
envshake.freq = 60
envshake.ampl = 4
P2facing = 1
ID=1530
sprpriority = -1 

[State 810, TargetBind]
type = TargetBind
trigger1 = p2stateno = 5000
trigger1 = Movecontact = 1
trigger1 = !Moveguarded
pos = ceil(10*const(size.xscale)), ceil(0*const(size.yscale))
ignorehitpause = 1

[State 810, Playerpush]
type = Playerpush
triggerall = anim = 1530
trigger1 = animelemtime(14)>=0
trigger2 = P2statetype = L
value = 0
ignorehitpause = 1

[State 1500, Ctrlset]
type=Ctrlset
trigger1=AnimelemTime(22)=1
value=1

[State 1530, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1