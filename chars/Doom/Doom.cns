;Doom MVC Style by coded by k99
[Data]
life = 1000
attack = 133
defence = 100
power = 4000
fall.defence_up = 40
liedown.time = 40
airjuggle = 11
sparkno = 2
guard.sparkno = 40
ko.echo = 0
volume = 50
intpersistindex = 51
floatpersistindex = 40

[Size]
xscale = 0.9           
yscale = 0.9
ground.back = 18
ground.front = 18
air.back = 12        
air.front = 12       
height = 60          
attack.dist = 160    
proj.attack.dist = 90 
proj.doscale = 0     
head.pos = 0, -115  
mid.pos = -5, -70 
shadowoffset = 0     
draw.offset = 0,0    


[velocity]
walk.fwd  = 1.7     
walk.back = -1.7
run.fwd  = 7, -3.8
run.back = -7,-3.8 ;
jump.neu = 0,-9.8
jump.back = -4,-10
jump.fwd = 3.8,-10
runjump.back = -2.55,-8.1
runjump.fwd = 6,-8.1
airjump.neu = 0,-8.8
airjump.back = -3.55
airjump.fwd = 3.5   

[movement]
airjump.num = 0
airjump.height = 40
yaccel = .46
stand.friction = .89
crouch.friction = .82

[Quotes]
victory0 = "It amuses me to let you live. Next time, you may not be so lucky."
victory1 = "Another victory."
victory2 = "Once again, I prove myself to be lord of all I survey!"
victory3 = "You are a gnat, easily swatted aside by my armored fist. Bother me no more!"
victory4 = "Polish my boots, so long as you're groveling on the floor."
victory5 = "Your pitiful attempt at combat has only succeeded in annoying me. Begone!"
victory6 = "A noble effort. Were we not enemies, I would invite you to serve me."

;---------------------------------------------------------------------------
; Stand
[Statedef 0]
type = S
physics = S
sprpriority = 0

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 0

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
x = 0


[State 0, 0]
type = varrandom
trigger1 = 1
v = 0
range = 0,6


[State 0, 4] ;Are you dead?
type = ChangeState
trigger1 = !alive
value = 5050

;---------------------------------------------------------------------------
; Stand to Crouch
[Statedef 10]
type    = C
physics = C
anim = 10
velset = 0,0

[State 10, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 11

;---------------------------------------------------------------------------
; Crouching
[Statedef 11]
type    = C
physics = C
anim = 11
sprpriority = 0
velset = 0,0

[state 52, Dust]
type = removeexplod
trigger1 = time = 1
id = 8881

[State 11, 1] ;Change from turning animation
type = ChangeAnim
trigger1 = Anim = 6 && AnimTime = 0
value = 11

;---------------------------------------------------------------------------
; Crouch to Stand
[Statedef 12]
type    = S
physics = S
anim = 12
velset = 0,0
facep2 = 1

[State 12, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Walk
[Statedef 20]
type    = S
physics = S
sprpriority = 0
ctrl = 1

[State 20, 1]
type = VelSet
trigger1 = command = "holdfwd" && time>=2
x =const(velocity.walk.fwd.x)

[State 20, 2]
type = VelSet
trigger1 = command = "holdback" && time>=2
x = const(velocity.walk.back.x)

[State 20, 3]
type = ChangeAnim
triggerall = command = "holdfwd"
trigger1 = Anim != 20 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 20

[State 20, 4]
type = ChangeAnim
triggerall = command = "holdback"
trigger1 = Anim != 21 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 21

;Run
[statedef 100]
type    = S
physics = N
anim = 100
sprpriority = 1


[State 100, 1]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 10

[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 3]
type = PlaySnd
trigger1 = time = 1
value = 5547, 0

[State 100, 3]
type = PlaySnd
trigger1 = time = 1
value = 4000, 3
channel = 1

[State 0]
type = Explod
trigger1 = time = 1
anim = 6014
pos = 0, 0
sprpriority = -1
bindtime = 1
ownpal = 1
postype = p1

[state 100, 4]
type = explod
trigger1 = time = 4
id = 100
anim = 9100
postype = p1
pos = 0,-10
ownpal = 1
bindtime = 1
sprpriority = 5
persistent = 0
removeongethit = 1


[State 100, 10]
type = ChangeState
trigger1 = time = 25
value = 101

;Run stop
[Statedef 101]
type    = s
physics = s
velset = 0,0
ctrl = 0
anim = 101

[State 750, Dust]
type = removeExplod
trigger1 = Time = 0
id = 8888

[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = nowalk
flag2 = noautoturn

[state 52, Dust]
type = explod
trigger1 = time = 0
anim = 6011
postype = p1
pos = 0,0
ownpal = 1
bindtime = 1
sprpriority = -2
persistent = 0
removeongethit = 0

[State 0]
type = PlaySnd
trigger1 = time = 0
value = S4000,15
volumescale = 255

[state 100, 7]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;Hop Back
[Statedef 102]
type = S
physics = n
anim = 102
sprpriority = 1
Velset = 0,0
ctrl = 0

[state 192, 2]
type = playsnd
trigger1 = animelem = 1
value = s5547, 0

[State 100, 3]
type = PlaySnd
trigger1 = animelem = 1
value = 4000, 3
channel = 1

[State 0]
type = Explod
trigger1 = animelem = 1
anim = 6014
pos = 0, 0
sprpriority = -1
bindtime = 1
ownpal = 1
facing = -1
postype = p1

[State 100, 4]
type = Explod
trigger1 = Time = 4
anim = 9100
pos = 5,-10
postype = p1
sprpriority = 3
bindtime = 1
ownpal = 1
facing = -1
removeongethit = 1


[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
trigger2 = animelem = 17
x = -12

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 15
x = 0

[State 105, 7]
type = ChangeState
trigger1 = animtime = 0
value = 103

;Hop Stop
[Statedef 103]
type    = s
physics = s
ctrl = 0
anim = 103
velset = 0,0

[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = nowalk
flag2 = noautoturn

[state 52, Dust]
type = explod
trigger1 = time = 0
anim = 6011
postype = p1
pos = 0,0
ownpal = 1
bindtime = 1
sprpriority = -2
persistent = 0
removeongethit = 0

[State 0]
type = PlaySnd
trigger1 = time = 0
value = S4000,15
volumescale = 255


[state 100, 7]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 104]
type    = A
movetype= a
physics = n
ctrl = 1
anim = 104
sprpriority = 1


[state  ]
type = removeexplod
trigger1 = time = 1
id = 8888

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889

[state 100, 1]
type = velset
trigger1 = time = 0
x = 7
y = 0


[State 100, 3]
type = PlaySnd
trigger1 = animelem = 1
value = 4000, 3
channel = 1


[state 192, 2]
type = playsnd
trigger1 = animelem = 1
value = 0, 17


[state ]
type = helper
trigger1 = time = 1
id = 109
stateno = 109

[state 100, 6]
type = playsnd
trigger1 = animelem = 2
value = s5547, 0
persistent = 0


[state 100, 7]
type = changestate
triggerall = statetype = A
trigger1 = time = 25
value = 110

[Statedef 105]
type    = A
movetype= a
physics = n
ctrl = 1
anim = 105
sprpriority = 1


[state  ]
type = removeexplod
trigger1 = time = 1
id = 8888

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889

[state 100, 1]
type = velset
trigger1 = time = 0
x = -7
y = 0


[State 100, 3]
type = PlaySnd
trigger1 = animelem = 1
value = 4000, 3
channel = 1


[state 192, 2]
type = playsnd
trigger1 = animelem = 1
value = 0, 17


[state ]
type = helper
trigger1 = time = 1
id = 109
stateno = 109

[state 100, 6]
type = playsnd
trigger1 = animelem = 2
value = s5547, 0
persistent = 0


[state 100, 7]
type = changestate
triggerall = statetype = A
trigger1 = time = 25
value = 110

[Statedef 106]
type    = A
movetype= a
physics = n
ctrl = 1
anim = 106
sprpriority = 1


[state  ]
type = removeexplod
trigger1 = time = 1
id = 8888

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889

[state 100, 1]
type = velset
trigger1 = time = 0
x = 0
y = 7


[state 100, 4]
type = explod
trigger1 = time = 5
id = 8888
anim = 108
postype = p1
pos = 0,-40
ownpal = 1
bindtime = -1
sprpriority = 0
persistent = 0
removeongethit = 1
removetime = 20

[State 100, 3]
type = PlaySnd
trigger1 = animelem = 1
value = 4000, 3
channel = 1

[state 192, 2]
type = playsnd
trigger1 = animelem = 1
value = 0, 17



[state ]
type = helper
trigger1 = time = 1
id = 109
stateno = 109

[state 100, 6]
type = playsnd
trigger1 = animelem = 2
value = s5547, 0
persistent = 0


[state 100, 7]
type = changestate
triggerall = statetype = A
trigger1 = time = 25
value = 110


[state 50, 12]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y > 0
value = 52


[Statedef 107]
type    = A
movetype= a
physics = n
ctrl = 1
anim = 107
sprpriority = 1


[state  ]
type = removeexplod
trigger1 = time = 1
id = 8888

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889

[state 100, 1]
type = velset
trigger1 = time = 0
x = 0
y = -7


[State 100, 3]
type = PlaySnd
trigger1 = animelem = 1
value = 4000, 3
channel = 1


[state 192, 2]
type = playsnd
trigger1 = animelem = 1
value = 0, 17


[state ]
type = helper
trigger1 = time = 1
id = 109
stateno = 109

[state 100, 6]
type = playsnd
trigger1 = animelem = 2
value = s5547, 0
persistent = 0


[state 100, 7]
type = changestate
triggerall = statetype = A
trigger1 = time = 25
value = 110

[Statedef 108]
type    = A
movetype= a
physics = n
ctrl = 1
anim = 104
sprpriority = 1


[state  ]
type = removeexplod
trigger1 = time = 1
id = 8888

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889

[state 100, 1]
type = velset
trigger1 = time = 0
x = 7
y = -7


[State 100, 3]
type = PlaySnd
trigger1 = animelem = 1
value = 4000, 3
channel = 1


[state 192, 2]
type = playsnd
trigger1 = animelem = 1
value = 0, 17


[state ]
type = helper
trigger1 = time = 1
id = 109
stateno = 109

[state 100, 6]
type = playsnd
trigger1 = animelem = 2
value = s5547, 0
persistent = 0


[state 100, 7]
type = changestate
triggerall = statetype = A
trigger1 = time = 25
value = 110

[Statedef 111]
type    = A
movetype= a
physics = n
ctrl = 1
anim = 105
sprpriority = 1

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8888

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889

[state 100, 1]
type = velset
trigger1 = time = 0
x = -7
y = -7


[State 100, 3]
type = PlaySnd
trigger1 = animelem = 1
value = 4000, 3
channel = 1


[state 192, 2]
type = playsnd
trigger1 = animelem = 1
value = 0, 17


[state ]
type = helper
trigger1 = time = 1
id = 109
stateno = 109

[state 100, 6]
type = playsnd
trigger1 = animelem = 2
value = s5547, 0
persistent = 0


[state 100, 7]
type = changestate
triggerall = statetype = A
trigger1 = time = 25
value = 110

[Statedef 112]
type    = A
movetype= a
physics = n
ctrl = 1
anim = 104
sprpriority = 1

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8888

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889

[State 100, 3]
type = PlaySnd
trigger1 = animelem = 1
value = 4000, 3
channel = 1


[state 100, 1]
type = velset
trigger1 = time = 0
x = 7
y = 7

[state 192, 2]
type = playsnd
trigger1 = animelem = 1
value = 0, 17


[state ]
type = helper
trigger1 = time = 1
id = 109
stateno = 109

[state 100, 6]
type = playsnd
trigger1 = animelem = 2
value = s5547, 0
persistent = 0


[state 100, 7]
type = changestate
triggerall = statetype = A
trigger1 = time = 25
value = 110

[state 50, 12]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y > 0
value = 52


[Statedef 113]
type    = A
movetype= a
physics = n
ctrl = 1
anim = 105
sprpriority = 1

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8888

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889

[state 100, 1]
type = velset
trigger1 = time = 0
x = -7
y = 7

[state 192, 2]
type = playsnd
trigger1 = animelem = 1
value = 0, 17


[State 100, 3]
type = PlaySnd
trigger1 = animelem = 1
value = 4000, 3
channel = 1


[state ]
type = helper
trigger1 = time = 1
id = 109
stateno = 109

[state 100, 6]
type = playsnd
trigger1 = animelem = 2
value = s5547, 0
persistent = 0


[state 100, 7]
type = changestate
triggerall = statetype = A
trigger1 = time = 25
value = 110

[state 50, 12]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y > 0
value = 52


[Statedef 109]
type = A
physics = N
movetype = I
anim = 9999
velset = 0,0

[State ]
type = BindToRoot
trigger1 = 1
pos = 0,0
ignorehitpause = 0

[State 1051, End]
type = DestroySelf
trigger1 = Parent, StateNo = 52
trigger2 = Parent, StateNo = 5110
trigger3 = Parent, StateNo = 731

[Statedef 110]
type    = A
movetype= a
physics = n
ctrl = 1
sprpriority = 1

[state 100, 1]
type = velset
trigger1 = time = 0
x = 0
y = 0


[State 1100, 0]
type = ChangeAnim
trigger1 = Anim !=110
trigger1 = Time = 0
value = 110

[State 117, 1]
type = VelSet
trigger1 = numhelper(730) 
x = 0
y = 0


[State 600, 5]
type = ChangeState
trigger1 = numhelper(730) 
trigger1 = animtime = 0
value = 731
ctrl = 1

[State 600, 5]
type = ChangeState
trigger1 = animtime = 0
value = 460
ctrl = 1


;---------------------------------------------------------------------------
; GUARD (start)
[Statedef 120]
type = U    ;Leave state type unchanged
physics = U ;Leave physics unchanged

[State 120, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 120 + (statetype = C) + (statetype = A)*2

[State 120, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 120, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 120, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 120, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 120, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 120, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 130 + (statetype = C) + (statetype = A)*2

[State 120, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

;---------------------------------------------------------------------------
; STAND GUARD (guarding)
[Statedef 130]
type    = S
physics = S

[State 130, 1]
type = ChangeAnim
trigger1 = Anim != 130
value = 130

[State 130, Hi to Lo]
type = ChangeState
trigger1 = command = "holddown"
value = 131

[State 130, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

;---------------------------------------------------------------------------
; CROUCH GUARD (guarding)
[Statedef 131]
type    = C
physics = C

[State 131, 1]
type = ChangeAnim
trigger1 = Anim != 131
value = 131

[State 131, Lo to Hi]
type = ChangeState
trigger1 = command != "holddown"
value = 130

[State 131, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

;---------------------------------------------------------------------------
; AIR GUARD (guarding)
[Statedef 132]
type    = A
physics = N

[State 132, 1]
type = ChangeAnim
trigger1 = Anim != 132
value = 132

[State 132, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 132, 3]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 132, 4]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 132, 5]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 132, 6]
type = ChangeState
trigger1 = sysvar(0)
trigger1 = command = "holdback"
trigger1 = inguarddist
value = 130

[State 132, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52

[State 132, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

;---------------------------------------------------------------------------
; GUARD (end)
[Statedef 140]
type = U    ;Leave state type unchanged
physics = U ;Leave physics unchanged
ctrl = 1

[State 140, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 140 + (statetype = C) + (statetype = A)*2

[State 140, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 140, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 140, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 140, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 140, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

;[State 140, 5] ;Implemented within engine
;type = ChangeState
;trigger1 = AnimTime = 0
;value = (statetype = C)*11 + (statetype = A)*51

;---------------------------------------------------------------------------
; SGUARDHIT (shaking)
[Statedef 150]
type    = S
movetype= H
physics = N
velset = 0,0

[State 150, 1]
type = ChangeAnim
trigger1 = 1
value = 150

[State 150, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 151 + 2*(command = "holddown")

[State 150, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 150, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 150, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 3

;---------------------------------------------------------------------------
; SGUARDHIT2 (knocked back)
[Statedef 151]
type    = S
movetype= H
physics = S
anim = 150

[State 151, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 151, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0

[State 151, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 151, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 151, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 151, 4]
type = ChangeState
trigger1 = HitOver
value = 130
ctrl = 1

;---------------------------------------------------------------------------
; CGUARDHIT (shaking)
[Statedef 152]
type    = C
movetype= H
physics = N
velset = 0,0

[State 152, 1]
type = ChangeAnim
trigger1 = 1
value = 151

[State 152, 3]
type = ChangeState
trigger1 = HitShakeOver
value = 151 + 2*(command = "holddown")

[State 152, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 152, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 152, 4]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4

;---------------------------------------------------------------------------
; CGUARDHIT2 (knocked back)
[Statedef 153]
type    = C
movetype= H
physics = C
anim = 151

[State 153, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 153, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0

[State 153, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 153, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 153, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 153, 4]
type = ChangeState
trigger1 = HitOver
value = 131
ctrl = 1

;---------------------------------------------------------------------------
; AGUARDHIT (shaking)
[Statedef 154]
type    = A
movetype= H
physics = N

[State -2, 2]
type = VarSet
trigger1 = !time
fvar(6) = vel x

[State -2, 3]
type = VarSet
trigger1 = !time
fvar(7) = vel y

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = 0
y = 0

[State 154, 1]
type = ChangeAnim
trigger1 = 1
value = 152

[State 154, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 155 ;AGUARDHIT2

[State 154, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4

;---------------------------------------------------------------------------
; AGUARDHIT2 (knocked away)
[Statedef 155]
type    = A
movetype= H
physics = N
anim = 152

[State 155, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 155, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 155, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 155, 4]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 155, 5]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = ChangeState
trigger1 = sysvar(0)
trigger1 = command = "holdback"
trigger1 = inguarddist
value = 130

[State 155, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52

;---------------------------------------------------------------------------
; LOSE (Time over)
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; DRAWGAME (Time over)
[Statedef 175]
type = S
ctrl = 0
velset = 0,0

[State 175, 1] ; If no anim, use go to lose state.
type = ChangeState
trigger1 = Time = 0
trigger1 = !SelfAnimExist(175)
value = 170

[State 175, 2]
type = ChangeAnim
trigger1 = Time = 0
value = 175

[State 175, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

; winpose selector
[Statedef 180]  
type = S
ctrl = 0
velset = 0,0


[State ]
type = ChangeState
trigger1 = Time = 0
value = 181+random%3

; Win Pose 1
[Statedef 181]
type = S
movetype = A
physics = N
ctrl = 0
anim = 180
velset = 0 ,0
sprpriority = 3

[State roll]
type = Explod
trigger1 = time = 1
Anim = 181
pos = 0,0
postype = p1
sprpriority = 2

[State roll]
type = Explod
trigger1 = time = 1
Anim = 187
pos = -10,0
postype = p1
sprpriority = -5
scale = 0.5,0.5

[State 0]
type = PlaySnd
trigger1 = time = 1
value = S4000,5
volumescale = 255


[State 225, 4]
type = playsnd
trigger1 = time = 0
value = s1000,4+random%6
volumescale = 255
channel = 0

[state 181, 0]
type = assertspecial
trigger1 = time = [0,200]
flag = roundnotover

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


;---------------------------------------------------------------------------
; Win Pose 2
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0
sprpriority = 2

[State 0]
type = PlaySnd
trigger1 = time = 1
value = S4000,5
volumescale = 255


[State 225, 4]
type = playsnd
trigger1 = time = 0
value = s1000,4+random%6
volumescale = 255
channel = 0


[State 191, Wood 1]
type = Explod
triggerall = NumExplod(2)=0
trigger1 = time = 10
ID= 2
anim = 185
postype = p1
pos = 0, 0
bindtime = -1
removeongethit= 1
sprpriority = -2
under = 1

[State 191, Wood 1]
type = Explod
triggerall = NumExplod(3)=0
trigger1 = time = 10
ID= 3
persistent = 0
anim = 184
postype = p1
pos = 0, 0
bindtime = -1
removeongethit= 1
sprpriority = 2

[State 191, Wood 1]
type = Explod
triggerall = NumExplod(4)=0
trigger1 = time = 3
ID= 4
persistent = 0
anim = 183
postype = p1
pos = 0, 0
ontop = 1
bindtime = -1
removeongethit= 1
sprpriority = 7
ontop = 1

[State 191, Wood 1]
type = Explod
triggerall = NumExplod(5)=0
trigger1 = time = 10
ID= 5
persistent = 0
anim = 186
postype = p1
pos = 0, 0
bindtime = -1
removeongethit= 1
sprpriority = 3

[state 181, 0]
type = assertspecial
trigger1 = time = [0,200]
flag = roundnotover

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[State 196, 4]
type = PlaySnd
trigger1 = Time = 90
value = 330,0

;---------------------------------------------------------------------------
; Win Pose 3
[Statedef 183]
type = S
ctrl = 0
anim = 188
velset = 0,0

[State 181, a]
type = Playsnd
trigger1 = time = 0
value = 1000,1
volumescale = 255
channel = 0

[State 0]
type = PlaySnd
trigger1 = animelem = 14
value = S4000,5
volumescale = 255


[state 181, 0]
type = assertspecial
trigger1 = time = [0,150]
flag = roundnotover

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1



; Intro
[Statedef 190]
type = S
anim = 190
velset = 0,0
sprpriority = 3

[State 0, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State reading]
type = Explod
trigger1 = time = 52
Anim = 191
pos = 0,-60
postype = p1
sprpriority = 3
vel  =0,-2
accel = 0,0.5
removetime = 21

[State roll]
type = Explod
trigger1 = time = 1
Anim = 192
pos = 0,-10
postype = p1
sprpriority = 3

[State reading]
type = Explod
trigger1 = time = 52
Anim = 193
pos = 0,-10
postype = p1
sprpriority = 1
accel = -0.5,-0.5
removetime = 60

[state dust]
type = explod
trigger1 = animelem = 2
anim = 6011
postype = p1
pos = 0,0
ownpal = 1
bindtime = 1
sprpriority = -2
persistent = 0
removeongethit = 0

[State 0]
type = PlaySnd
trigger1 = animelem = 2
value = S4000,15
volumescale = 255

[State 0]
type = PlaySnd
trigger1 = time = 52
value = S4000,4
volumescale = 50

[State 225, 4]
type = playsnd
trigger1 = time = 0
value = s1000,0+random%3
volume = 255

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;Taunt
[statedef 195]
type = S
movetype = I
physics = N
anim = 195
sprpriority = 2
ctrl = 0
velset = 0,0

[State 200, 3]
type = playsnd
trigger1 = animelem = 1
value = s1000,3
channel = 0
volumescale = 255

[State ]
type = PosSet
trigger1 = 1
y = ifelse(var(31) > 0,-600,0)

[state ] 
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = ifelse(var(53) = 2,0,1)

; Intro in turn mode
[Statedef 196]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 192
sprpriority = 2

[State 191, 9]
type = AssertSpecial
trigger1 = 1
flag = Intro


[State 191, Voice]
type = PlaySnd
trigger1 = Animelem = 5
value = s1000,7

[State 200, back to stance]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Intro Walk in another rounds
[Statedef 197]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 0
sprpriority = 2

[State 191, 9]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 200, back to stance]
type = ChangeState
trigger1 = time = 1
value = 0
ctrl = 1

;Standing Light Punch
[Statedef 200]
type = S
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 200

[State ]
type = Playsnd
trigger1 = animelem =2
value = s4000,0

[State ]
type = HitDef
trigger1 = time = 0
sparkxy =  -10, -90
attr = S, NA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20
pausetime = 6,6
guard.pausetime = 6,6
sparkno = s9103
guard.sparkno = s9101
hitsound = s5544,0
guardsound = s5546,0
ground.type = high
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -2
air.hittime = 12
air.velocity = -2,-4
guard.velocity = -1
airguard.velocity = -1,-1
guard.hittime =6
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -5
airguard.cornerpush.veloff = -5
guard.cornerpush.veloff = -5
getpower = 20,10
givepower = 20, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[state 0, ]
type = null
trigger1 = movehit=1
trigger2 = projhit=1
value = 255,255,255
time = 1

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Standing Medium Punch
[Statedef 210]
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 215

[State ]
type = posadd
trigger1 = animelem =3
x = 5

[State ]
type = Playsnd
trigger1 = animelem =3
value = s4000,1

[State 200, 3]
type = playsnd
trigger1 = time = 1 && random <= 800
value = s2000,0+random%4
channel = 0
volumescale = 255

[State ]
type = HitDef
trigger1 = time = 0
sparkxy = -5,-60
attr = S, NA
damage    = 30
animtype = Medium
hitflag = MAf
guardflag = MA
pausetime = 6,6
guard.pausetime = 6,6
sparkno = s9104
guard.sparkno = s9101
hitsound = s5544,1
guardsound = s5546,0
ground.type = high
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -2
air.hittime = 12
air.velocity = -2,-4
guard.velocity = -3
airguard.velocity = -3,-1
guard.hittime =6
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -5
airguard.cornerpush.veloff = -5
guard.cornerpush.veloff = -5
getpower = 40,20
givepower = 40, 20
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2
palfx.time = 30
Palfx.add = 100,100,180 
Palfx.sinadd = -80,-80,-80,10
Palfx.color = 0

[state 1060, 8]
type = explod
trigger1 = movehit && numexplod(8114) = 0 && p2movetype = H
anim = 8114
id = 8114
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 6
facing = 1
bindtime = -1
ownpal = 1
ignorehitpause = 1
removetime = 60

[state  ]
type = null
trigger1 = movehit=1
trigger2 = projhit=1
value = 255,255,255
time = 1


[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Standing Strong Punch
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
velset = 0,0
anim = 220

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889

[State ]
type = posadd
trigger1 = animelem =4
x = 8


[State ]
type = Playsnd
trigger1 = animelem =4
value = s4000,9


[State ]
type = Explod
trigger1 =time = 1
ID = 8889
anim = 221
postype = p1
pos = 0, 0
bindtime = -1
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 200, 3]
type = playsnd
trigger1 = time = 1 && random <= 800
value = s2001,0+random%5
channel = 0
volumescale = 255


[State ]
type = HitDef
trigger1 = Time = 0
sparkxy = -5, -80
attr = S, NA
damage    = 40
animtype = heavy
hitflag = MAF
guardflag = MA
pausetime = 10,10
guard.pausetime = 10,10
sparkno = s9105
guard.sparkno = s9101
hitsound = s5544,3
guardsound = s5546,0
ground.type = low
ground.slidetime = 12
ground.hittime = 25
ground.velocity = -10
air.hittime = 25
air.velocity = -10,-4
guard.velocity = -6
guard.hittime =9
airguard.velocity = -6,-1
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -5
airguard.cornerpush.veloff = -5
guard.cornerpush.veloff = -5
getpower = 60,30
givepower = 60,30
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2
palfx.time = 30
Palfx.add = 100,100,180 
Palfx.sinadd = -80,-80,-80,10
Palfx.color = 0

[state 1060, 8]
type = explod
trigger1 = movehit && numexplod(8114) = 0 && p2movetype = H
anim = 8114
id = 8114
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 6
facing = 1
bindtime = -1
ownpal = 1
ignorehitpause = 1
removetime = 60

[state  ]
type = null
trigger1 = movehit=1
trigger2 = projhit=1
value = 255,255,255
time = 1

[State ] 
type = ChangeState 
trigger1 = AnimTime = 0 
value = 0 
ctrl = 1 

;Standing Light Kick
[Statedef 230]
type = S
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 230

[State ]
type = Playsnd
trigger1 = animelem =2
value = s4000,6

[State ]
type = HitDef
trigger1 = time = 0
sparkxy =  -10, -10
attr = S, NA
hitflag = MAFD
guardflag = MA
animtype = Light
damage = 20
pausetime = 6,6
guard.pausetime = 6,6
sparkno = s9103
guard.sparkno = s9101
hitsound = s5545,0
guardsound = s5546,0
ground.type = low
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -2
air.hittime = 12
air.velocity = -2,-4
down.velocity = 0,-10
guard.velocity = -1
airguard.velocity = -1,-1
guard.hittime =6
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -5
airguard.cornerpush.veloff = -5
guard.cornerpush.veloff = -5
getpower = 20,10
givepower = 20, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[state  ]
type = null
trigger1 = movehit=1
trigger2 = projhit=1
value = 255,255,255
time = 1

[State ]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;Standing Medium Kick
[Statedef 240]
type = S
movetype = A
physics = S
juggle = 2
ctrl = 0
anim = 240

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889

[State ]
type= posadd
trigger1 =animelem=4
x = 10


[State ]
type = Playsnd
trigger1 = animelem =4
value = s4000,7

[State 200, 3]
type = playsnd
trigger1 = time = 1 && random <= 800
value = s2000,0+random%4
channel = 0
volumescale = 255


[State ]
type = HitDef
trigger1 = Time = 0
sparkxy = -10,-60
attr = S, HA
damage    = 30
animtype =heavy
hitflag = MAFD
guardflag = MA
pausetime = 12,12
guard.pausetime = 12,12
sparkno = s9106
guard.sparkno = s9101
hitsound = s5544,3
guardsound = s5546,0
ground.type = high
ground.hittime = 30
air.hittime = 30
ground.velocity = 0,-18
guard.velocity = -10
air.velocity = 0, -18
airguard.velocity = -5,-4
guard.hittime =10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -5
airguard.cornerpush.veloff = -5
getpower = 30,15
givepower = 30, 15
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2
p2stateno = 6100
envshake.time = 8
envshake.ampl =10

[State ]
type = HitDef
trigger1 = enemynear, name = "onslaught"
trigger1 = enemynear, name = "Abyss"
trigger1 = enemynear, name = "Apocalypse"
trigger1 = Time = 0
sparkxy = -10,-60
attr = S, HA
damage    = 30
animtype =heavy
hitflag = MAF
guardflag = MA
pausetime = 12,12
sparkno = s9106
guard.sparkno = s9101
hitsound = s5544,2
guardsound = s5546,0
ground.type = high
ground.hittime = 30
air.hittime = 30
ground.velocity = 0,-18
guard.velocity = -10
air.velocity = 0, -18
airguard.velocity = -5,-4
guard.hittime =12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -5
airguard.cornerpush.veloff = -5
getpower = 30,15
givepower = 30, 15
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2
envshake.time = 8
envshake.ampl =10


[state ]
type = changestate
trigger1 = movehit
trigger1 = command = "holdup"
value = 40


[state ]
type = null
trigger1 = movehit=1
trigger2 = projhit=1
value = 255,255,255
time = 1

[State ]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Standing Strong Kick and Launcher
[Statedef 250]
type = s
movetype = A
physics = s
juggle = 2
ctrl = 0
anim = 250

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889

[State ]
type = Playsnd
trigger1 = animelem = 4
value = s4000,8

[state ]
type = posadd
trigger1 = animelem = 5
x = 10

[State 200, 3]
type = playsnd
trigger1 = time = 1 && random <= 800
value = s2001,0+random%5
channel = 0
volumescale = 255

[State ]
type = HitDef
trigger1 = animelem = 5
sparkxy = -5, -60
attr = S, NA
damage    = 20
animtype = heavy
hitflag = MAF
guardflag = MA
pausetime = 10,10
guard.pausetime = 10,10
sparkno = s9105
guard.sparkno = s9101
hitsound = s5545,2
guardsound = s5546,0
ground.type = low
ground.slidetime = 12
ground.hittime = 25
ground.velocity = -10
air.hittime = 25
air.velocity = -10,-4
guard.velocity = -6
guard.hittime =9
airguard.velocity = -6,-1
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -5
airguard.cornerpush.veloff = -5
guard.cornerpush.veloff = -5
getpower = 30,15
givepower = 30,15
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2


[State ]
type = HitDef
trigger1 = animelem = 7
sparkxy = -5, -60
attr = S, NA
damage    = 20
animtype = heavy
hitflag = MAFD
guardflag = MA
pausetime = 10,10
guard.pausetime = 10,10
sparkno = s9105
guard.sparkno = s9101
hitsound = s5545,2
guardsound = s5546,0
ground.type = low
ground.slidetime = 12
ground.hittime = 25
ground.velocity = -10
air.hittime = 25
air.velocity = -10,-4
down.velocity = 0,-8
guard.velocity = -6
guard.hittime =9
airguard.velocity = -6,-1
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -5
airguard.cornerpush.veloff = -5
guard.cornerpush.veloff = -5
getpower = 30,15
givepower = 30,15
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2


[state ]
type = null
trigger1 = movehit=1
trigger2 = projhit=1
value = 255,255,255
time = 1

[state ]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;Crouching Light Punch
[Statedef 400]
type = C
movetype = A
physics = C
juggle = 1
velset = 0,0
ctrl = 0
anim = 400

[State ]
type = Playsnd
trigger1 = animelem =2
value = s4000,0

[State ]
type = HitDef
trigger1 = time = 0
attr = C, NA
hitflag = MAF
guardflag = MA
animtype = Light
damage    = 20
pausetime = 6,6
guard.pausetime = 6,6
sparkno = s9103
guard.sparkno = s9101
hitsound = s5544,0
guardsound = s5546,0
sparkxy = -5,-58
ground.type = high
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -2
air.hittime = 12
air.velocity = -2,-4
guard.velocity = -1
airguard.velocity = -1,-1
guard.hittime =6
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -5
airguard.cornerpush.veloff = -5
guard.cornerpush.veloff = -5
getpower = 20,10
givepower = 20, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[state ]
type = null
trigger1 = movehit=1
trigger2 = projhit=1
value = 255,255,255
time = 1

[State ]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;Crouching Medium Punch
[Statedef 410]
type = C
movetype = A
physics = C
juggle = 2
velset = 0,0
ctrl = 0
anim = 410

[State ]
type = Playsnd
trigger1 = animelem =2
value = s4000,1

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889

[State 200, 3]
type = playsnd
trigger1 = time = 1 && random <= 800
value = s2000,0+random%4
channel = 0
volumescale = 255

[State ]
type = HitDef
trigger1 = time = 0
sparkxy = -10, -58
attr = C, NA
damage    = 30
animtype  = Medium
hitflag = MAF
guardflag = MA
pausetime = 6,6
guard.pausetime = 6,6
sparkno = s9104
guard.sparkno = s9101
hitsound = s5544,1
guardsound = s5546,0
ground.type = low
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -2
air.hittime = 12
air.velocity = -2,-4
guard.velocity = -3
airguard.velocity = -3,-1
guard.hittime =6
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -5
airguard.cornerpush.veloff = -5
guard.cornerpush.veloff = -5
getpower = 40,20
givepower = 40, 20
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[state ]
type = null
trigger1 = movehit=1
trigger2 = projhit=1
value = 255,255,255
time = 1

[State ]
type = ChangeState
trigger1 = animtime =0
value = 11
ctrl = 1


;Crouching Strong Punch
[Statedef 420]
type = C
movetype = A
physics = C
juggle = 2
velset = 0,0
ctrl = 0
anim = 420

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889

[State ]
type = Playsnd
trigger1 = animelem =2
value = s4000,10
volumescale = 255

[State ]
type = Explod
trigger1 =animelem = 2
ID = 8889
anim = 421
postype = p1
pos = 0, 0
bindtime = -1
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 200, 3]
type = playsnd
trigger1 = time = 1 && random <= 800
value = s2001,0+random%5
channel = 0
volumescale = 255


[State ]
type = HitDef
trigger1 = Time = 0
sparkxy = -10,-60
attr = S, HA
damage    = 40
animtype =heavy
hitflag = MAFD
guardflag = MA
pausetime = 12,12
guard.pausetime = 12,12
sparkno = s9106
guard.sparkno = s9101
hitsound = s5544,3
guardsound = s5546,0
ground.type = high
ground.hittime = 30
air.hittime = 30
ground.velocity = 0,-18
guard.velocity = -10
air.velocity = 0, -18
airguard.velocity = -5,-4
guard.hittime =10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -5
airguard.cornerpush.veloff = -5
getpower = 60,30
givepower = 60, 30
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2
p2stateno = 6100
envshake.time = 8
envshake.ampl =10
palfx.time = 30
Palfx.add = 100,100,180 
Palfx.sinadd = -80,-80,-80,10
Palfx.color = 0

[state 1060, 8]
type = explod
trigger1 = movehit && numexplod(8114) = 0 && p2movetype = H
anim = 8114
id = 8114
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 6
facing = 1
bindtime = -1
ownpal = 1
ignorehitpause = 1
removetime = 60


[State ]
type = HitDef
trigger1 = enemynear, name = "onslaught"
trigger1 = enemynear, name = "Abyss"
trigger1 = enemynear, name = "Apocalypse"
trigger1 = Time = 0
sparkxy = -10,-60
attr = S, HA
damage    = 40
animtype =heavy
hitflag = MAF
guardflag = MA
pausetime = 12,12
sparkno = s9106
guard.sparkno = s9101
hitsound = s5544,2
guardsound = s5546,0
ground.type = high
ground.hittime = 30
air.hittime = 30
ground.velocity = 0,-18
guard.velocity = -10
air.velocity = 0, -18
airguard.velocity = -5,-4
guard.hittime =12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -5
airguard.cornerpush.veloff = -5
getpower = 60,30
givepower = 60, 30
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2
envshake.time = 8
envshake.ampl =10
palfx.time = 30
Palfx.add = 100,100,180 
Palfx.sinadd = -80,-80,-80,10
Palfx.color = 0

[state 0, ]
type = null
trigger1 = movehit=1
trigger2 = projhit=1
value = 255,255,255
time = 1

[state ]
type = changestate
trigger1 = movehit
trigger1 = command = "holdup"
value = 40


[State ]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;Crouching Light Kick
[Statedef 430]
type = C
movetype = A
physics = C
juggle = 1
velset = 0,0
ctrl = 0
anim = 430

[State 200, 2]
type = Playsnd
trigger1 = animelem =2
value = s4000,6

[State 430, 4]
type = HitDef
trigger1 = !Time
sparkxy = -10,-10
attr = C, NA
damage    = 20
animtype = Light
hitflag = MAFD
guardflag = L
pausetime = 6,6
guard.pausetime = 6,6
sparkno = s9103
guard.sparkno = s9101
hitsound = s5545,0
guardsound = s5546,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -2
air.hittime = 12
air.velocity = -2,-4
guard.velocity = -1
airguard.velocity = -1,-1
guard.hittime =6
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -5
airguard.cornerpush.veloff = -5
guard.cornerpush.veloff = -5
getpower = 20,10
givepower = 20, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[state 0, ]
type = null
trigger1 = movehit=1
trigger2 = projhit=1
value = 255,255,255
time = 1

[State 430, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1  

;Crouching Medium Kick
[Statedef 440]
type = C
movetype = A
physics = C
juggle = 2
ctrl = 0
anim = 440

[State 200, 2]
type = Playsnd
trigger1 = animelem =2
value = s4000,7

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889

[State 200, 3]
type = playsnd
trigger1 = time = 1 && random <= 800
value = s2000,0+random%4
channel = 0
volumescale = 255

[State ]
type = HitDef
trigger1 = Time = 0
sparkxy = -5,-10
attr = C, NA
damage = 30
animtype = Medium
hitflag = MAFD
guardflag = L
pausetime = 6,6
guard.pausetime = 6,6
sparkno = s9104
guard.sparkno = s9101
hitsound = s5545,1
guardsound = s5546,0
ground.type = low
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -2
air.hittime = 12
air.velocity = -2,-4
guard.velocity = -3
airguard.velocity = -3,-1
guard.hittime =6
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -5
airguard.cornerpush.veloff = -5
guard.cornerpush.veloff = -5
getpower = 40,20
givepower = 40, 20
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[state  ]
type = null
trigger1 = movehit=1
trigger2 = projhit=1
value = 255,255,255
time = 1

[State ]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;Crouching Strong Kick
[Statedef 450]
type    = C
movetype= A
physics = C
juggle  = 3
ctrl = 0
anim = 450


[State ]
type = Playsnd
trigger1 = animelem =3
value = s4000,8

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889

[State 200, 3]
type = playsnd
trigger1 = time = 1 && random <= 800
value = s2001,0+random%5
channel = 0
volumescale = 255

[State ]
type = HitDef
trigger1 = time = 0
attr = C, NA
damage = 40
animtype = hard
guardflag = L
hitflag = MAFD
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S9105
guard.sparkno = s9101
sparkxy = -10,-20
hitsound = s5545, 2
guardsound = S5546,0
ground.type = trip
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,-6
air.velocity = -3,-4
guard.velocity = -3
airguard.velocity = -3,-2
guard.hittime =10
getpower = 60,30
givepower = 60, 30
yaccel = .8
fall.xvelocity =0
fall.yvelocity =-2
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -5
airguard.cornerpush.veloff = -5
guard.cornerpush.veloff = -5

[state ]
type = null
trigger1 = movehit=1
trigger2 = projhit=1
value = 255,255,255
time = 1

[State ]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;Jump Light Punch
[Statedef 600]
type = A
movetype = A
physics = A
juggle = 1
ctrl = 0

[State ]
type = Playsnd
trigger1 = animelem =2
value = s4000,0

[State ]
type = HitDef
trigger1 = time = 0
attr = A, NA
animtype = Light
damage    = 20
hitflag = MAF
guardflag = HA
pausetime = 9,9
guard.pausetime = 9,9
sparkxy =  -10,-90
sparkno = s9103
guard.sparkno = s9101
hitsound = s5544,0
guardsound = s5546,0
ground.type = high
ground.slidetime = 10
ground.hittime = 15
air.hittime = 15
ground.velocity = -2
guard.velocity = -2
air.velocity = -1,-8
airguard.velocity = -2,-1
guard.hittime =9
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 20,10
givepower = 20,10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[state  ]
type = null
trigger1 = movehit=1
trigger2 = projhit=1
value = 255,255,255
time = 1

[state ]
type = veladd
trigger1 = var(3) = 1
y = -0.09


[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdfwd")&& (command = "holdup") 
trigger2 = (command = "UF")
value = 108

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdback")&& (command = "holdup") 
trigger2 = (command = "UB")
value = 111

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdfwd")&& (command = "holddown") 
trigger2 = (command = "DF")
value = 112

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdback")&& (command = "holddown") 
trigger2 = (command = "DB")
value = 113

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdfwd")
trigger2 = (command = "FF")
value = 104


[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdback")
trigger2 = (command = "BB")
value = 105

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holddown")
trigger2 = (command = "DD")
value = 106


[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdup")
trigger2 = (command = "UU")
value = 107



[State 1100, 0]
type = ChangeAnim
trigger1 = Anim !=600
trigger1 = Time = 0
value = 600

[State 117, 1]
type = VelSet
trigger1 = numhelper(730) 
x = 0
y = 0


[State 600, 5]
type = ChangeState
trigger1 = numhelper(730)
trigger1 = animtime = 0
value = 731
ctrl = 1

[State 600, 5]
type = ChangeState
trigger1 = animtime = 0
value = 460
ctrl = 1

;Jump Medium Punch
[Statedef 610]
type = A
movetype = A
physics = A
juggle = 1
ctrl = 0

[State ]
type = Playsnd
trigger1 = animelem =4
value = s4000,2

[State 200, 3]
type = playsnd
trigger1 = time = 1 && random <= 800
value = s2001,0+random%5
channel = 0
volumescale = 255

[State ]
type = Playsnd
trigger1 = animelem =2
value = s4000,10

[State ]
type = Explod
trigger1 =animelem = 2
ID = 8889
anim = 611
postype = p1
pos = 0, 0
bindtime = -1
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[state ]
type = hitdef
trigger1 = time = 0
attr = a, na
damage    =30
guarDFlag = ha
priority = 4
pausetime = 9,9
guard.pausetime = 9,9
sparkno =  s9104
guard.sparkno = s9101
sparkxy = -10,-20
hitsound = s5544,4
guardsound = s5546,0
animtype = hard
ground.type = low
ground.slidetime = 17
ground.hittime  = 12
air.hittime  = 12
ground.velocity = -5
air.velocity = -6, -6
getpower = 10,10
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
palfx.time = 30
Palfx.add = 100,100,180 
Palfx.sinadd = -80,-80,-80,10
Palfx.color = 0

[state 1060, 8]
type = explod
trigger1 = movehit && numexplod(8114) = 0 && p2movetype = H
anim = 8114
id = 8114
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 6
facing = 1
bindtime = -1
ownpal = 1
ignorehitpause = 1
removetime = 60

[state ]
type = null
trigger1 = movehit=1
trigger2 = projhit=1
value = 255,255,255
time = 1

[state ]
type = veladd
trigger1 = var(3) = 1
y = -0.09

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdfwd")&& (command = "holdup") 
trigger2 = (command = "UF")
value = 108

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdback")&& (command = "holdup") 
trigger2 = (command = "UB")
value = 111

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdfwd")&& (command = "holddown") 
trigger2 = (command = "DF")
value = 112

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdback")&& (command = "holddown") 
trigger2 = (command = "DB")
value = 113


[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdfwd")
trigger2 = (command = "FF")
value = 104


[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdback")
trigger2 = (command = "BB")
value = 105

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holddown")
trigger2 = (command = "DD")
value = 106


[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdup")
trigger2 = (command = "UU")
value = 107


[State 1100, 0]
type = ChangeAnim
trigger1 = Anim !=610
trigger1 = Time = 0
value = 610

[State 117, 1]
type = VelSet
trigger1 = numhelper(730) 
x = 0
y = 0


[State 600, 5]
type = ChangeState
trigger1 = numhelper(730) 
trigger1 = animtime = 0
value = 731
ctrl = 1

[State 600, 5]
type = ChangeState
trigger1 = animtime = 0
value = 460
ctrl = 1

;Jump Strong Punch
[Statedef 620]
type = A
movetype = A
physics = A
juggle = 1
ctrl = 0

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889


[State ]
type = Playsnd
trigger1 = animelem =2
value = s4000,12

[State 200, 3]
type = playsnd
trigger1 = time = 1 && random <= 800
value = s2001,0+random%5
channel = 0
volumescale = 255

[State ]
type = Playsnd
trigger1 = animelem =4
value = s4000,11

[State 605, 2]
type = Helper
trigger1 = NumHelper(621) = 0
trigger1 = AnimElem = 4
id = 621
name = "Laser"
pos = 0, 0
postype = p1
facing = 0
stateno = 621
helpertype = normal
keyctrl = 0
ownpal = 0
ontop = 1
ignorehitpause = 1

[state ]
type = null
trigger1 = movehit=1
trigger2 = projhit=1
value = 255,255,255
time = 1

[state ]
type = veladd
trigger1 = var(3) = 1
y = -0.1

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
trigger1 = (command = "xyz") && (command = "holdfwd")&& (command = "holdup") 
trigger2 = (command = "UF")
value = 108

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
trigger1 = (command = "xyz") && (command = "holdback")&& (command = "holdup") 
trigger2 = (command = "UB")
value = 111

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
trigger1 = (command = "xyz") && (command = "holdfwd")&& (command = "holddown") 
trigger2 = (command = "DF")
value = 112

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
trigger1 = (command = "xyz") && (command = "holdback")&& (command = "holddown") 
trigger2 = (command = "DB")
value = 113


[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
trigger1 = (command = "xyz") && (command = "holdfwd")
trigger2 = (command = "FF")
value = 104


[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
trigger1 = (command = "xyz") && (command = "holdback")
trigger2 = (command = "BB")
value = 105

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
trigger1 = (command = "xyz") && (command = "holddown")
trigger2 = (command = "DD")
value = 106


[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
trigger1 = (command = "xyz") && (command = "holdup")
trigger2 = (command = "UU")
value = 107


[State 1100, 0]
type = ChangeAnim
trigger1 = Anim !=620
trigger1 = Time = 0
value = 620

[State 117, 1]
type = VelSet
trigger1 = numhelper(730) 
x = 0
y = 0


[State 600, 5]
type = ChangeState
trigger1 = numhelper(730) 
trigger1 = animtime = 0
value = 731
ctrl = 1

[State 600, 5]
type = ChangeState
trigger1 = animtime = 0
value = 460
ctrl = 1


;Jump Strong Punch
[Statedef 621]
type     = S
movetype = A
ctrl = 0
velset = 0,0
anim = 621
juggle = 5
SprPriority = 2

[State 421, 3]
type = Bindtoparent
trigger1 = parent, stateno = 620
time = 1
facing = 1
ignorehitpause = 1

[State 212, HitDef]
type = HitDef
trigger1 = time%3 = 0
trigger1 = hitcount < 5
attr = A, NP
damage = 8,0
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 2,2
guard.pausetime = 2,2
guard.hittime = 3
sparkno = S9105
guard.sparkno = S9101
sparkxy = -10,-84
hitsound = -1
guardsound = S5546,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -4
guard.velocity = -11
airguard.velocity = -3,-1
air.type = Low
air.velocity = -4,-1.5
getpower = 5,5
givepower = 5,5
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[state 0, ]
type = null
trigger1 = movehit=1
trigger2 = projhit=1
value = 255,255,255
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit=1
value = S5545,6
volume = 255
channel = 1


[State 1310, 6]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = parent, stateno != 620 && AnimTime < 15

;Jump Light Kick
[Statedef 630]
type = A
movetype = A
physics = A
juggle = 1
ctrl = 0

[State ]
type = Playsnd
trigger1 = animelem = 2
value = s4000,6

[State ]
type = HitDef
trigger1 = Time = 0
attr = A, NA
animtype = Light
damage = 20
hitflag = MAF
guardflag = HA
pausetime = 9,9
guard.pausetime = 9,9
sparkno = s9103
guard.sparkno = s9101
hitsound = s5545,0
guardsound = s5546,0
sparkxy =  -10,-60
ground.type = low
ground.slidetime = 10
ground.hittime = 15
air.hittime = 15
ground.velocity = -2
guard.velocity = -2
air.velocity = -1,-8
airguard.velocity = -2,-1
guard.hittime =9
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 20,10
givepower = 20, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[state ]
type = veladd
trigger1 = var(3) = 1
y = -0.09

[state ]
type = null
trigger1 = movehit=1
trigger2 = projhit=1
value = 255,255,255
time = 1

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdfwd")&& (command = "holdup") 
trigger2 = (command = "UF")
value = 108

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdback")&& (command = "holdup") 
trigger2 = (command = "UB")
value = 111

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdfwd")&& (command = "holddown") 
trigger2 = (command = "DF")
value = 112

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdback")&& (command = "holddown") 
trigger2 = (command = "DB")
value = 113


[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdfwd")
trigger2 = (command = "FF")
value = 104


[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdback")
trigger2 = (command = "BB")
value = 105

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holddown")
trigger2 = (command = "DD")
value = 106


[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdup")
trigger2 = (command = "UU")
value = 107


[State 1100, 0]
type = ChangeAnim
trigger1 = Anim !=630
trigger1 = Time = 0
value = 630

[State 117, 1]
type = VelSet
trigger1 = numhelper(730) 
x = 0
y = 0


[State 600, 5]
type = ChangeState
trigger1 = numhelper(730) 
trigger1 = animtime = 0
value = 731
ctrl = 1

[State 600, 5]
type = ChangeState
trigger1 = animtime = 0
value = 460
ctrl = 1

;Jump Medium Kick
[Statedef 640]
type = A
movetype = A
physics = A
juggle = 1
ctrl = 0

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889


[State ]
type = Playsnd
trigger1 = animelem =2
value = s4000,7

[State 200, 3]
type = playsnd
trigger1 = time = 1 && random <= 800
value = s2000,0+random%4
channel = 0
volumescale = 255

[State ]
type = HitDef
trigger1 = time = 0
attr = A, NA
damage    = 20
animtype = Medium
hitflag = MAFD
guardflag = HA
pausetime = 9,9
guard.pausetime = 9,9
sparkxy = -10,-60
sparkno = s9104
guard.sparkno = s9101
hitsound = s5545,1
guardsound = s5546,0
ground.type = high
air.type = High
ground.slidetime = 12
ground.hittime = 20
air.hittime = 20
ground.velocity = -2
guard.velocity = -3
air.velocity = -1,-6
airguard.velocity = -3,-1
guard.hittime =9
ground.cornerpush.veloff = -10
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 40,20
givepower = 40, 20
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[state ]
type = veladd
trigger1 = var(3) = 1
y = -0.09

[state ]
type = null
trigger1 = movehit=1
trigger2 = projhit=1
value = 255,255,255
time = 1

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdfwd")&& (command = "holdup") 
trigger2 = (command = "UF")
value = 108

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdback")&& (command = "holdup") 
trigger2 = (command = "UB")
value = 111

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdfwd")&& (command = "holddown") 
trigger2 = (command = "DF")
value = 112

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdback")&& (command = "holddown") 
trigger2 = (command = "DB")
value = 113

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdfwd")
trigger2 = (command = "FF")
value = 104


[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdback")
trigger2 = (command = "BB")
value = 105

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holddown")
trigger2 = (command = "DD")
value = 106


[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdup")
trigger2 = (command = "UU")
value = 107

[State 1100, 0]
type = ChangeAnim
trigger1 = Anim !=640
trigger1 = Time = 0
value = 640

[State 117, 1]
type = VelSet
trigger1 = numhelper(730) 
x = 0
y = 0


[State 600, 5]
type = ChangeState
trigger1 = numhelper(730) 
trigger1 = animtime = 0
value = 731
ctrl = 1

[State 600, 5]
type = ChangeState
trigger1 = animtime = 0
value = 460
ctrl = 1

;Jump Strong Kick
[Statedef 650]
type = A
movetype = A
physics = N
juggle = 1
ctrl = 0
anim = 650
velset = 0,0


[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889

[State 600, 3]
type = velset
trigger1 = time = 6
x = 3
y = 10

[State 600, 3]
type = Playsnd
trigger1 = animelem =2
value = s4000,3

[State 200, 3]
type = playsnd
trigger1 = time = 1 && random <= 800
value = s2002,0
channel = 0
volumescale = 255

[state 640, 3]
type = hitdef
trigger1 = time = 0
trigger1 = p2statetype != A
attr = a, na
damage = 40
hitflag = MAF 
guarDFlag = HA
animtype = hard
pausetime = 12,12
guard.pausetime = 12,12
sparkno =  s9105
guard.sparkno = s9101
sparkxy = -10,-15
hitsound = s5545,2
guardsound = s5546,0
ground.type = low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
air.velocity = -8, 8
getpower = 60,30
givepower = 60, 30
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2
ground.cornerpush.veloff = -20
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -10
guard.cornerpush.veloff = -10


[state 640, 3]
type = hitdef
trigger1 = time = 0
trigger1 = p2statetype = A
attr = a, na
damage = 40
hitflag = MAF 
guarDFlag = HA
animtype = hard
pausetime = 12,12
guard.pausetime = 12,12
sparkno =  s9105
guard.sparkno = s9101
sparkxy = -10,-15
hitsound = s5545,2
guardsound = s5546,0
ground.type = low
ground.slidetime = 17
ground.hittime  = 20
ground.velocity = -8
air.velocity = -20, 12
air.fall = 1
fall.xvelocity =0
fall.recover = 0
getpower = 60,30
givepower = 60, 30
yaccel = .9
envshake.time = 10
envshake.ampl =3
ground.cornerpush.veloff = -20
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -10
guard.cornerpush.veloff = -10

[state ]
type = null
trigger1 = movehit=1
trigger2 = projhit=1
value = 255,255,255
time = 1


[state ]
type = changestate
trigger1 =movecontact
value = 651

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdfwd")&& (command = "holdup") 
trigger2 = (command = "UF")
value = 108

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdback")&& (command = "holdup") 
trigger2 = (command = "UB")
value = 111

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdfwd")&& (command = "holddown") 
trigger2 = (command = "DF")
value = 112

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdback")&& (command = "holddown") 
trigger2 = (command = "DB")
value = 113


[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdfwd")
trigger2 = (command = "FF")
value = 104


[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdback")
trigger2 = (command = "BB")
value = 105

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holddown")
trigger2 = (command = "DD")
value = 106


[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdup")
trigger2 = (command = "UU")
value = 107

[state 451,6]
type = posfreeze
triggerall = movehit
triggerall = pos Y < -210
trigger1 = prevstateno != 50

[state 50, 12]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y > 0
value = 52

;Jump Strong Kick
[Statedef 651]
type    = A
movetype= I
physics = A
ctrl = 0
anim = 651

[State 616, 0]
type = VelSet
trigger1 = Time = 0
x = -4
y = -7

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
trigger1 = (command = "xyz") && (command = "holdfwd")&& (command = "holdup") 
trigger2 = (command = "UF")
value = 108

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
trigger1 = (command = "xyz") && (command = "holdback")&& (command = "holdup") 
trigger2 = (command = "UB")
value = 111

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
trigger1 = (command = "xyz") && (command = "holdfwd")&& (command = "holddown") 
trigger2 = (command = "DF")
value = 112

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
trigger1 = (command = "xyz") && (command = "holdback")&& (command = "holddown") 
trigger2 = (command = "DB")
value = 113


[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
trigger1 = (command = "xyz") && (command = "holdfwd")
trigger2 = (command = "FF")
value = 104


[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
trigger1 = (command = "xyz") && (command = "holdback")
trigger2 = (command = "BB")
value = 105

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
trigger1 = (command = "xyz") && (command = "holddown")
trigger2 = (command = "DD")
value = 106


[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
trigger1 = (command = "xyz") && (command = "holdup")
trigger2 = (command = "UU")
value = 107

[state ]
type = screenbound
triggerall = p2movetype = H && p2statetype = A
trigger1 = prevstateno = 650
value = 0

[state ]
type = changestate
triggerall = prevstateno != 50
trigger1 = backedgebodydist <= -20
value = 7710
ctrl = 1

[State 616, 1]
type = ChangeState
trigger1 = AnimTIme = 0
value = 460

;Jump Strong Kick
[Statedef 660]
type = A
movetype = A
physics = N
juggle = 1
ctrl = 0
anim = 660
velset = 0,0


[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889

[State 600, 3]
type = velset
trigger1 = time = 6
x = 5
y = 5

[State 600, 3]
type = Playsnd
trigger1 = animelem =2
value = s4000,3

[State 200, 3]
type = playsnd
trigger1 = time = 1 && random <= 800
value = s2002,0
channel = 0
volumescale = 255

[state 640, 3]
type = hitdef
trigger1 = time = 0
attr = a, na
damage = 40
hitflag = MAF 
guarDFlag = HA
animtype = hard
pausetime = 12,12
guard.pausetime = 12,12
sparkno =  s9105
guard.sparkno = s9101
sparkxy = -10,-15
hitsound = s5545,2
guardsound = s5546,0
ground.type = low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8
air.velocity = -8, -8
getpower = 60,30
givepower = 60, 30
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2
ground.cornerpush.veloff = -20
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -10
guard.cornerpush.veloff = -10


[state ]
type = null
trigger1 = movehit=1
trigger2 = projhit=1
value = 255,255,255
time = 1


[state ]
type = changestate
trigger1 =movecontact
value = 661

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdfwd")&& (command = "holdup") 
trigger2 = (command = "UF")
value = 108

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdback")&& (command = "holdup") 
trigger2 = (command = "UB")
value = 111

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdfwd")&& (command = "holddown") 
trigger2 = (command = "DF")
value = 112

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdback")&& (command = "holddown") 
trigger2 = (command = "DB")
value = 113


[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdfwd")
trigger2 = (command = "FF")
value = 104


[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdback")
trigger2 = (command = "BB")
value = 105

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holddown")
trigger2 = (command = "DD")
value = 106


[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
triggerall = movecontact
trigger1 = (command = "xyz") && (command = "holdup")
trigger2 = (command = "UU")
value = 107

[state 451,6]
type = posfreeze
triggerall = movehit
triggerall = pos Y < -210
trigger1 = prevstateno != 50

[state 50, 12]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y > 0
value = 52

;Jump Strong Kick
[Statedef 661]
type    = A
movetype= I
physics = A
ctrl = 0
anim = 651

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
trigger1 = (command = "xyz") && (command = "holdfwd")&& (command = "holdup") 
trigger2 = (command = "UF")
value = 108

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
trigger1 = (command = "xyz") && (command = "holdback")&& (command = "holdup") 
trigger2 = (command = "UB")
value = 111

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
trigger1 = (command = "xyz") && (command = "holdfwd")&& (command = "holddown") 
trigger2 = (command = "DF")
value = 112

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
trigger1 = (command = "xyz") && (command = "holdback")&& (command = "holddown") 
trigger2 = (command = "DB")
value = 113


[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
trigger1 = (command = "xyz") && (command = "holdfwd")
trigger2 = (command = "FF")
value = 104


[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
trigger1 = (command = "xyz") && (command = "holdback")
trigger2 = (command = "BB")
value = 105

[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
trigger1 = (command = "xyz") && (command = "holddown")
trigger2 = (command = "DD")
value = 106


[state 212, 4]
type = changestate
triggerall = numhelper(109) = 0
trigger1 = (command = "xyz") && (command = "holdup")
trigger2 = (command = "UU")
value = 107

[State 616, 0]
type = VelSet
trigger1 = Time = 0
x = -4
y = -7

[State 616, 1]
type = ChangeState
trigger1 = AnimTIme = 0
value = 460

;Fly
[Statedef 730]
type    = A
physics = n
anim = 107
sprpriority = 1
ctrl = 0

[State 100, 3]
type = PlaySnd
trigger1 = time = 1
value = 4000, 3
channel = 1

[State ]
type = removeExplod
trigger1 = time = 0
ID = 8888

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889

[State 117, 1]
type = VelSet
trigger1 = Time = 0
y = -10


[state 100, 4]
type = helper
trigger1 = time = 0
id = 730
stateno = 732
postype = p1
ownpal = 1
pos = 0,0
persistent = 0
ignorehitpause = 0


[state 100, 4]
type = helper
trigger1 = time = 0
id = 731
stateno = 735
postype = p1
ownpal = 1
pos = 0,0
persistent = 0
ignorehitpause = 0

[State 117, 7]
type = ChangeState
trigger1 = time = 5
value = 731

;fly
[Statedef 731]
type    = A
movetype= A
physics = N
sprpriority = 1
ctrl = 1



[State 731, Velset]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 731, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAirGuard


[state 731, PosSet]
type = PosSet
trigger1 = StateType = A
trigger1 = pos y > -5
y = -5


[State 731, ChangeAnim]
type = ChangeAnim
triggerall = Anim != 700
trigger1 = Vel X = 0
trigger1 = Vel Y = 0
trigger2 = Vel X = 0
trigger2 = Vel Y > 0
value = 700

[State 731, ChangeAnim]
type = ChangeAnim
triggerall = Anim != 104
triggerall = Vel X > 0
trigger1 = Vel Y = 0
trigger2 = Vel Y != 0
value = 104

[State 731, ChangeAnim]
type = ChangeAnim
triggerall = Anim != 105
triggerall = Vel X < 0
trigger1 = Vel Y = 0
trigger2 = Vel Y != 0
value = 105

[State 731, ChangeAnim]
type = ChangeAnim
triggerall = Anim != 700
trigger1 = Vel X = 0
trigger1 = Vel Y < 0
value = 700

[State 731, ChangeAnim]
type = ChangeAnim
triggerall = Anim != 700
trigger1 = Command = "holddown"
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Command != "holdup"
value = 700


[State 731, VelSet]
type = VelSet
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Command != "holdup"
trigger1 = Command != "holddown"
x = 0
y = 0

[State 731, VelSet]
type = VelSet
trigger1 = Command = "holdfwd"
trigger1 = Command = "holdup"
trigger1 = Command != "holdback"
trigger1 = Command != "holddown"
x = const(velocity.walk.fwd.x)*(114/70)
y = -4

[State 731, VelSet]
type = VelSet
trigger1 = Command = "holdfwd"
trigger1 = Command = "holdup"
trigger1 = Command != "holdback"
trigger1 = Command != "holddown"
x = const(velocity.walk.fwd.x)*(114/70)
y = -4

[State 731, VelSet]
type = VelSet
trigger1 = Command = "holdfwd"
trigger1 = Command = "holddown"
trigger1 = Command != "holdback"
trigger1 = Command != "holdup"
x = const(velocity.walk.fwd.x)*(114/103)
y = ifelse(Pos Y < -5, 3.5, 0)

[State 731, VelSet]
type = VelSet
trigger1 = Command = "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Command != "holdup"
trigger1 = Command != "holddown"
x = const(velocity.walk.fwd.x)*(114/55)
y = 0

[State 731, VelSet]
type = VelSet
trigger1 = Command = "holdup"
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Command != "holddown"
x = 0
y = -4

[State 731, VelSet]
type = VelSet
trigger1 = Command = "holdback"
trigger1 = Command = "holdup"
trigger1 = Command != "holdfwd"
trigger1 = Command != "holddown"
x = const(velocity.walk.back.x)*(138/70)
y = -4

[State 731, VelSet]
type = VelSet
trigger1 = Command = "holdback"
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdup"
trigger1 = Command != "holddown"
x = const(velocity.walk.back.x)*(138/55)
y = 0

[State 731, VelSet]
type = VelSet
trigger1 = Command = "holdback"
trigger1 = Command = "holddown"
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdup"
x = const(velocity.walk.back.x)*(138/102)
y = ifelse(Pos Y < -5, 3.5, 0)

[State 731, VelSet]
type = VelSet
trigger1 = Command = "holddown"
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger1 = Command != "holdup"
x = 0
y = ifelse(Pos Y < -5, 3.5, 0)

[State 731, Turn]
type = Turn
trigger1 = P2Dist X < 0
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = command != "holddown"
trigger1 = command != "holdup"

[State 731, PosAdd]
type = PosAdd
trigger1 = P2Dist Y > 230
y = 9




[State 731, ChangeState]
type = ChangeState
triggerall = time >10
trigger1 = winko
trigger2 =helper (730),stateno = 733
trigger3 = command="Fly"
value = 734

;Fly Limiter
[Statedef 732]
type = A
physics = N
movetype = I
anim = 9999
velset = 0,0

[State 1051, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0
ignorehitpause = 0


[State 1051, End]
type = changestate
trigger1 = parent, movetype = H
trigger2 = time = 500
trigger3 = Parent, StateNo = 734
trigger4 = parent,StateNo = 52
value = 733

;Fly Limiter
[Statedef 733]
type = A
physics = N
movetype = I
anim = 9999
velset = 0,0

[State 1051, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0
ignorehitpause = 0



[State 1051, End]
type = DestroySelf
trigger1 = time = 5

[Statedef 734]
type    = A
movetype= a
physics = A
sprpriority = 1
anim = 111

[State 600, 5]
type = ChangeState
trigger1 = animtime = 0
value = 460
ctrl = 1


;Fly Limiter
[Statedef 735]
type = A
physics = N
movetype = I
anim = 9999
velset = 0,0

[State 1051, End]
type = destroyself
trigger1 = parent,StateNo = 52

;Throw FWD
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800

[State ]
type = HitDef
trigger1 = Time = 0
attr = S, NT
hitflag = M-
priority = 1, Miss
sparkxy = -35,-70
sparkno = s9125
hitsound = s800,1
p2facing = 1
p1stateno = 801
p2stateno = 802
guard.dist = 0
fall.xvelocity = 0
fall.yvelocity = 0
fall = 0
fall.recover = 0
numhits = 0

[State ]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Throw FWD
[statedef 801]
type    = a
movetype= a
physics = n
anim = 801
poweradd = 100
velset = 0,0

[State ]
type = ChangeState
triggerall = NumTarget
triggerall = Time <= 7
trigger1 = target,command = "z"
value = 900


[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = s2000,0+random%4
channel = 0
volumescale = 255

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value =4000,13

[State 810, a]
type = Width
trigger1 = 1
value = 80, 0

[State 191, Wood 1]
type = Explod
triggerall = NumExplod(12)=0
trigger1 = AnimElem = 5
ID= 12
anim = 804
postype = p1
pos = 0, 0
bindtime = -1
removeongethit= 1
sprpriority = 3
ontop = 1

[State 1410, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 1410, 2]
type = TargetBind
trigger1 = AnimElem = 1
pos = 62,-130

[State 1410, 2]
type = TargetBind
trigger1 = AnimElem = 2
pos = 61,-150

[State 1410, 2]
type = TargetBind
trigger1 = AnimElem = 5
pos = 90,-160

[State 1000, 2]
type = Projectile
trigger1 = AnimElem = 6
projanim = 803
projhitanim = 803
projpriority = 1
projsprpriority = 2;-1
offset = 0, -300
attr = S, HP
damage = 120
pausetime = 0,10
sparkno= -1
sparkxy = 0, 0
hitsound = S5544,3
ground.type = low		
ground.slidetime = 14		
ground.hittime  = 24		
ground.velocity = -8,-15		
guard.hittime = 10			
air.velocity = -8,-15							
air.hittime = 16			
ignorehitpause = 1
getpower = 0,0
givepower = 0,0
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2
envshake.time = 6
envshake.ampl = 3
fall = 1
air.fall = 1
fall.recover = 0


[state 1060, 8]
type = explod
trigger1 = projhit=1 && p2movetype = H && numexplod(9105) = 0
anim = 9105
id = 9105
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 20
facing = 1
bindtime = 1
ownpal = 1
ignorehitpause = 1

[state  ]
type = null
trigger1 = movehit=1
trigger2 = projhit=1
value = 255,255,255
time = 1

[state  ]
type = envcolor
trigger1 =movehit = 1
value = 255,255,255
time = 1

[State 1410, State]
type = sprpriority
trigger1 = 1
value = -2

[State 1410, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;Throw FWD
[Statedef 802]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0, 0
poweradd = 100


[State 1410, 1]
type = SprPriority
trigger1 = time >= 0
value = 2

[State 850, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 802


[State 850, 1]
type = screenbound
trigger1 = 1
value = 1

;Throw BCK
[Statedef 810]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800

[State ]
type = HitDef
trigger1 = Time = 0
attr = S, NT
hitflag = M-
priority = 1, Miss
sparkxy = -35,-70
sparkno = s9125
hitsound = s800,1
p2facing = 1
p1stateno = 811
p2stateno = 812
guard.dist = 0
fall.xvelocity = 0
fall.yvelocity = 0
fall = 0
fall.recover = 0
numhits = 0

[State ]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Throw BCK
[statedef 811]
type    = a
movetype= a
physics = n
anim = 810
poweradd = 100
velset = 0,0

[State ]
type = ChangeState
triggerall = NumTarget
triggerall = Time <= 7
trigger1 = target,command = "z"
value = 900


[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value =1000,3
channel = 0
volumescale = 255

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value =0,11

[State ]
type = EnvShake
trigger1 = animelem =7 
time = 15


[State ]
type = Explod
trigger1 = animelem = 7
anim = 6012
pos = -10,15
sprpriority = 4
ownpal = 1
postype = p2

[State ]
type = Explod
trigger1 = animelem = 7
anim = 6013
pos = -10,15
sprpriority = -4
ownpal = 1
postype = p2

[State ]
type = Explod
trigger1 = animelem = 7
anim = 812
pos = -5,5
sprpriority = -4
ownpal = 1
postype = p1

[State ]
type = Explod
trigger1 = animelem = 7
anim = 813
pos = 0,0
sprpriority = 10
ownpal = 1
postype = p1

[State 810, a]
type = Width
trigger1 = 1
value = 80, 0

[State 1410, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 1410, 2]
type = TargetBind
trigger1 = AnimElem = 1
pos = 62,-130

[State 1410, 2]
type = TargetBind
trigger1 = AnimElem = 2
pos = 61,-150

[State 1410, 2]
type = TargetBind
trigger1 = AnimElem = 5
pos = 15,-115

[State 1410, 2]
type = TargetBind
trigger1 = AnimElem = 6
pos = 10,-100

[State 1410, 2]
type = TargetBind
trigger1 = AnimElem = 7
pos = -40,-20


[State 1410, State]
type = sprpriority
trigger1 = 1
value = -2

[State 1410, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;Throw BCK
[Statedef 812]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0, 0
poweradd = 100


[State 1410, 1]
type = SprPriority
trigger1 = time >= 0
value = 2

[State 850, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 811


[State 850, 1]
type = screenbound
trigger1 = 1
value = 1

[State 1420, 4]
type = Lifeadd
trigger1 = AnimElem = 7
value = -120


[State 1420, 4]
type = velset
trigger1 = AnimElem = 8
x = 5
y =  -10

[State 1420, 4]
type = veladd
trigger1 = time > 57
y = .7

[state 50, 12]
type = changestate
triggerall = time > 60
trigger1 = vel y > 0
trigger1 = pos y > 0
value = 5110

;Throw Air
[Statedef 850]
type = A
movetype = A
physics = A
ctrl = 0
anim = 850

[State 1130, 1]
type = HitDef
triggerall = p2stateno != 6100
triggerall = p2stateno != [5040,5999]
trigger1 = time = 0
attr = A, NT
hitflag = A
guardflag =
pausetime = 1, 1
priority = 4, Miss
sparkno = -1
hitsound = S800, 1
p1facing = ifelse (command = "holdfwd", 1, -1)
p1stateno = 851
p2stateno = 802
p2facing = 1
fall = 1
numhits = 0
[State 1130, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 460
ctrl = 1


;Throw Air
[statedef 851]
type    = a
movetype= a
physics = n
anim = 801
poweradd = 100
velset = 0,0

[State ]
type = ChangeState
triggerall = NumTarget
triggerall = Time <= 7
trigger1 = target,command = "z"
value = 900

[State 100, 3]
type = PlaySnd
trigger1 = time = 1
value = 4000, 3
channel = 1

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 6
value = s2000,0+random%4
channel = 0
volumescale = 255

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value =4000,13

[State 810, a]
type = Width
trigger1 = 1
value = 80, 0

[State 191, Wood 1]
type = Explod
trigger1 = AnimElem = 1
ID= 12
anim = 851
postype = p1
pos = 0, 0
bindtime = -1
removeongethit= 1
sprpriority = -2
removetime = -1

[State 191, Wood 1]
type = Explod
triggerall = NumExplod(12)=0
trigger1 = AnimElem = 5
ID= 12
anim = 804
postype = p1
pos = 0, 0
bindtime = -1
removeongethit= 1
sprpriority = 3
ontop = 1

[State 1410, Invincibility]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 1410, 2]
type = TargetBind
trigger1 = AnimElem = 1
pos = 62,-130

[State 1410, 2]
type = TargetBind
trigger1 = AnimElem = 2
pos = 61,-150

[State 1410, 2]
type = TargetBind
trigger1 = AnimElem = 5
pos = 90,-160

[State 1000, 2]
type = Projectile
trigger1 = AnimElem = 6
projanim = 803
projhitanim = 803
projpriority = 1
projsprpriority = 2;-1
offset = 0, -300
attr = S,HP
damage = 120
pausetime = 0,10
sparkno= -1
sparkxy = 0, 0
hitsound = S5544,3
ground.type = low		
ground.slidetime = 14		
ground.hittime  = 24		
ground.velocity = -8,-15		
guard.hittime = 10			
air.velocity = -8,-15							
air.hittime = 16			
ignorehitpause = 1
getpower = 0,0
givepower = 0,0
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2
envshake.time = 6
envshake.ampl = 3
fall = 1
air.fall = 1
fall.recover = 0


[state 1060, 8]
type = explod
trigger1 = projhit=1 && p2movetype = H && numexplod(9105) = 0
anim = 9105
id = 9105
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 20
facing = 1
bindtime = 1
ownpal = 1
ignorehitpause = 1

[state  ]
type = null
trigger1 = movehit=1
trigger2 = projhit=1
value = 255,255,255
time = 1

[state  ]
type = envcolor
trigger1 =movehit = 1
value = 255,255,255
time = 1

[State 1410, State]
type = sprpriority
trigger1 = 1
value = -2


[State 191, Wood 1]
type = removeExplod
trigger1 = animtime = 0
ID= 12


[State 1410, State]
type = ChangeState
trigger1 = animtime = 0
value = 460
ctrl = 1

;Throw Cancel
[Statedef 900]
type = A
movetype= A
physics = N
juggle = 0
velset = 0,0
ctrl = 0
anim = 900

[State 191, Wood 1]
type = removeExplod
trigger1 = AnimElem = 1
ID= 12

[State 225, 3]
type = velset
trigger1 = animelem = 1
x = -2

[State 4802, s1]
type = PlaySnd
trigger1 = time = 1
value = S230, 15
volumescale = 100

[State whatever]
type = VarSet
trigger1 = AnimTime = 0
trigger1 = Var(20) >= 0
var(20) = 0

[State whatever]
type = VarSet
trigger1 = AnimTime = 0
trigger1 = Var(21) >= 0
var(21) = 0

[State invuln]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 2

[State funko pop]
type = TargetState
trigger1 = Time = 0
value = 950



[State 0,p1]
type = explod
trigger1 = time=0
triggerall = TeamSide = 2 && NumExplod(8113) = 0
anim = 8113
ID = 8113
postype = left
pos = 0,80
ontop = 1
bindtime = -1
removetime = 48
supermovetime = 60
pausemovetime = 60
scale = .83,1
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 0,p1]
type = explod
trigger1 = time=0
triggerall = TeamSide = 1 && NumExplod(8113) = 0
anim = 8113
ID = 8113
postype =right
pos = -70,80
ontop = 1
bindtime = -1
removetime = 48
supermovetime = 60
pausemovetime = 60
scale = .83,1
persistent = 0
ignorehitpause = 1
ownpal = 1

[State 710, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 460
ctrl = 1

;Throw Cancel
[Statedef 901]
type = A
movetype= A
physics = A
juggle = 0
velset = 0,0
ctrl = 0
anim = 460

[State ]
type = velset
trigger1 = animelem = 1
x = -10

[State ]
type = PlaySnd
trigger1 = time = 1
value = S230, 16
volumescale = 100

[State ]
type = VarSet
trigger1 = AnimTime = 0
trigger1 = Var(22) >= 0
var(22) = 0

[State ]
type = VarSet
trigger1 = AnimTime = 0
trigger1 = Var(23) >= 0
var(23) = 0

[State ]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 2

[State ]
type = TargetState
trigger1 = Time = 0
value = 950

[State ]
type = explod
trigger1 = time=0
triggerall = TeamSide = 2 && NumExplod(8113) = 0
anim = 8113
ID = 8113
postype = left
pos = 0,80
ontop = 1
bindtime = -1
removetime = 48
supermovetime = 60
pausemovetime = 60
scale = .83,1
persistent = 0
ignorehitpause = 1
ownpal = 1

[State ]
type = explod
trigger1 = time=0
triggerall = TeamSide = 1 && NumExplod(8113) = 0
anim = 8113
ID = 8113
postype =right
pos = -70,80
ontop = 1
bindtime = -1
removetime = 48
supermovetime = 60
pausemovetime = 60
scale = .83,1
persistent = 0
ignorehitpause = 1
ownpal = 1

[state ]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y > 0
value = 52

;Throw Cancel
[Statedef 950]
type = A
movetype= H
physics = N
juggle = 0
velset = -7,-7
ctrl = 0

[State ]
type = NotHitBy
trigger1 = 1
value = SCA

[State ]
type = ChangeAnim
trigger1 = Time = 0
value = 5030

[State ]
type = VelAdd
trigger1 = Time >= 0
y = 0.6

[State ]
type = SelfState
trigger1 = time = 15
value = 5040


;---------------------------------------------------------------------------;
;                          Super Moves                                    ;

;---------------------------------------------------------------------------

;Super01
[Statedef 1000]
type    = S
movetype= A
physics = S
anim = 1000
ctrl = 0
velset = 0,0
poweradd = 80

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889

[State ]
type = Explod
trigger1 = Time = 0
anim = 9110
pos = 0,0
postype = p1
sprpriority = 5
supermove = 0
bindtime = 1
ownpal = 1

[State ]
type = Explod
trigger1 = Time = 0
anim = 1001
id = 8888
pos = 0,0
postype = p1
sprpriority = 5
supermove = 0
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 200, 3]
type = playsnd
trigger1 = time = 1 
value = s3000,0
channel = 0
volumescale = 255

[State ]
type = Playsnd
trigger1 = animelem =3
value = s4000,14
volumescale = 255

[State 1001, Helper]
type = Helper
trigger1 = animelem =5
helpertype = normal
name = "beam"
ID = 1000
stateno = 1001
postype = p1
facing = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 0
persistent = 0
size.xscale = 1.3

[State ]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;Super01
[Statedef 1001]
type    = A
movetype= a
physics = N
anim = 1002
velset = 0,0
sprpriority = 5

[state 3510, bindtoparent]
type = bindtoparent
trigger1 = time = 0
time = 900
pos = 0,0
ignorehitpause = 1

[State 1010, HitDef]
type = HitDef
trigger1 = time%6 = 0
attr = S, SP
damage = 15,2
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime =2,2
hitsound = -1
guardsound = -1
guard.sparkno = S9101
sparkno = S9107
sparkxy = -40, -80
animtype = Heavy
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -9,-5
guard.velocity = 0
air.velocity = -3,-5
airguard.velocity = 0,-1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 0,0
givepower = 30,30
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit=1
value = S5545,6
volume = 255
channel = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = moveguarded=1
value = S5546,0
volume = 255
channel = 1

[State 0, EnvColor]
type = EnvColor
trigger1 = movehit=1
value = 255,255,255
time = 1
ignorehitpause = 0
persistent = 1

[State 1030, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1030, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1030, endfromproj]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1002
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1101, NoShadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 810, grab sound]
type = destroyself
trigger1 = animtime = 0
trigger2 = Parent, MoveType = H

;Super01
[Statedef 1002]
type    = A
movetype= a
physics = N
anim = 1003
velset = 0,0
sprpriority = 4

[state 810, grab sound]
type = destroyself
trigger1 = animtime = 0

;Super01
[Statedef 1010]
type    = S
movetype= A
physics = S
anim = 1010
ctrl = 0
velset = 0,0
poweradd = 80

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889

[State ]
type = Explod
trigger1 = Time = 0
anim = 9110
pos = 0,0
postype = p1
sprpriority = 5
supermove = 0
bindtime = 1
ownpal = 1

[State ]
type = Explod
trigger1 = Time = 0
anim = 1011
id = 8888
pos = 0,0
postype = p1
sprpriority = 5
supermove = 0
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 200, 3]
type = playsnd
trigger1 = time = 1 
value = s3000,0
channel = 0
volumescale = 255

[State ]
type = Playsnd
trigger1 = animelem =3
value = s4000,14
volumescale = 255

[State 1001, Helper]
type = Helper
trigger1 = animelem =5
helpertype = normal
name = "beam"
ID = 1000
stateno = 1011
postype = p1
facing = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 0
persistent = 0
size.xscale = 1.3

[State ]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;Super01
[Statedef 1011]
type    = A
movetype= a
physics = N
anim = 1002
velset = 0,0
sprpriority = 5

[state 3510, bindtoparent]
type = bindtoparent
trigger1 = time = 0
time = 900
pos = 0,0
ignorehitpause = 1

[State 1010, HitDef]
type = HitDef
trigger1 = time%4 = 0
attr = S, SP
damage = 15,2
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime =2,2
hitsound = -1
guardsound = -1
guard.sparkno = S9101
sparkno = S9107
sparkxy = -40, -80
animtype = Heavy
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -9,-5
guard.velocity = 0
air.velocity = -3,-5
airguard.velocity = 0,-1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 0,0
givepower = 30,30
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit=1
value = S5545,6
volume = 255
channel = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = moveguarded=1
value = S5546,0
volume = 255
channel = 1

[State 0, EnvColor]
type = EnvColor
trigger1 = movehit=1
value = 255,255,255
time = 1
ignorehitpause = 0
persistent = 1

[State 1030, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1030, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1030, endfromproj]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1002
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1101, NoShadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 810, grab sound]
type = destroyself
trigger1 = animtime = 0
trigger2 = Parent, MoveType = H

;Super01
[Statedef 1020]
type    = S
movetype= A
physics = S
anim = 1020
ctrl = 0
velset = 0,0
poweradd = 80

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889

[State ]
type = Explod
trigger1 = Time = 0
anim = 9110
pos = 0,0
postype = p1
sprpriority = 5
supermove = 0
bindtime = 1
ownpal = 1

[State ]
type = Explod
trigger1 = Time = 0
anim = 1021
id = 8888
pos = 0,0
postype = p1
sprpriority = 5
supermove = 0
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 200, 3]
type = playsnd
trigger1 = time = 1 
value = s3000,0
channel = 0
volumescale = 255

[State ]
type = Playsnd
trigger1 = animelem =3
value = s4000,14
volumescale = 255

[State 1001, Helper]
type = Helper
trigger1 = animelem =5
helpertype = normal
name = "beam"
ID = 1000
stateno = 1021
postype = p1
facing = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 0
persistent = 0
size.xscale = 1.3

[State ]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;Super01
[Statedef 1021]
type    = A
movetype= a
physics = N
anim = 1002
velset = 0,0
sprpriority = 5

[state 3510, bindtoparent]
type = bindtoparent
trigger1 = time = 0
time = 900
pos = 0,0
ignorehitpause = 1

[State 1010, HitDef]
type = HitDef
trigger1 = time%3 = 0
attr = S, SP
damage = 15,2
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime =2,2
hitsound = -1
guardsound = -1
guard.sparkno = S9101
sparkno = S9107
sparkxy = -40, -80
animtype = Heavy
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -9,-5
guard.velocity = 0
air.velocity = -3,-5
airguard.velocity = 0,-1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 0,0
givepower = 30,30
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit=1
value = S5545,6
volume = 255
channel = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = moveguarded=1
value = S5546,0
volume = 255
channel = 1

[State 0, EnvColor]
type = EnvColor
trigger1 = movehit=1
value = 255,255,255
time = 1
ignorehitpause = 0
persistent = 1

[State 1030, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1030, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1030, endfromproj]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1002
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1101, NoShadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 810, grab sound]
type = destroyself
trigger1 = animtime = 0
trigger2 = Parent, MoveType = H

;Super01
[Statedef 1030]
type    = A
movetype= A
physics = N
anim = 1030
ctrl = 0
poweradd = 80

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889

[State ]
type = Explod
trigger1 = Time = 0
anim = 1031
id = 8888
pos = 0,0
postype = p1
sprpriority = 5
supermove = 0
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 200, 3]
type = playsnd
trigger1 = time = 1 
value = s3000,0
channel = 0
volumescale = 255

[State ]
type = Playsnd
trigger1 = animelem =3
value = s4000,14
volumescale = 255

[State 1001, Helper]
type = Helper
trigger1 = animelem =13
helpertype = normal
name = "beam"
ID = 1000
stateno = 1031
postype = p1
facing = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 0
persistent = 0
size.xscale = 1.3

[State 1100, VelMul]
type = VelMul
trigger1 = !Time
x = .075
y = .125

[state 50, 12]
type = velset
trigger1 = vel y > 0
trigger1 = pos y > -5
y=0


[State 1100, 0]
type = ChangeAnim
trigger1 = Anim !=1030
trigger1 = Time = 0
value = 1030

[State 117, 1]
type = VelSet
trigger1 = numhelper(730) 
x = 0
y = 0


[State 600, 5]
type = ChangeState
trigger1 = numhelper(730) 
trigger1 = animtime = 0
value = 731
ctrl = 1

[State 600, 5]
type = ChangeState
trigger1 = animtime = 0
value = 460
ctrl = 1

;Super01
[Statedef 1031]
type    = A
movetype= a
physics = N
anim = 1032
velset = 0,0
sprpriority = 5

[state 3510, bindtoparent]
type = bindtoparent
trigger1 = time = 0
time = 900
pos = 0,0
ignorehitpause = 1

[State 1010, HitDef]
type = HitDef
trigger1 = hitcount < 4
trigger1 = time%6 = 0
attr = S, SP
damage = 15,2
hitflag = MAFD
guardflag = MA
pausetime = 2,5
guard.pausetime =2,2
hitsound = -1
guardsound = -1
guard.sparkno = -1
sparkno = -1
sparkxy = 0, 0
animtype = Heavy
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -2,-5
guard.velocity = 0
air.velocity = -2,-5
airguard.velocity = 0,-1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 0,0
givepower = 30,30
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit=1
value = S5545,6
volume = 255
channel = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = moveguarded=1
value = S5546,0
volume = 255
channel = 1


[state 1060, 8]
type = explod
trigger1 = movehit=1 && p2movetype = H && numexplod(9107) = 0
anim = 9107
id = 9107
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 20
facing = 1
bindtime = 1
ownpal = 1
ignorehitpause = 1


[state 1060, 8]
type = explod
trigger1 = moveguarded=1
anim = 9101
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 20
facing = 1
bindtime = 1
ownpal = 1
ignorehitpause = 1


[State 0, EnvColor]
type = EnvColor
trigger1 = movehit=1
value = 255,255,255
time = 1
ignorehitpause = 0
persistent = 1

[State 1030, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1030, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1030, endfromproj]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1032
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1101, NoShadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 810, grab sound]
type = destroyself
trigger1 = animtime = 0
trigger2 = Parent, MoveType = H

;Super01
[Statedef 1032]
type    = A
movetype= a
physics = N
anim = 1033
velset = 0,0
sprpriority = 4

[state 810, grab sound]
type = destroyself
trigger1 = animtime = 0

;Super01
[Statedef 1040]
type    = A
movetype= A
physics = N
anim = 1040
ctrl = 0
poweradd = 80

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889

[State ]
type = Explod
trigger1 = Time = 0
anim = 1041
id = 8888
pos = 0,0
postype = p1
sprpriority = 5
supermove = 0
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 200, 3]
type = playsnd
trigger1 = time = 1 
value = s3000,0
channel = 0
volumescale = 255

[State ]
type = Playsnd
trigger1 = animelem =3
value = s4000,14
volumescale = 255

[State 1001, Helper]
type = Helper
trigger1 = animelem =13
helpertype = normal
name = "beam"
ID = 1000
stateno = 1041
postype = p1
facing = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 0
persistent = 0
size.xscale = 1.3

[State 1100, VelMul]
type = VelMul
trigger1 = !Time
x = .075
y = .125

[state 50, 12]
type = velset
trigger1 = vel y > 0
trigger1 = pos y > -5
y=0


[State 1100, 0]
type = ChangeAnim
trigger1 = Anim !=1040
trigger1 = Time = 0
value = 1040

[State 117, 1]
type = VelSet
trigger1 = numhelper(730) 
x = 0
y = 0


[State 600, 5]
type = ChangeState
trigger1 = numhelper(730) 
trigger1 = animtime = 0
value = 731
ctrl = 1

[State 600, 5]
type = ChangeState
trigger1 = animtime = 0
value = 460
ctrl = 1

;Super01
[Statedef 1041]
type    = A
movetype= a
physics = N
anim = 1032
velset = 0,0
sprpriority = 5

[state 3510, bindtoparent]
type = bindtoparent
trigger1 = time = 0
time = 900
pos = 0,0
ignorehitpause = 1

[State 1010, HitDef]
type = HitDef
trigger1 = hitcount < 5
trigger1 = time%5 = 0
attr = S, SP
damage = 15,2
hitflag = MAFD
guardflag = MA
pausetime = 2,5
guard.pausetime =2,2
hitsound = -1
guardsound = -1
guard.sparkno = -1
sparkno = -1
sparkxy = 0, 0
animtype = Heavy
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -2,-5
guard.velocity = 0
air.velocity = -2,-5
airguard.velocity = 0,-1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 0,0
givepower = 30,30
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit=1
value = S5545,6
volume = 255
channel = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = moveguarded=1
value = S5546,0
volume = 255
channel = 1


[state 1060, 8]
type = explod
trigger1 = movehit=1 && p2movetype = H && numexplod(9107) = 0
anim = 9107
id = 9107
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 20
facing = 1
bindtime = 1
ownpal = 1
ignorehitpause = 1


[state 1060, 8]
type = explod
trigger1 = moveguarded=1
anim = 9101
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 20
facing = 1
bindtime = 1
ownpal = 1
ignorehitpause = 1


[State 0, EnvColor]
type = EnvColor
trigger1 = movehit=1
value = 255,255,255
time = 1
ignorehitpause = 0
persistent = 1

[State 1030, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1030, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1030, endfromproj]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1032
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1101, NoShadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 810, grab sound]
type = destroyself
trigger1 = animtime = 0
trigger2 = Parent, MoveType = H

;Super01
[Statedef 1050]
type    = A
movetype= A
physics = N
anim = 1050
ctrl = 0
poweradd = 80

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889

[State ]
type = Explod
trigger1 = Time = 0
anim = 1051
id = 8888
pos = 0,0
postype = p1
sprpriority = 5
supermove = 0
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 200, 3]
type = playsnd
trigger1 = time = 1 
value = s3000,0
channel = 0
volumescale = 255

[State ]
type = Playsnd
trigger1 = animelem =3
value = s4000,14
volumescale = 255

[State 1001, Helper]
type = Helper
trigger1 = animelem =13
helpertype = normal
name = "beam"
ID = 1000
stateno = 1051
postype = p1
facing = 1
ownpal = 1
supermovetime = 9999
pausemovetime = 0
persistent = 0
size.xscale = 1.3

[State 1100, VelMul]
type = VelMul
trigger1 = !Time
x = .075
y = .125

[state 50, 12]
type = velset
trigger1 = vel y > 0
trigger1 = pos y > -5
y=0


[State 1100, 0]
type = ChangeAnim
trigger1 = Anim !=1050
trigger1 = Time = 0
value = 1050

[State 117, 1]
type = VelSet
trigger1 = numhelper(730) 
x = 0
y = 0


[State 600, 5]
type = ChangeState
trigger1 = numhelper(730) 
trigger1 = animtime = 0
value = 731
ctrl = 1

[State 600, 5]
type = ChangeState
trigger1 = animtime = 0
value = 460
ctrl = 1

;Super01
[Statedef 1051]
type    = A
movetype= a
physics = N
anim = 1032
velset = 0,0
sprpriority = 5

[state 3510, bindtoparent]
type = bindtoparent
trigger1 = time = 0
time = 900
pos = 0,0
ignorehitpause = 1

[State 1010, HitDef]
type = HitDef
trigger1 = hitcount < 6
trigger1 = time%4 = 0
attr = S, SP
damage = 15,2
hitflag = MAFD
guardflag = MA
pausetime = 2,5
guard.pausetime =2,2
hitsound = -1
guardsound = -1
guard.sparkno = -1
sparkno = -1
sparkxy = 0, 0
animtype = Heavy
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -2,-5
guard.velocity = 0
air.velocity = -2,-5
airguard.velocity = 0,-1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 0,0
givepower = 30,30
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit=1
value = S5545,6
volume = 255
channel = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = moveguarded=1
value = S5546,0
volume = 255
channel = 1


[state 1060, 8]
type = explod
trigger1 = movehit=1 && p2movetype = H && numexplod(9107) = 0
anim = 9107
id = 9107
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 20
facing = 1
bindtime = 1
ownpal = 1
ignorehitpause = 1


[state 1060, 8]
type = explod
trigger1 = moveguarded=1
anim = 9101
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 20
facing = 1
bindtime = 1
ownpal = 1
ignorehitpause = 1


[State 0, EnvColor]
type = EnvColor
trigger1 = movehit=1
value = 255,255,255
time = 1
ignorehitpause = 0
persistent = 1

[State 1030, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1030, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1030, endfromproj]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1032
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1101, NoShadow]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state 810, grab sound]
type = destroyself
trigger1 = animtime = 0
trigger2 = Parent, MoveType = H

;Super02
[Statedef 1100]
type    = S
movetype= A
physics = S
juggle  = 6
poweradd= 80
ctrl = 0
anim = 1100
sprpriority = 2

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889

[State ]
type = Explod
trigger1 = Time = 0
anim = 9110
pos = 0,0
postype = p1
sprpriority = 5
supermove = 0
bindtime = 1
ownpal = 1

[State ]
type = Explod
trigger1 = Time = 0
anim = 1101
id = 8888
pos = 0,0
postype = p1
sprpriority = 5
supermove = 0
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 0


[State 420, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000, 1
volumescale = 255
channel = 0

[State 420, 1]
type = PlaySnd
trigger1 = time = 10
value = 4000, 16
volumescale = 255

[State 1000, 2]
type = Projectile
trigger1 = time = 20
ProjID =1100
projanim = 1102
projhitanim = 1109
offset = 59, -96 
velocity = 7, 0
attr = S, SP
damage = 15,5
getpower = 0,0
givepower = 20,20
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9107
guard.sparkno = s9101
sparkxy = 100, 30
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 20
ground.velocity = -8
airguard.velocity = -3.5,-2.75
air.velocity = -2.5,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[State 1000, 2]
type = Projectile
trigger1 = time = 20
ProjID =1100
projanim = 1102
projhitanim = 1006 
offset = 12, -103 
velocity = -7, 0 
attr = S, SP
damage = 15,5
getpower = 0,0
givepower = 20,20
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9107
guard.sparkno = s9101
sparkxy = 100, 30
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 20
ground.velocity = -8
airguard.velocity = -3.5,-2.75
air.velocity = -2.5,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[State 1000, 2]
type = Projectile
trigger1 = time = 20
ProjID =1100
projanim = 1103
projhitanim = 1006 
offset = -3, -106
velocity = 6.8, -1.7 
attr = S, SP
damage = 15,5
getpower = 0,0
givepower = 20,20
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9107
guard.sparkno = s9101
sparkxy = 20, 0
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 20
ground.velocity = -8
airguard.velocity = -3.5,-2.75
air.velocity = -2.5,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2


[State 1000, 2]
type = Projectile
trigger1 = time = 20
ProjID =1100
projanim = 1104
projhitanim = 1006 
offset = 51, -67 
velocity = 7, 3 
attr = S, SP
damage = 15,5
getpower = 0,0
givepower = 20,20
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9107
guard.sparkno = s9101
sparkxy = 20, 0
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 20
ground.velocity = -8
airguard.velocity = -3.5,-2.75
air.velocity = -2.5,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[State 1000, 2]
type = Projectile
trigger1 = time = 20
ProjID =1100
projanim = 1109
projhitanim = 1006 
offset = 12,-85 
velocity = -7, -3 
attr = S, SP
damage = 15,5
getpower = 0,0
givepower = 20,20
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9107
guard.sparkno = s9101
sparkxy = 0, 0
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 20
ground.velocity = -8
airguard.velocity = -3.5,-2.75
air.velocity = -2.5,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2


[State 1000, 2]
type = Projectile
trigger1 = time = 20
ProjID =1100
projanim = 1105
projhitanim = 1006 
offset = 48,-68 
velocity = 5, -5.5
attr = S, SP
damage = 15,5
getpower = 0,0
givepower = 20,20
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9107
guard.sparkno = s9101
sparkxy = 0, 0
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 20
ground.velocity = -8
airguard.velocity = -3.5,-2.75
air.velocity = -2.5,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[State 1000, 2]
type = Projectile
trigger1 = time = 20
ProjID =1100
projanim = 1105
projhitanim = 1006 
offset = 26, -77 
velocity = -5, -5 
attr = S, SP
damage = 15,5
getpower = 0,0
givepower = 20,20
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9107
guard.sparkno = s9101
sparkxy =20, 0
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 20
ground.velocity = -8
airguard.velocity = -3.5,-2.75
air.velocity = -2.5,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[State 1000, 2]
type = Projectile
trigger1 = time = 20
ProjID =1100
projanim = 1106
projhitanim = 1006 
offset = 66, -74
velocity = 7,1.5 
attr = S, SP
damage = 15,5
getpower = 0,0
givepower = 20,20
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9107
guard.sparkno = s9101
sparkxy = 100, 30
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 20
ground.velocity = -8
airguard.velocity = -3.5,-2.75
air.velocity = -2.5,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2


[State 1000, 2]
type = Projectile
trigger1 = time = 20
ProjID =1100
projanim = 1107
projhitanim = 1006 
offset = 0, -81 
velocity = -8, -2 
attr = S, SP
damage = 15,5
getpower = 0,0
givepower = 20,20
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9107
guard.sparkno = s9101
sparkxy = 100, 30
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 20
ground.velocity = -8
airguard.velocity = -3.5,-2.75
air.velocity = -2.5,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2


[State 1000, 2]
type = Projectile
trigger1 = time = 20
ProjID =1100
projanim = 1108
projhitanim = 1109
offset = 14, -86 
velocity = -6, -4.5 
attr = S, SP
damage = 15,5
getpower = 0,0
givepower = 20,20
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9107
guard.sparkno = s9101
sparkxy = 100, 30
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 20
ground.velocity = -8
airguard.velocity = -3.5,-2.75
air.velocity = -2.5,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[State 420, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Super02
[Statedef 1130]
type = A
physics = N
movetype = A
ctrl = 0
poweradd = 80
anim = 1130

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889

[State 1100, VelMul]
type = VelMul
trigger1 = !Time
x = .075
y = .125

[state 50, 12]
type = velset
trigger1 = vel y > 0
trigger1 = pos y > -5
y=0


[State 1160, PROJECTILE 1]
type = Explod
trigger1 = time = 0
anim = 1131
id = 8888
postype = P1
pos = 0,0
facing = 1
sprpriority = 2
persistent = 0
ownpal = 1
removeongethit = 1
bindtime = -1
ontop = 1

[State 1160, PROJECTILE 1]
type = Explod
trigger1 = time = 7
anim = 1132
id = 8888
postype = P1
pos = 0,0
facing = 1
sprpriority = -2
persistent = 0
ownpal = 1
removeongethit = 1
bindtime = -1
under = 1
removetime = 8


[State 1160, PROJECTILE 1]
type = Explod
trigger1 = time = 17
anim = 1133
id = 8888
postype = p1
pos = -1,0
facing = 1
sprpriority = 2
persistent = 0
ownpal = 1
removeongethit = 1
bindtime = -1
removetime = 43

[State 420, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000, 1
volumescale = 255
channel = 0

[State 420, 1]
type = PlaySnd
trigger1 = time = 7
value = 4000, 16
volumescale = 255

[State 1160, 2]
type = Projectile
trigger1 = time = 17
ProjID =1100
projanim = 1134
projhitanim = 1006 
offset = 15, 18 
velocity = 0, 7 
attr = S, SP
damage = 15,5
getpower = 0,0
givepower = 20,20
hitflag = MAFD
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9107
guard.sparkno = s9101
sparkxy = 100, 30
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 20
ground.velocity = -8
airguard.velocity = -3.5,-2.75
air.velocity = -2.5,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2


[State 1160, 2]
type = Projectile
trigger1 = time = 17
ProjID =1100
projanim = 1135
offset = 10, -58
velocity = 8, 0 
attr = S, SP
damage = 15,5
getpower = 0,0
givepower = 20,20
hitflag = MAFD
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9107
guard.sparkno = s9101
sparkxy = 100, 30
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 20
ground.velocity = -8
airguard.velocity = -3.5,-2.75
air.velocity = -2.5,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2


[State 1160, 2]
type = Projectile
trigger1 = time = 17
ProjID =1100
projanim = 1136
offset = 23, -65 
velocity = 2, 7
attr = S, SP
damage = 15,5
getpower = 0,0
givepower = 20,20
hitflag = MAFD
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9107
guard.sparkno = s9101
sparkxy = 100, 30
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 20
ground.velocity = -8
airguard.velocity = -3.5,-2.75
air.velocity = -2.5,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[State 1160, 2]
type = Projectile
trigger1 = time = 17
ProjID =1100
projanim = 1137
offset = 10, -51 
velocity = 6, 5.5
attr = S, SP
damage = 15,5
getpower = 0,0
givepower = 20,20
hitflag = MAFD
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9107
guard.sparkno = s9101
sparkxy = 100, 30
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 20
ground.velocity = -8
airguard.velocity = -3.5,-2.75
air.velocity = -2.5,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2


[State 1000, 2]
type = Projectile
trigger1 = time = 17
projid = 1100
projanim = 1138
offset = 13, -56 
velocity = 8, 2.7 
attr = S, SP
damage = 15,5
getpower = 0,0
givepower = 20,20
hitflag = MAFD
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9107
guard.sparkno = s9101
sparkxy = 100, 30
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 20
ground.velocity = -8
airguard.velocity = -3.5,-2.75
air.velocity = -2.5,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2



[State 1100, 0]
type = ChangeAnim
trigger1 = Anim !=1130
trigger1 = Time = 0
value = 1130

[State 117, 1]
type = VelSet
trigger1 = numhelper(730) 
x = 0
y = 0


[State 600, 5]
type = ChangeState
trigger1 = numhelper(730) 
trigger1 = time = 50
value = 731
ctrl = 1

[State 600, 5]
type = ChangeState
trigger1 = time = 50
value = 460
ctrl = 1


[State 1160,1]
type = removeexplod
trigger1 = time = 35
ID = 8888

;Super03
[Statedef 1200]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 1                      
velset = 0,0                     
ctrl = 0                        
anim = 1200                  
poweradd = 80                
sprpriority = 2

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889

[State ]
type = Explod
trigger1 = Time = 0
anim = 9110
pos = 0,0
postype = p1
sprpriority = 5
supermove = 0
bindtime = 1
ownpal = 1


[State 100, 8]
type = explod
trigger1 = AnimElemtime(2) >= 0 && AnimElemtime(47) < 0
trigger1 = time%4 = 0
anim = 9185
id = 9185
vel = 0,0
pos = 0,0
sprpriority = 10
ownpal = 1
ignorehitpause = 1
postype = p1
random = 150,0

[State 1000, 1]
type = PlaySnd
trigger1 = time = 0
value =3000, 2
channel = 0
volumescale = 255

[State 1000, 1]
type = PlaySnd
trigger1 = time = 1
value = 4000, 17
volumescale = 255

[State 1010, HitDef]
type = HitDef
trigger1 = time%6 = 0
attr = S, SP
damage = 5,2
hitflag = MAFD
guardflag = MA
pausetime = 2,6
guard.pausetime =2,2
hitsound = -1
guardsound = -1
guard.sparkno = S9101
sparkno = S9107
sparkxy = -40, -80
animtype = Heavy
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -9,-5
guard.velocity = 0
air.velocity = -3,-5
airguard.velocity = 0,-1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
getpower = 0,0
givepower = 30,30
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit=1
value = S5544,4
volume = 255
channel = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = moveguarded=1
value = S5546,0
volume = 255
channel = 1

[State 0, EnvColor]
type = EnvColor
trigger1 = movehit=1
value = 255,255,255
time = 1
ignorehitpause = 0
persistent = 1

[State 1000, State]
type = ChangeState
trigger1 = Animtime = 0
value = 1201

;Super03
[Statedef 1201]
type    = S                     
movetype= A                      
physics = S                      
juggle  = 1                    
velset = 0,0                     
ctrl = 0                        
anim = 1201                                    
sprpriority = 2   

[State 1001,3]
type = Projectile
trigger1 = AnimElem = 1
projanim = 1211
projremovetime = 60
projID = 1200
velocity = 12,0
attr = S, SP
damage = 10,2
getpower = 0,0
givepower = 20,20
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9107
guard.sparkno = s9101
sparkxy = 40, -60
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 20
ground.velocity = -8
airguard.velocity = -3.5,-2.75
air.velocity = -2.5,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[State 1001,3]
type = Projectile
trigger1 = Time = 0
projID = 1200
projanim = 1212
projremovetime = 60
;offset = 0, 0
velocity = 12,0
attr = S, SP
damage = 10,2
getpower = 0,0
givepower = 20,20
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9107
guard.sparkno = s9101
sparkxy = 40, -60
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 20
ground.velocity = -8
airguard.velocity = -3.5,-2.75
air.velocity = -2.5,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[State 1001,3]
type = Projectile
trigger1 = AnimElem = 1
projanim = 1213
;projhitanim = 1006 
;projremovetime = 8
;offset = 0, 0 
projremovetime = 60
projID = 1200
velocity = 12,0
attr = S, SP
damage = 10,2
getpower = 0,0
givepower = 20,20
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9107
guard.sparkno = s9101
sparkxy = 40, -60
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 20
ground.velocity = -8
airguard.velocity = -3.5,-2.75
air.velocity = -2.5,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2


[State 1001,3]
type = Projectile
trigger1 = AnimElem = 1
projremovetime = 60
projanim = 1214
;projhitanim = 1006 
;projremovetime = 6
;offset = 0, 0 
projID = 1200
velocity = 12,0
attr = S, SP
damage = 10,2
getpower = 0,0
givepower = 20,20
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9107
guard.sparkno = s9101
sparkxy = 40, -60
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 20
ground.velocity = -8
airguard.velocity = -3.5,-2.75
air.velocity = -2.5,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2


[State 1001,3]
type = Projectile
trigger1 = AnimElem = 1
projanim = 1215
projremovetime = 60
projID = 1200
velocity = 12,0
attr = S, SP
damage = 10,2
getpower = 0,0
givepower = 20,20
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9107
guard.sparkno = s9101
sparkxy = 40, -60
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 20
ground.velocity = -8
airguard.velocity = -3.5,-2.75
air.velocity = -2.5,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[State 1001, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;Super04
[Statedef 1300]
type    = S
movetype= A
physics = s
juggle  = 0
ctrl = 0
anim = 1300
poweradd = 80
sprpriority = 2

[state  ]
type = removeexplod
trigger1 = time = 1
id = 8889

[State 200, 3]
type = playsnd
trigger1 = time = 1 
value = s3000,3
channel = 0
volumescale = 255


[State ]
type = Playsnd
trigger1 = Time = 0
value = s4000,18
volumescale = 255

[State ]
type = Explod
trigger1 = Time = 0
anim = 1307
id = 8888
pos = -60,5
postype = p1
sprpriority = 6
supermove = 0
bindtime = -1
removeongethit = 1
ignorehitpause = 0

[State ]
type = Explod
trigger1 = Time = 0
anim = 1302
id = 8888
pos = 0,-20
postype = p1
sprpriority = 5
supermove = 0
bindtime = -1
removeongethit = 1
ignorehitpause = 0
removetime = -1

[State ]
type = removeExplod
trigger1 = animelem = 6
id = 8888

[State ]
type = Explod
trigger1 = animelem = 6
anim = 1303
pos = 0,-20
postype = p1
sprpriority = 5
supermove = 0
bindtime = -1

[state 3000]
type = helper
trigger1 = animelem =5
stateno = 1310
id = 1300
pos = -17, -7
keyctrl = 0
ownpal = 1
name = "missiles"

[State 860, 4]
type = ChangeState
trigger1 = command = "z"
trigger1 = Time > 25 && time < 48
value =1301
ctrl = 0

[state ]
type = changestate
trigger1 = animtime = 0
value =0
ctrl = 1

;Super04
[Statedef 1301]
type    = S
movetype= A
physics = s
juggle  = 0
ctrl = 0
anim = 1301
poweradd = 0
sprpriority = 2

[State ]
type = removeExplod
trigger1 = animelem = 5
id = 8888


[State ]
type = Playsnd
trigger1 = animelem = 5
value = s4000,18
volumescale = 255

[State ]
type = Explod
trigger1 = animelem = 5
anim = 1303
pos = 0,-20
postype = p1
sprpriority = 5
supermove = 0
bindtime = -1

[state 3000]
type = helper
trigger1 = animelem =4
stateno = 1310
id = 1300
pos = -35, -25
keyctrl = 0
ownpal = 1
name = "missiles"

[State 860, 4]
type = ChangeState
trigger1 = command = "z"
trigger1 = Time > 10 && time <40
value =1302
ctrl = 0

[state ]
type = changestate
trigger1 = animtime = 0
value =0
ctrl = 1

;Super04
[Statedef 1302]
type    = S
movetype= A
physics = s
juggle  = 0
ctrl = 0
anim = 1301
poweradd = 0
sprpriority = 2

[State ]
type = removeExplod
trigger1 = animelem = 5
id = 8888

[State ]
type = Explod
trigger1 = animelem = 5
anim = 1303
pos = 0,-20
postype = p1
sprpriority = 5
supermove = 0
bindtime = -1


[State ]
type = Playsnd
trigger1 = animelem = 5
value = s4000,18
volumescale = 255

[state 3000]
type = helper
trigger1 = animelem =4
stateno = 1310
id = 1300
pos = -40, -7
keyctrl = 0
ownpal = 1
name = "missiles"

[State 860, 4]
type = ChangeState
trigger1 = command = "z"
trigger1 = Time > 10 && time <40
value =1303
ctrl = 0

[state ]
type = changestate
trigger1 = animtime = 0
value =0
ctrl = 1

;Super04
[Statedef 1303]
type    = S
movetype= A
physics = s
juggle  = 0
ctrl = 0
anim = 1301
poweradd = 0
sprpriority = 2

[State ]
type = removeExplod
trigger1 = animelem = 5
id = 8888

[State ]
type = Explod
trigger1 = animelem = 5
anim = 1303
pos = 0,-20
postype = p1
sprpriority = 5
supermove = 0
bindtime = -1


[State ]
type = Playsnd
trigger1 = animelem = 5
value = s4000,18
volumescale = 255

[state 3000]
type = helper
trigger1 = animelem =4
stateno = 1310
id = 1300
pos = -50, -25
keyctrl = 0
ownpal = 1
name = "missiles"

[State 860, 4]
type = ChangeState
trigger1 = command = "z"
trigger1 = Time > 10 && time <40
value =1304
ctrl = 0

[state ]
type = changestate
trigger1 = animtime = 0
value =0
ctrl = 1

;Super04
[Statedef 1304]
type    = S
movetype= A
physics = s
juggle  = 0
ctrl = 0
anim = 1301
poweradd = 0
sprpriority = 2

[State ]
type = removeExplod
trigger1 = animelem = 5
id = 8888

[State ]
type = Explod
trigger1 = animelem = 5
anim = 1303
pos = 0,-20
postype = p1
sprpriority = 5
supermove = 0
bindtime = -1


[State ]
type = Playsnd
trigger1 = animelem = 5
value = s4000,18
volumescale = 255

[state 3000]
type = helper
trigger1 = animelem =4
stateno = 1310
id = 1300
pos = -60, -5
keyctrl = 0
ownpal = 1
name = "missiles"


[State 860, 4]
type = ChangeState
trigger1 = command = "z"
trigger1 = Time > 10 && time <40
value =1305
ctrl = 0

[state ]
type = changestate
trigger1 = animtime = 0
value =0
ctrl = 1

;Super04
[Statedef 1305]
type    = S
movetype= A
physics = s
juggle  = 0
ctrl = 0
anim = 1301
poweradd = 0
sprpriority = 2

[State ]
type = removeExplod
trigger1 = animelem = 5
id = 8888

[State ]
type = Explod
trigger1 = animelem = 5
anim = 1303
pos = 0,-20
postype = p1
sprpriority = 5
supermove = 0
bindtime = -1


[State ]
type = Playsnd
trigger1 = animelem = 5
value = s4000,18
volumescale = 255

[state 3000]
type = helper
trigger1 = animelem =4
stateno = 1310
id = 1300
pos = -70, -25
keyctrl = 0
ownpal = 1
name = "missiles"

[State 860, 4]
type = ChangeState
trigger1 = command = "z"
trigger1 = Time > 10 && time <40
value =1306
ctrl = 0

[state ]
type = changestate
trigger1 = animtime = 0
value =0
ctrl = 1

;Super04
[Statedef 1306]
type    = S
movetype= A
physics = s
juggle  = 0
ctrl = 0
anim = 1301
poweradd = 0
sprpriority = 2

[State ]
type = removeExplod
trigger1 = animelem = 5
id = 8888


[State ]
type = Playsnd
trigger1 = animelem = 5
value = s4000,18
volumescale = 255

[State ]
type = Explod
trigger1 = animelem = 5
anim = 1303
pos = 0,-20
postype = p1
sprpriority = 5
supermove = 0
bindtime = -1

[State 860, 4]
type = ChangeState
trigger1 = command = "z"
trigger1 = Time > 10 && time <40
value =1307
ctrl = 0

[state 3000]
type = helper
trigger1 = animelem =4
stateno = 1310
id = 1300
pos = -80, -7
keyctrl = 0
ownpal = 1
name = "missiles"


[state ]
type = changestate
trigger1 = animtime = 0
value =0
ctrl = 1

;Super04
[Statedef 1307]
type    = S
movetype= A
physics = s
juggle  = 0
ctrl = 0
anim = 1301
poweradd = 0
sprpriority = 2

[State ]
type = removeExplod
trigger1 = animelem = 5
id = 8888

[State ]
type = Explod
trigger1 = animelem = 5
anim = 1303
pos = 0,-20
postype = p1
sprpriority = 5
supermove = 0
bindtime = -1


[State ]
type = Playsnd
trigger1 = animelem = 5
value = s4000,18
volumescale = 255

[state 3000]
type = helper
trigger1 = animelem =4
stateno = 1310
id = 1300
pos = -90, -15
keyctrl = 0
ownpal = 1
name = "missiles"

[state ]
type = changestate
trigger1 = animtime = 0
value =0
ctrl = 1

;Super04
[Statedef 1310]
type = S
movetype = A
ctrl = 0
anim = 1304
sprpriority = 6


[State ]
type = Playsnd
trigger1 = time = 0
value = s4000,19
volumescale = 255

[State 1000, 2.1]
type = Explod
trigger1 = time = 0
id = 8888
anim = 1305
pos = 0,0
ownpal = 1
bindtime = 1
removeongethit = 1
ignorehitpause = 1
sprpriority = 7
postype = p1

[State ]
type = VelSet
trigger1 = time = 1
x = 0
y = -20

[State ]
type = VelSet
trigger1 = time = 50
x = 0
y = 0

[state 1250, pos]
type = posadd
trigger1 = time = 80
x = p2bodydist x + 60

[State ]
type = VelSet
trigger1 = time = 80
x = 0
y = 20

[state ]
type = hitdef
trigger1 = time = 0
attr = a, sa
damage = 10,5
hitflag = MAFD
guarDFlag = MAF
pausetime = 0,3
guard.pausetime = 3,3
sparkno = s9107
guard.sparkno =  s9101
sparkxy = 0,0
hitsound = -1
guardsound = s5546,0
animtype = hard
ground.type = high
ground.slidetime = 17
ground.hittime  = 50
air.hittime  = 50
ground.velocity = 0,-10
air.velocity = 0,-10
guard.hittime = 6
forcenofall = 1
getpower = 0,0
givepower = 20, 10
fall.xvelocity =0
fall.yvelocity =-2
yaccel = .9
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
down.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.add = 100,0,-180
palfx.sinadd = 40,20,20,15

[state 3000, choque]
type = explod
trigger1 = movehit && p2movetype = H
anim = 9113
id = 9113
ownpal = 1
bindtime = -1
postype = p2
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
persistent = 0


[State 440, 2]
type = parentvarset
trigger1 = movehit
v = 22
value = 3
ignorehitpause =1
persistent = 0

[State ]
type = EnvColor
trigger1 = Movehit =1
value = 255,255,255
time = 1
under = 0

[State ]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State ]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State ]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1311
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State ]
type = Changestate
trigger1 = movecontact
trigger2 = time > 10
trigger2 = vel y > 0
trigger2 = pos y > 0
value = 1311

;Super04
[Statedef 1311]
type    = s                                          
physics = s
anim = 1306
sprpriority = 4
velset = 0,0

[State 1300, 1.1]
type = PlaySnd
trigger1 = time =1
value = 4000, 20
channel = 6



[State 1105]
type = destroyself
trigger1 = animtime = 0


; Hyper01
[StateDef 3000]
type = S
movetype = A
physics = s
velset = 0,0
anim = 3000
sprpriority = 1
ctrl = 0

[state 710,6]
type = assertspecial
trigger1 = 1
flag = nofg

[State 182, 2]
type = NotHitBy
trigger1 = Time = [0,45]
value = SCA
time = 1

[State 750, Dust]
type = removeExplod
trigger1 = Time = 0
id = 8888

[State 750, Dust]
type = Explod
trigger1 = Time = 0
anim = 9110
pos = 0,0
postype = p1
sprpriority = 5
bindtime = 1


[state haha]
type = superpause
trigger1 = animelem = 2
time = 40
movetime = 40
pos = 20,-70
anim = s9109
sound = s4,0
unhittable = 3
poweradd = -1000
darken = 0
persistent = 0


[State 3000]
type = Explod
trigger1 = animelem =2
ID = 3000
anim = 7000
postype = back
pos = -10, -13
scale = 1.1,1.1
bindtime = -1
removetime = -2
sprpriority = 0
ownpal = 1
supermovetime = 9999

[state 0]
type = explod
trigger1 = animelem = 2
anim = 9116
id = 9003
postype = back
pos = 160,120
sprpriority = -4
ownpal = 1
removetime = 42
bindtime = -1
supermove = 1
persistent = 0
scale = 1.2,1.2


[state 2000, 4]
type = helper
trigger1 = animelem =2
trigger1 = numhelper(9922) = 0
stateno = 9922
id = 9003
name = "floor"
pos = 0,0
postype = p1
ownpal = 1
persistent = 0

[State 1000, 1]
type = PlaySnd
trigger1 = time = 0
value =3000, 5
channel = 0
volumescale = 255

[State 1000, 1]
type = PlaySnd
trigger1 = animelem =24
value =3000, 6
channel = 0
volumescale = 255

[State 1000, 1]
type = PlaySnd
trigger1 = time = 0
value =4000, 23

[State 1000, 1]
type = PlaySnd
trigger1 = animelem =24
value =4000, 24
volumescale= 255

[State 1100, Helper]
type = Helper
trigger1 = animelem =24
helpertype = normal ;player
name = "sphere"
ID = 3000
stateno = 3002
pos =  70, -120
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[state ]
type = changestate
trigger1 = time = 170
value = 3001

; Hyper01
[StateDef 3001]
type = s
movetype = A
physics = s
velset = 0,0
anim = 3001
sprpriority = 1
ctrl = 0

[state ]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

; Hyper01
[Statedef 3002]
type    = A
movetype= A
physics = N
juggle  = 3
ctrl = 0
anim = 3002
sprpriority = 3
velset = 0,-10


[state 240, 2]
type = hitdef
trigger1 = time%3=0
attr = S, HP
animtype  = up
damage    = 5,2
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 2,2
sparkno = S9108
sparkxy=0,0
hitsound   =-1
guardsound = -1
guard.sparkno = s9101;;;s7004
ground.type = low
ground.slidetime = 5
guard.hittime = 6
guard.velocity = 0
airguard.velocity =0,-2
ground.hittime  = 15
ground.velocity = 0,-12
air.juggle = 0
air.velocity = 0,-12
fall.xvelocity =0
fall.yvelocity =-2
yaccel = .9
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 0
givepower = 10,10
getpower = 0,0


[state 0, ]
type = envcolor
trigger1 = movehit=1
value = 255,255,255
time = 1

[state 0, ]
type = playsnd
trigger1 = movehit=1
value = s5544,3
channel = 3

[state 0, ]
type = playsnd
trigger1 = moveguarded=1
value = s5546,0
channel = 3

[state 810, grab sound]
type = changestate
trigger1 = time = 40
value = 3003

; Hyper01
[Statedef 3003]
physics=N
anim=9999
ctrl=0
velset=0,0
sprpriority=4

[State 1000, 1]
type = PlaySnd
trigger1 = time = 0
value =4000, 25
volumescale= 255


[State 750, Dust]
type = Explod
trigger1 = Time = 0
anim = 3004
pos = 0,40
postype = p1
sprpriority = 10
bindtime = 1



[State 3107, PosAdd]
type = PosAdd
trigger1 =!time
y = -40
ignorehitpause = 1


[State 3107, Sphere Flame1]
type = Helper
trigger1 =!time
helpertype = normal 
name = "SphereFlame1"
stateno = 3004
ID = 3000
persistent = 0
pos = 0,0
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State 3107, Sphere Flame2]
type = Helper
trigger1 =!time
helpertype = normal 
name = "SphereFlame2"
stateno = 3005
ID = 3000
persistent = 0
pos = 0,0
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State 3107, Sphere Flame3]
type = Helper
trigger1 =!time
helpertype = normal 
name = "SphereFlame3"
stateno = 3006
ID = 3000
persistent = 0
pos = 0,0
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State 3107, End]
type=destroyself
trigger1=time = 10

; Hyper01
[Statedef 3004]
type=A
movetype=A
physics=N
ctrl=0
velset=0, 0
sprpriority=4
anim = 3003

[State 3120, velset]
type = velset
trigger1 = 1
x=0
y=15

[State 3120, Super]
type=hitdef
trigger1 = time = 0
priority=4, Hit
attr=A, HP
damage=65,5
animtype=Hard
hitflag=MAFD
guardflag=MA
pausetime=2,2
guard.pausetime=1,6
sparkNo=s9108
guard.sparkNo=s9101
sparkXY=-1,-1
hitsound=s5544,3
guardsound=s5546,0
ground.type=High
ground.slidetime=12
ground.hittime=18
guard.hittime=10
ground.velocity=-4,-6
air.velocity=-4,-4
guard.velocity=-6
airguard.velocity=-5,-3
down.velocity=-4,-6
air.cornerpush.veloff=0
ground.cornerpush.veloff=0
guard.cornerpush.veloff=0
fall=1
fall.recover=0
getpower=0,0
givepower=10,10
yaccel=.9
fall.xvelocity =0
fall.yvelocity =-2


[State ]
type = EnvColor
trigger1 = Movehit =1
value = 255,255,255
time = 1
under = 0


[State 3124, End]
type=changestate
trigger1=movecontact
trigger2=pos y > -1
value=1311

; Hyper01
[Statedef 3005]
type=A
movetype=A
physics=N
ctrl=0
velset=0, 0
sprpriority=4
anim = 3003


[State 3120, velset]
type = velset
trigger1 = 1
x=-5
y=15

[State 3120, Super]
type=hitdef
trigger1 = time = 0
priority=4, Hit
attr=A, HP
damage=65,5
animtype=Hard
hitflag=MAFD
guardflag=MA
pausetime=2,2
guard.pausetime=1,6
sparkNo=s9108
guard.sparkNo=s9101
sparkXY=-1,-1
hitsound=s5544,3
guardsound=s5546,0
ground.type=High
ground.slidetime=12
ground.hittime=18
guard.hittime=10
ground.velocity=-4,-6
air.velocity=-4,-4
guard.velocity=-6
airguard.velocity=-5,-3
down.velocity=-4,-6
air.cornerpush.veloff=0
ground.cornerpush.veloff=0
guard.cornerpush.veloff=0
fall=1
fall.recover=0
getpower=0,0
givepower=10,10
yaccel=.9
fall.xvelocity =0
fall.yvelocity =-2


[State ]
type = EnvColor
trigger1 = Movehit =1
value = 255,255,255
time = 1
under = 0


[State 3124, End]
type=changestate
trigger1=movecontact
trigger2=pos y > -1
value=1311

; Hyper01
[Statedef 3006]
type=A
movetype=A
physics=N
ctrl=0
velset=0, 0
sprpriority=4
anim = 3003

[State 3120, velset]
type = velset
trigger1 = 1
x=5
y=15

[State 3120, Super]
type=hitdef
trigger1 = time = 0
priority=4, Hit
attr=A, HP
damage=65,5
animtype=Hard
hitflag=MAFD
guardflag=MA
pausetime=2,2
guard.pausetime=1,6
sparkNo=s9108
guard.sparkNo=s9101
sparkXY=-1,-1
hitsound=s5544,3
guardsound=s5546,0
ground.type=High
ground.slidetime=12
ground.hittime=18
guard.hittime=10
ground.velocity=-4,-6
air.velocity=-4,-4
guard.velocity=-6
airguard.velocity=-5,-3
down.velocity=-4,-6
air.cornerpush.veloff=0
ground.cornerpush.veloff=0
guard.cornerpush.veloff=0
fall=1
fall.recover=0
getpower=0,0
givepower=10,10
yaccel=.9
fall.xvelocity =0
fall.yvelocity =-2


[State ]
type = EnvColor
trigger1 = Movehit =1
value = 255,255,255
time = 1
under = 0


[State 3124, End]
type=changestate
trigger1=movecontact
trigger2=pos y > -1
value=1311

; Hyper02
[StateDef 3100]
type = S
movetype = A
physics = S
velset = 0,0
anim = 3100
sprpriority = 1
ctrl = 0

[state 710,6]
type = assertspecial
trigger1 = 1
flag = nofg

[State 182, 2]
type = NotHitBy
trigger1 = Time = [0,45]
value = SCA
time = 1

[State 750, Dust]
type = removeExplod
trigger1 = Time = 0
id = 8888

[State 750, Dust]
type = Explod
trigger1 = Time = 0
anim = 9110
pos = 0,0
postype = p1
sprpriority = 5
bindtime = 1


[state haha]
type = superpause
trigger1 = animelem = 3
time = 40
movetime = 40
pos = 25,-85
anim = s9109
sound = s4,0
unhittable = 3
poweradd = -1000
darken = 0
persistent = 0


[State 3000]
type = Explod
trigger1 = animelem =3
ID = 3000
anim = 7000
postype = back
pos = -10, -13
scale = 1.1,1.1
bindtime = -1
removetime = -2
sprpriority = 0
ownpal = 1
supermovetime = 9999

[state 0]
type = explod
trigger1 = animelem = 3
anim = 9116
id = 9003
postype = back
pos = 160,120
sprpriority = -4
ownpal = 1
removetime = 42
bindtime = -1
supermove = 1
persistent = 0
scale = 1.2,1.2


[state 2000, 4]
type = helper
trigger1 = animelem =3
trigger1 = numhelper(9922) = 0
stateno = 9922
id = 9003
name = "floor"
pos = 0,0
postype = p1
ownpal = 1
persistent = 0

[State ]
type = Explod
trigger1 = Time = 0
anim = 3102
id = 3100
pos = 0,0
postype = p1
sprpriority = 5
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 0
removetime = -1

[State ]
type = Explod
trigger1 = Time = 0
anim = 3103
id = 3101
pos = 0,0
postype = p1
sprpriority = 6
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 0
removetime = -1

[State 1000, 1]
type = PlaySnd
trigger1 = time = 0
value =3000, 4
channel = 0
volumescale = 255

[State 1000, 1]
type = PlaySnd
trigger1 = time = 50
value =1000, 1
channel = 0
volumescale = 255

[State 1000, 1]
type = PlaySnd
trigger1 = time = 1
value = 4000, 21
volumescale = 255

[State 1000, 1]
type = PlaySnd
trigger1 = time = 70
value = 4000, 22
volumescale = 255

[State 2050, 6]
type = Projectile
trigger1 = time = 50
trigger2 = time = 60
trigger3 = time = 70
trigger4 = time = 80
trigger5 = time = 90
projanim = 1102
ProjID =3100
offset = 12, -103 
velocity = -7, 0 
attr = S, SP
damage = 18,1
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9108
sparkxy = 100, 30
guard.sparkno = S9101
hitsound =-1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 50
air.hittime = 50
ground.velocity = -10
airguard.velocity = -3.5,-2.75
air.velocity = -10,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[State 2050, 7]
type = Projectile
trigger1 = time = 50
trigger2 = time = 60
trigger3 = time = 70
trigger4 = time = 80
trigger5 = time = 90
projanim = 1104
ProjID =3100
offset = 51, -67 
velocity = 7, 3 
attr = S, SP
damage = 18,1
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9108
sparkxy = 100, 30
guard.sparkno = S9101
hitsound =-1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 50
air.hittime = 50
ground.velocity = -10
airguard.velocity = -3.5,-2.75
air.velocity = -10,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[State 2050, 2]
type = Projectile
trigger1 = time = 53
trigger2 = time = 63
trigger3 = time = 73
trigger4 = time = 83
trigger5 = time = 93
projanim = 1106
ProjID =3100
offset = 66, -74;-71 
velocity = 7,1.5 
attr = S, SP
damage = 18,1
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9108
sparkxy = 100, 30
guard.sparkno = S9101
hitsound =-1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 50
air.hittime = 50
ground.velocity = -10
airguard.velocity = -3.5,-2.75
air.velocity = -10,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[State 2050, 2]
type = Projectile
trigger1 = time = 53
trigger2 = time = 63
trigger3 = time = 73
trigger4 = time = 83
trigger5 = time = 93
projanim = 1107
ProjID =3100
offset = 0, -81 
velocity = -8, -2 
attr = S, SP
damage = 18,1
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9108
sparkxy = 100, 30
guard.sparkno = S9101
hitsound =-1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 50
air.hittime = 50
ground.velocity = -10
airguard.velocity = -3.5,-2.75
air.velocity = -10,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[State 2050, 2]
type = Projectile
trigger1 = time = 56
trigger2 = time = 66
trigger3 = time = 76
trigger4 = time = 86
trigger5 = time = 96
projanim = 1102 
ProjID =3100
offset = 59, -96 
velocity = 7, 0 
attr = S, SP
damage = 18,1
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9108
sparkxy = 100, 30
guard.sparkno = S9101
hitsound =-1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 50
air.hittime = 50
ground.velocity = -10
airguard.velocity = -3.5,-2.75
air.velocity = -10,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[State 2050, 2]
type = Projectile
trigger1 = time = 56
trigger2 = time = 66
trigger3 = time = 76
trigger4 = time = 86
trigger5 = time = 96
projanim = 1108
ProjID =3100
offset = 12,-85 
velocity = -7, -3 
attr = S, SP
damage = 18,1
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9108
sparkxy = 100, 30
guard.sparkno = S9101
hitsound =-1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 50
air.hittime = 50
ground.velocity = -10
airguard.velocity = -3.5,-2.75
air.velocity = -10,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[State 2050, 8]
type = Projectile
trigger1 = time = 59
trigger2 = time = 69
trigger3 = time = 79
trigger4 = time = 89
trigger5 = time = 99
projanim = 1108
ProjID =3100
offset = 14, -86 
velocity = -6, -4.5 
attr = S, SP
damage = 18,1
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9108
sparkxy = 100, 30
guard.sparkno = S9101
hitsound =-1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 50
air.hittime = 50
ground.velocity = -10
airguard.velocity = -3.5,-2.75
air.velocity = -10,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[State 2050, 2]
type = Projectile
trigger1 = time = 59
trigger2 = time = 69
trigger3 = time = 79
trigger4 = time = 89
trigger5 = time = 99
projanim = 1103
ProjID =3100
offset = -3, -106;-107 
velocity = 7, -3 
attr = S, SP
damage = 18,1
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9108
sparkxy = 100, 30
guard.sparkno = S9101
hitsound =-1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 50
air.hittime = 50
ground.velocity = -10
airguard.velocity = -3.5,-2.75
air.velocity = -10,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[State 2050, 2]
type = Projectile
trigger1 = time = 62
trigger2 = time = 72
trigger3 = time = 82
trigger4 = time = 92
trigger5 = time = 102
projanim = 1105
ProjID =3100
offset = 48,-68 
velocity = 5, -6.5;5.5, -5 
attr = S, SP
damage = 18,1
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9108
sparkxy = 100, 30
guard.sparkno = S9101
hitsound =-1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 50
air.hittime = 50
ground.velocity = -10
airguard.velocity = -3.5,-2.75
air.velocity = -10,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[State 2050, 2]
type = Projectile
trigger1 = time = 62
trigger2 = time = 72
trigger3 = time = 82
trigger4 = time = 92
trigger5 = time = 102
projanim = 1105
ProjID =3100
offset = 26, -77 
velocity = -5, -6 
attr = S, SP
damage = 18,1
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9108
sparkxy = 100, 30
guard.sparkno = S9101
hitsound =-1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 50
air.hittime = 50
ground.velocity = -10
airguard.velocity = -3.5,-2.75
air.velocity = -10,-5.5
air.juggle = 3
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[state haha]
type = changestate
trigger1 = time = 110
value = 3101


; Hyper02
[StateDef 3101]
type = s
movetype = A
physics = s
velset = 0,0
anim = 3101
sprpriority = 1
ctrl = 0

[State ]
type = removeExplod
trigger1 = Time = 0
id = 3100

[State ]
type = removeExplod
trigger1 = Time = 15
id = 3101


[state ]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

; Hyper02
[StateDef 3150]
type = A
movetype = A
physics = N
velset = 0,0
anim = 3150
sprpriority = 1
ctrl = 0

[state 710,6]
type = assertspecial
trigger1 = 1
flag = nofg

[State 182, 2]
type = NotHitBy
trigger1 = Time = [0,45]
value = SCA
time = 1

[State 750, Dust]
type = removeExplod
trigger1 = Time = 0
id = 8888

[state haha]
type = superpause
trigger1 = animelem = 3
time = 40
movetime = 40
pos = 25,-50
anim = s9109
sound = s4,0
unhittable = 3
poweradd = -1000
darken = 0
persistent = 0


[State 3000]
type = Explod
trigger1 = animelem =3
ID = 3000
anim = 7000
postype = back
pos = -10, -13
scale = 1.1,1.1
bindtime = -1
removetime = -2
sprpriority = 0
ownpal = 1
supermovetime = 9999

[state 0]
type = explod
trigger1 = animelem = 3
anim = 9116
id = 9003
postype = back
pos = 160,120
sprpriority = -4
ownpal = 1
removetime = 42
bindtime = -1
supermove = 1
persistent = 0
scale = 1.2,1.2


[state 2000, 4]
type = helper
trigger1 = animelem =3
trigger1 = numhelper(9922) = 0
stateno = 9922
id = 9003
name = "floor"
pos = 0,0
postype = p1
ownpal = 1
persistent = 0


[State 1000, 1]
type = PlaySnd
trigger1 = time = 0
value =3000, 4
channel = 0
volumescale = 255

[State 1000, 1]
type = PlaySnd
trigger1 = time = 50
value =1000, 1
channel = 0
volumescale = 255

[State 1000, 1]
type = PlaySnd
trigger1 = time = 1
value = 4000, 21
volumescale = 255

[State 1000, 1]
type = PlaySnd
trigger1 = time = 50
value = 4000, 22
volumescale = 255

[State 1160, PROJECTILE 1]
type = Explod
trigger1 = time = 0
anim = 3152
id = 3100
postype = P1
pos = 0,0
supermove = 1
sprpriority = 5
persistent = 0
ownpal = 1
removeongethit = 1
bindtime = -1
removetime = -1

[State ]
type = Explod
trigger1 = Time = 0
anim = 3153
id = 3101
pos = 0,0
postype = p1
sprpriority = 6
supermove = 1
bindtime = -1
ownpal = 1
removeongethit = 1
ignorehitpause = 0
removetime = -1

[State 1000, 2]
type = Projectile
trigger1 = time = 52
trigger2 = time = 64
trigger3 = time = 76
trigger4 = time = 88
trigger5 = time = 100
projanim = 1134
projid = 3100
offset = 15, 18 
velocity = 0, 7 
attr = S, SP
damage = 18,1
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9108
sparkxy = 100, 30
guard.sparkno = S9101
hitsound =-1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 40
air.hittime = 40
ground.velocity = -10
airguard.velocity = -3.5,-2.75
air.velocity = -10,-5.5
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2


[State 1000, 2]
type = Projectile
trigger1 = time = 69
trigger2 = time = 71
trigger3 = time = 83
trigger4 = time = 95
trigger5 = time = 107
projanim = 1135
projid = 3100
offset = 10, -58 
velocity = 8, 0 
attr = S, SP
damage = 18,1
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9108
sparkxy = 100, 30
guard.sparkno = S9101
hitsound =-1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 40
air.hittime = 40
ground.velocity = -10
airguard.velocity = -3.5,-2.75
air.velocity = -10,-5.5
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[State 1000, 2]
type = Projectile
trigger1 = time = 54
trigger2 = time = 66
trigger3 = time = 78
trigger4 = time = 90
trigger5 = time = 102
projanim = 1136
projid = 3100
offset = 23, -65 
velocity = 2, 7
attr = S, SP
damage = 18,1
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9108
sparkxy = 100, 30
guard.sparkno = S9101
hitsound =-1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 40
air.hittime = 40
ground.velocity = -10
airguard.velocity = -3.5,-2.75
air.velocity = -10,-5.5
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[State 1000, 2]
type = Projectile
trigger1 = time = 56
trigger2 = time = 68
trigger3 = time = 80
trigger4 = time = 92
trigger5 = time = 104
projanim = 1137
projid = 3100
offset = 10, -51 
velocity = 6, 5.5
attr = S, SP
damage = 18,1
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9108
sparkxy = 100, 30
guard.sparkno = S9101
hitsound =-1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 40
air.hittime = 40
ground.velocity = -10
airguard.velocity = -3.5,-2.75
air.velocity = -10,-5.5
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[State 1000, 2]
type = Projectile
trigger1 = time = 58
trigger2 = time = 70
trigger3 = time = 82
trigger4 = time = 94
trigger5 = time = 106
projanim = 1138
projid = 3100
offset = 13, -56 
velocity = 8, 2.7
attr = S, SP
damage = 18,1
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 3,3
sparkno= S9108
sparkxy = 100, 30
guard.sparkno = S9101
hitsound =-1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime = 40
air.hittime = 40
ground.velocity = -10
airguard.velocity = -3.5,-2.75
air.velocity = -10,-5.5
projsprpriority = 4
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2

[state haha]
type = changestate
trigger1 = time = 110
value = 3151


; Hyper02
[StateDef 3151]
type = A
movetype = A
physics = N
velset = 0,0
anim = 3151
sprpriority = 1
ctrl = 0

[State ]
type = veladd
trigger1 = Time > 30
y = .3

[State ]
type = removeExplod
trigger1 = Time = 0
id = 3100

[State ]
type = removeExplod
trigger1 = Time = 15
id = 3101


[state ]
type = changestate
trigger1 = animtime = 0
value = 460
ctrl = 1

; Hyper03
[StateDef 3200]
type = S
movetype = A
physics = s
velset = 0,0
anim = 3200
sprpriority = 1
ctrl = 0

[state 710,6]
type = assertspecial
trigger1 = 1
flag = nofg

[State 182, 2]
type = NotHitBy
trigger1 = Time = [0,45]
value = SCA
time = 1

[State 750, Dust]
type = removeExplod
trigger1 = Time = 0
id = 8888

[State 750, Dust]
type = Explod
triggerall = anim = 3200
trigger1 = Time = 0
anim = 9110
pos = 0,0
postype = p1
sprpriority = 5
bindtime = 1


[state haha]
type = superpause
triggerall = anim = 3200
trigger1 = animelem = 2
time = 40
movetime = 40
pos = 0,-70
anim = s9109
sound = s4,0
unhittable = 3
poweradd = -1000
darken = 0
persistent = 0


[State 3000]
type = Explod
triggerall = anim = 3200
trigger1 = animelem =2
ID = 3000
anim = 7000
postype = back
pos = -10, -13
scale = 1.1,1.1
bindtime = -1
removetime = -2
sprpriority = 0
ownpal = 1
supermovetime = 9999

[state 0]
type = explod
triggerall = anim = 3200
trigger1 = animelem = 2
anim = 9116
id = 9003
postype = back
pos = 160,120
sprpriority = -4
ownpal = 1
removetime = 42
bindtime = -1
supermove = 1
persistent = 0
scale = 1.2,1.2


[state 2000, 4]
type = helper
triggerall = anim = 3200
trigger1 = animelem =2
trigger1 = numhelper(9922) = 0
stateno = 9922
id = 9003
name = "floor"
pos = 0,0
postype = p1
ownpal = 1
persistent = 0

[State 1000, 1]
type = PlaySnd
triggerall = anim = 3200
trigger1 = time = 0
value =3000, 7
channel = 0
volumescale = 255

[State 1000, 1]
type = PlaySnd
trigger1 = NumHelper(3200)
trigger1 = helper(3200),MoveContact
value =3000, 8
channel = 0
volumescale = 255
persistent = 0

[State 1000, 1]
type = PlaySnd
triggerall = anim = 3200
trigger1 = animelem =3
value =4000, 10
volumescale = 255

[State 1100, Helper]
type = Helper
triggerall = anim = 3200
trigger1 = animelem =3
helpertype = normal ;player
name = "sphere"
ID = 3200
stateno = 3205
pos =  97,-77
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 3001]
type = ChangeAnim
triggerall = StateType != A
trigger1 = NumHelper(3200)
trigger1 = helper(3200),MoveContact
value = 3202
persistent = 0

[State 3001]
type = Changestate
trigger1 = helper (3200),stateno = 3207
value = 3201

; Hyper03
[StateDef 3201]
type = s
movetype = A
physics = s
velset = 0,0
anim = 3201
sprpriority = 1
ctrl = 0

[state ]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

; Hyper03
[Statedef 3205] 
type = A
movetype = A
physics = N
anim = 3205
ctrl = 0
sprpriority = 3
velset = 0,0
hitcountpersist = 1

[State 23000]
type = VelSet
trigger1 = Time = 4
x = 3

[State 23000]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 23000]
type = HitDef
attr = A, HP
trigger1 = time = 0
animtype = hard
priority  = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 0,7
sparkxy = -10,-10
hitsound   = -1
guardsound = -1
sparkno = S9108
guard.sparkno = S9101
ground.type = High
ground.slidetime = 10
ground.hittime  = 20
ground.velocity = -9
air.velocity = -9,-5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
givepower = 10,10
getpower = 0,0

[State 23000]
type = ChangeState
trigger1 = MoveContact
value = 3206
;ignorehitpause = 1

[State 23000]
type = ChangeState
trigger1 = FrontEdgeDist < - 100
trigger2 = Parent, MoveType = H
value = 3207
;ignorehitpause = 1

; Hyper03
[Statedef 3206] 
type = A
movetype = A
physics = N
anim = 3206
ctrl = 0
sprpriority = 2
velset = 0,0
hitcountpersist = 1


[State 1000, 1]
type = PlaySnd
trigger1 = time = 0
value =4000, 25
volumescale = 255

[State ]
type = HitDef
trigger1 = animelem = 2
attr = S, HA
animtype  = Hard
damage    = 12,1
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 2,2
p2facing = ifelse(P2Dist X > 0, 1, -1)
sparkno = s9108
guard.sparkno = s9101
sparkxy = -15,0
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 28
ground.velocity = IfElse(P2Dist X > 0, 5,-5),0
air.velocity = IfElse(P2Dist X > 0,5,-5),-3
guard.velocity = IfElse(P2Dist X > 0, 5,-5)
airguard.velocity = IfElse(P2Dist X > 0,5,-5),-2
guard.hittime = 6
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2
palfx.time = 60
Palfx.add = 100,100,180 
Palfx.sinadd = -80,-80,-80,10
Palfx.color = 0

[State 751, Right Leg Hit]
type = HitDef
trigger1 = animelem = 4
attr = S, HA
animtype  = Hard
damage    = 12,1
hitflag = MAF
guardflag = MA
pausetime = 2,2
guard.pausetime = 2,2
p2facing = ifelse(P2Dist X > 0, 1, -1)
sparkno = s9108
guard.sparkno = s9101
sparkxy = -15,0
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 28
ground.velocity = IfElse(P2Dist X > 0, 13, -13),0
air.velocity = IfElse(P2Dist X > 0, 13, -13),-3
guard.velocity = IfElse(P2Dist X > 0, 13, -13)
airguard.velocity = IfElse(P2Dist X > 0, 13, -13),-2
guard.hittime = 6
air.fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
getpower = 0,0
givepower = 10, 10
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2
palfx.time = 60
Palfx.add = 100,100,180 
Palfx.sinadd = -80,-80,-80,10
Palfx.color = 0

[State 751, Ending Hit]
type = HitDef
trigger1 = time = 78
attr = S, HA
animtype  = Hard
damage    = 15, 1
hitflag = MAF
guardflag = MA
pausetime = 0,1
sparkno = s9108
guard.sparkno = s9101
sparkxy = -15,0
hitsound   = -1;S5545,2
guardsound =-1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -8,-15
air.velocity = -8,-15
guard.hittime = 6
fall = 1
air.fall = 1
fall.recover = 0
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
getpower = 0,0
givepower = 5, 2
palfx.time = 60
Palfx.add = 100,100,180 
Palfx.sinadd = -80,-80,-80,10
Palfx.color = 0

[state 1060, 8]
type = explod
trigger1 = movehit && numexplod(8114) = 0 && p2movetype = H
anim = 8114
id = 8114
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 6
facing = 1
bindtime = -1
ownpal = 1
ignorehitpause = 1
removetime = 60

[State 0, EnvColor]
type = EnvColor
trigger1 = movehit=1
value = 255,255,255
time = 1
ignorehitpause = 0
persistent = 1

[state 0, ]
type = null
trigger1 = movehit=1
trigger2 = projhit=1
value = 255,255,255
time = 1

[State 741,]
type = Playsnd
trigger1 = movehit = 1
value = S5545,6
channel = 2

[State 741,]
type = Playsnd
trigger1 = moveguarded = 1
value = S5546,0
channel = 2

[State 23005]
type = ChangeState
trigger1 = time = 80
value = 3207

; Hyper03
[Statedef 3207] 
type = A
movetype = A
physics = N
anim = 3207
ctrl = 0
sprpriority = 2
velset = 0,0
hitcountpersist = 1

[State 23005]
type = destroyself
trigger1 = animtime = 0

; Hyper04
[StateDef 3300]
type =S
movetype = A
physics = S
velset = 0,0
anim = 3300
sprpriority = 1
ctrl = 0

[state 710,6]
type = assertspecial
trigger1 = 1
flag = nofg

[State 182, 2]
type = NotHitBy
trigger1 = Time = [0,60]
value = SCA
time = 1

[State 750, Dust]
type = removeExplod
trigger1 = Time = 0
id = 8888

[State 750, Dust]
type = Explod
trigger1 = Time = 0
anim = 9110
pos = 0,0
postype = p1
sprpriority = 5
bindtime = 1

[State 750, Dust]
type = Explod
trigger1 = animelem = 3
id = 3300
anim = 3301
pos = 50,-40
postype = p1
sprpriority = 5
bindtime = -1
removeongethit = 1
removetime = 50
supermove = 1


[State 750, Dust]
type = Explod
trigger1 = animelem = 6
id = 3300
anim = 3301
pos = 75,15
postype = p1
sprpriority = 5
bindtime = -1
removeongethit = 1
supermove = 1

[state haha]
type = superpause
trigger1 = animelem = 3
time = 40
movetime = 40
pos = 45,-130
anim = s9109
sound = s4,1
unhittable = 3
poweradd = -3000
darken = 0
persistent = 0


[State 3000]
type = Explod
trigger1 = animelem =3
ID = 3000
anim = 7000
postype = back
pos = -10, -13
scale = 1.1,1.1
bindtime = -1
removetime = -2
sprpriority = 0
ownpal = 1
supermovetime = 9999

[state 0]
type = explod
trigger1 = animelem = 3
anim = 9129
id = 9003
postype = back
pos = 160,120
sprpriority = -4
ownpal = 1
removetime = 42
bindtime = -1
supermove = 1
persistent = 0
scale = 1.2,1.2


[state 2000, 4]
type = helper
trigger1 = animelem =3
trigger1 = numhelper(9924) = 0
stateno = 9924
id = 9003
name = "floor"
pos = 0,0
postype = p1
ownpal = 1
persistent = 0


[State 1000, 1]
type = PlaySnd
trigger1 = time = 5
value =3000, 9
channel = 0
volumescale = 255

[State 1000, 1]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 6
value = 4000, 26
volumescale = 255

[State 3110, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, HA
damage = 10,5
animtype = Heavy
guardflag = MA
hitflag = MAFD
pausetime = 6,6
guard.pausetime = 6,6
sparkno = s9108
guard.sparkno = s9101
sparkxy = -15,0
hitsound = s5544,4
guardsound = S5546,0
ground.type = low
ground.hittime  = 20
ground.velocity = -10
air.type = low
air.velocity = -1,-20
guard.velocity = 0
airguard.velocity = -10,-1
yaccel = .5
fall =1
air.fall = 1
fall.recover = 0
fall.xvelocity =0
fall.yvelocity =-2
getpower = 0,0
givepower = 50, 50
envshake.time = 5
envshake.freq = 100
kill = 0
p2stateno = 3305
snap = 150,0

[State ]
type = EnvColor
trigger1 = movehit=1
value = 255,255,255
time = 5
ignorehitpause = 1
persistent = 1

[state  ]
type = null
trigger1 = movehit=1
trigger2 = projhit=1
value = 255,255,255
time = 1

[State ]
type = changestate
trigger1 = p2stateno = 3305
value = 3301

[State 3400, End]
type=ChangeState
trigger1=animtime = 0
value=0
ctrl=1

; Hyper04
[Statedef 3301]
type = A
movetype = A
physics = n
anim = 3302
velset = 0,0
sprpriority = 3

[State roll]
type = Explod
trigger1 = time = 1
Anim = 3304
pos = -15,0
postype = p1
sprpriority = 2
removetime = 35

[State roll]
type = Explod
trigger1 = time = 1
Anim = 187
pos = -20,0
postype = p1
sprpriority = -5
scale = 0.5,0.5

[State 0]
type = PlaySnd
trigger1 = time = 1
value = S4000,5
volumescale = 255

[State 1000, 1]
type = PlaySnd
trigger1 = animelem = 13
value =1000, 1
channel = 0
volumescale = 255

[State 1000, 1]
type = PlaySnd
trigger1 = animelem = 74
value =3000, 10
channel = 0
volumescale = 255

[State 1000, 1]
type = PlaySnd
trigger1 = animelem = 1
value =4000, 27
volumescale = 255

[State reading]
type = Explod
trigger1 = animelem = 117
Anim = 193
pos = -15,-10
postype = p1
sprpriority = 1
accel = -0.5,-0.5
removetime = 60

[State 0]
type = PlaySnd
trigger1 = animelem = 117
value = S4000,4
volumescale = 50

[State 0]
type = PlaySnd
trigger1 = animelem = 117
value = S4000,27
volumescale = 2

[State ]
type = posadd
trigger1 = time = 0
x = -50

[State ]
type =velset
trigger1 = animelem = 117
x = 0
y = -5

[State ]
type =veladd
trigger1 = time > 275
y =.6


[State reading]
type = Explod
trigger1 = animelem = 1
Anim = 3305
id = 3300
pos = 0,0
postype = p2
sprpriority = -5
removetime = -1
ownpal = 1
scale = 1.5,1

[State reading]
type = Explod
trigger1 = animelem = 1
Anim = 3306
id = 3300
pos = 0,0
postype = p2
sprpriority = 5
removetime = 45
bindtime = 30
ownpal = 1
scale = 1.5,1
vel = 0,-10

[State reading]
type = Explod
trigger1 = animelem = 1
Anim = 3307
id = 3300
pos = 0,0
postype = p2
sprpriority = -5
removetime = 45
bindtime = 30
ownpal = 1
scale = 1.5,1
vel = 0,-10

[State reading]
type = Explod
trigger1 = time = 45
Anim = 3308
id = 3300
pos = 0,-150
postype = p2
sprpriority = 5
removetime =-1
bindtime = -1
ownpal = 1
scale = 1.5,1

[State reading]
type = Explod
trigger1 = time = 45
Anim = 3309
id = 3300
pos = 0,0
postype = p2
sprpriority = 4
removetime =-1
bindtime = -1
ownpal = 1
scale = 1,0.8

[State reading]
type = Explod
trigger1 = time = 45
Anim = 3310
id = 3300
pos = 0,5
postype = p2
sprpriority = -4
removetime =-1
bindtime = -1
ownpal = 1
scale = 1.7,1

[state 1060, 8]
type = explod
trigger1 = time = 55
anim = 8114
id = 3300
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
postype = p2
sprpriority = 6
facing = 1
bindtime = -1
ownpal = 1
ignorehitpause = 1
removetime = -1

[State 750, Dust]
type = Explod
trigger1 = time = 55 
trigger2 = time = 65
trigger3 = time = 75
trigger4 = time = 85
trigger5 = time = 95
trigger6 = time = 105
trigger7 = time = 115
trigger8 = time = 125
trigger9 = time = 135
trigger10 = time = 145
trigger11 = time = 155
trigger12 = time = 165
trigger13 = time = 175
trigger14 =time = 185
trigger15 = time = 195
trigger16 = time = 205
trigger17 =time = 215
trigger18 = time = 225
anim = 9108
id = 8888
pos =0,-58
postype = p2
sprpriority = 5
supermove = 1
pausemovetime = 999
bindtime = 1
random = 100,100

[state 192, 2]
type = playsnd
trigger1 = time = 55 
trigger2 = time = 65
trigger3 = time = 75
trigger4 = time = 85
trigger5 = time = 95
trigger6 = time = 105
trigger7 = time = 115
trigger8 = time = 125
trigger9 = time = 135
trigger10 = time = 145
trigger11 = time = 155
trigger12 = time = 165
trigger13 = time = 175
trigger14 =time = 185
trigger15 = time = 195
trigger16 = time = 205
trigger17 =time = 215
trigger18 = time = 225
value = 5545, 6
channel = 8

[state 192, 2]
type = hitadd
trigger1 = time = 55 
trigger2 = time = 65
trigger3 = time = 75
trigger4 = time = 85
trigger5 = time = 95
trigger6 = time = 105
trigger7 = time = 115
trigger8 = time = 125
trigger9 = time = 135
trigger10 = time = 145
trigger11 = time = 155
trigger12 = time = 165
trigger13 = time = 175
trigger14 =time = 185
trigger15 = time = 195
trigger16 = time = 205
trigger17 =time = 215
trigger18 = time = 225
value = 1

[state 192, 2]
type = targetlifeadd
trigger1 = time = 55 
trigger2 = time = 65
trigger3 = time = 75
trigger4 = time = 85
trigger5 = time = 95
trigger6 = time = 105
trigger7 = time = 115
trigger8 = time = 125
trigger9 = time = 135
trigger10 = time = 145
trigger11 = time = 155
trigger12 = time = 165
trigger13 = time = 175
trigger14 =time = 185
trigger15 = time = 195
trigger16 = time = 205
trigger17 =time = 215
trigger18 = time = 225
value = -10
kill = 0

[State reading]
type = removeExplod
trigger1 = animelem = 103
id = 3300

[State ]
type = helper
trigger1 = animelem = 102
helpertype = normal
stateno =3303
name = "bomb"
postype = p2
pos=0,0
ownpal = 1

[state 50, 12]
type = changestate
triggerall = time > 280
trigger1 = vel y > 0
trigger1 = pos y > 0
value = 3302

; Hyper04
[statedef 3302]
type    = s
physics = s
velset = 0,0
ctrl = 0

[State 0]
type = PlaySnd
trigger1 = time = 1
value = S4000,15
volumescale = 255

[state 52, 1]
type = changeanim
trigger1 = time = 0
value = 3303

[state 52, Dust]
type = explod
trigger1 = time = 0
anim = 6011
id = 6007
postype = p1
pos = 0,0
ownpal = 1
bindtime = 1
sprpriority = -2
persistent = 0
removeongethit = 0

[state 52, 3]
type = posset
trigger1 = time = 0
y = 0

[state 52, 5]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

; Hyper04
[Statedef 3303]
type    = S
movetype= A
physics = N
anim = 3311
velset = 0,0
juggle = 0
ctrl = 0
sprpriority = 6

[State 1070, Magnum Snd]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = S4000,28

[State 1106]
type = HitDef
trigger1 = time=0
attr = S, HP
animtype  = up
damage =300
priority = 5,Hit
pausetime = 0, 9
sparkno = s9108
guard.sparkno = s9101
sparkxy = 0, 0
hitsound = s5545, 7
ground.type = high
ground.velocity = 0, -14
air.velocity = 10, -25
guard.slidetime = 21
guard.hittime = 9
guard.velocity = 0
airguard.velocity = 0,-3
down.velocity = 0,-8
fall = 1
air.fall = 1
fall.recover = 0
envshake.time = 5
envshake.freq = 100
envshake.ampl = 4
yaccel = .9
fall.xvelocity =0
fall.yvelocity =-2
givepower = 200,200
getpower = 0,0
palfx.time = 60
palfx.color = 0
palfx.add = 100,0,-180
palfx.sinadd = 40,20,20,15
p2stateno = 7111


[state 0, ]
type = null
trigger1 = movehit=1
trigger2 = projhit=1
value = 255,255,255
time = 1

[state 3000, choque]
type = explod
trigger1 = movehit = 1 && p2movetype = H
anim = 9113
id = 9113
ownpal = 1
bindtime = -1
postype = p2
pos = Floor(enemynear, const(size.mid.pos.x)),Floor(enemynear, const(size.mid.pos.y))
persistent = 0

[state 0, ]
type = envcolor
trigger1 =movehit = 1
value = 255,255,255
time = 1

[State 1106, DestroySelf]
type = DestroySelf
trigger1 = animtime=0

; Hyper04
[Statedef 3305]
type    = a
movetype= h
physics = n
velset =0,0
sprpriority = 2


[state 820, 1]
type = changeanim2
trigger1 = time = 0
value = 3350

[State 1002, 3]
type = PalFX
trigger1 = animelem = 2
time = 200
color = 0
add = 50,50,160
sinadd = 30,30,50,10


[state 50, 12]
type = selfstate
trigger1 = time = 520
value = 5110


;---------------------------------------------------------------------------
; HITG_SHAKE
[Statedef 5000]
type    = S
movetype= H
physics = N
velset = 0,0

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5000, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5000, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0 && !GetHitVar(fall)
value = 5001 ;HITG_SLIDE

[State 5000, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 5030

[State 5000, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5000, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; HITG_SLIDE
[Statedef 5001]
type    = S
movetype= H
physics = S

[State 5001, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5001, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 5005 + GetHitVar(animtype) + (GetHitVar(groundtype)=2)*10

[State 5001, 3] ;Stop sliding back
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5001, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 5001, 5]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 5001, 6]
type = ChangeState
trigger1 = HitOver
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; HITC_SHAKE
[Statedef 5010]
type    = C
movetype= H
physics = N
velset = 0,0

[State 5010, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = 5020 + GetHitVar(animtype)

[State 5010, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5010, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5010, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5010, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
triggerall = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 5010, 6]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0 && !GetHitVar(fall)
value = 5011 ;HITC_SLIDE

[State 5010, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 5030

[State 5010, FFB Light]
type = ForceFeedback
trigger1 = anim = 5020
persistent = 0
time = 6
waveform = square

[State 5010, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5021
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5010, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5022
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; HITC_SLIDE
[Statedef 5011]
type    = C
movetype= H
physics = C

[State 5011, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5011, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 5025 + GetHitVar(animtype)

[State 5011, 3] ;Stop sliding back
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5011, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 5011, 5]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 5011, 6]
type = ChangeState
trigger1 = HitOver
value = 11
ctrl = 1


;---------------------------------------------------------------------------
; HITA_SHAKE
[Statedef 5020]
type    = A
movetype= H
physics = N
velset = 0,0

[State 5020, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = 5030

[State 5020, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5020, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5020, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5020, 5]
type = ChangeState
trigger1 = HitShakeOver
value = 5030

[State 5020, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5020, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5020, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
trigger4 = anim = [5051,5059]
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; HITA_UP (initial going up)
[Statedef 5030]
type    = A
movetype= H
physics = N
ctrl = 0

[State 5030, 1]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 5030, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5030, 3]
type = ChangeState
triggerall = !HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 5040 ;HITA_RECOV

[State 5030, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 5050 ;HITA_FALL

[State 5030, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 5035 ;HITA_UP (transition)

;---------------------------------------------------------------------------
; HITA_UP_T (transition)
[Statedef 5035]
type    = A
movetype= H
physics = N

[State 5035, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059] ;Not if in hit up anim
trigger1 = Anim != 5090 ;Not if hit off ground anim
value = 5035

[State 5035, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5035, 3]
type = ChangeState
triggerall = !HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Animation over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 5040 ;HITA_RECOV

[State 5035, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Anim is over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 5050 ;HITA_FALL

;---------------------------------------------------------------------------
; HITA_RECOV (recovering in air, not falling)
[Statedef 5040]
type    = A
movetype= H
physics = N

[State 5040, 1]
type = ChangeState
trigger1 = !Alive
value = 5050

[State 5040, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim != 5040
trigger2 = Time = 0
trigger2 = Anim != 5035
value = 5040

[State 5040, 3]
type = CtrlSet
trigger1 = HitOver
value = 1

[State 5040, 4]
type = StateTypeSet
trigger1 = HitOver
movetype = I

[State 5040, 5]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5040, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;JUMPLAND

;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 5050]
type    = A
movetype= H
physics = N

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5050, 4] ;Recover near ground
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -40
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 5050, 5]; Recover in mid air
type = ChangeState
triggerall = Vel Y > -1
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 5100 ;HIT_BOUNCE

;---------------------------------------------------------------------------
; HIT_TRIP (shaking)
[Statedef 5070]
type    = A
movetype= H
physics = N
velset = 0,0

[State 5070, 1]
type = ChangeAnim
trigger1 = 1
value = 5070

[State 5070, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 5071

[State 5070, 3]
type = ForceFeedback
trigger1 = time = 0
time = 12
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; HIT_TRIP2 (fall through air)
[Statedef 5071]
type    = A
movetype= H
physics = N

[State 5071, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5071, 2] ;Acceleration
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5071, 3] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 15
type = ChangeState
value = 5110

;---------------------------------------------------------------------------
; HITL_SHAKE
[Statedef 5080]
type    = L
movetype= H
physics = N
velset = 0,0

[State 5080, 1] ;Set default anim
type = VarSet
trigger1 = time = 0
sysvar(2) = ifelse (GetHitVar(yvel) = 0, 5080, 5090)

[State 5080, 2]
type = VarAdd
trigger1 = time = 0
trigger1 = (anim = [5081,5089]) || (anim = [5111,5119])
trigger1 = SelfAnimExist(sysvar(2) + (anim % 10))
sysvar(2) = anim % 10

[State 5080, 3] ;If 5090 doesn't exist, default to 5030
type = VarSet
trigger1 = time = 0
trigger1 = sysvar(2) = 5090
trigger1 = !SelfAnimExist(5090)
sysvar(2) = 5030

[State 5080, 3] ;Freeze
type = ChangeAnim
trigger1 = 1
value = sysvar(2)

[State 5080, 4]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
value = 5081 ;HITL_SLIDE

[State 5080, 5]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) != 0
value = 5030 ;HITA_UP

;---------------------------------------------------------------------------
; HITL_SLIDE
[Statedef 5081]
type    = L
movetype= H
physics = C

[State 5081, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5081, 2]
type = VelSet
trigger1 = HitOver
x = 0

[State 5081, 3] ;Don't show hit ground frame
type = VarSet
trigger1 = Time = 0
sysvar(0) = 1

[State 5081, 4]
type = ChangeState
trigger1 = HitOver
value = 5110 ;HIT_LIEDOWN

;---------------------------------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 5100]
type    = L
movetype= H
physics = N

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 5110 ;HIT_LIEDOWN

[State 5100, 8]
type = GameMakeAnim
trigger1 = Time = 1
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 14


[State 5100, 10]
type = PlaySnd
triggerall = roundstate = 2
trigger1 = Time = 1
trigger1 = Random <= 300
value = s5000,1
channel = 0
volume = 255

[State 901, EnvShake]
type = EnvShake
trigger1 = time = 1
time = 5
freq = 100
ampl = -10

[State 200, 3]
type = playsnd
trigger1 = time = 1
value = s0,29


[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 5101

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 5101]
type    = L
movetype= H
physics = N

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 3]
type = HitFallVel
trigger1 = Time = 0

[State 5101, 4]
type = PosSet
trigger1 = Time = 0
y = 20

[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .4

[State 5101, 6] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 12
type = ChangeState
value = 5110


;---------------------------------------------------------------------------
; HIT_LIEDOWN
[Statedef 5110]
type    = L
movetype= H
physics = N

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)


[State 5110, 7]
type = GameMakeAnim
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 14

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5110, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 5110, 11] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 5110, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5110, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 5110, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine
;---------------------------------------------------------------------------
; HIT_GETUP
[Statedef 5120]
type    = L
movetype= I
physics = N

[State 5120, 1a] ;Get up anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5111,5119]
trigger2 = !SelfAnimExist(5120 + (anim % 10))
value = 5120

[State 5120, 1b] ;Get up anim (for hit up/diag-up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5111,5119]
trigger1 = SelfAnimExist(5120 + (anim % 10))
value = 5120 + (anim % 10)

[State 5120, 2]
type = VelSet
trigger1 = Time = 0
x = 0

[State 5120, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 9001, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 5120, 4]
type = HitFallSet
trigger1 = AnimTime = 0
value = 1

[State 5120, 5] ;Can't be thrown right after getting up
type = NotHitBy
trigger1 = AnimTime = 0
value = , NT,ST,HT
time = 12

[State 5120, 6] ;Can't be hit right after getting up (short time)
type = NotHitBy
trigger1 = AnimTime = 0
value2 = SCA
time = 3

[State 5120, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


; HIT_LIEDEAD
[Statedef 5150]
type    = L
movetype= H
physics = N
sprpriority = -3

[State 5150, 1] ;Normal anim
type = ChangeAnim
triggerall = prevstateno != 8200
triggerall = Time = 0
triggerall = SelfAnimExist(5140)
trigger1 = (anim != [5111,5119]) && (anim != [5171,5179])
trigger2 = !SelfAnimExist(5140 + (anim % 10))
value = 5140

[State 5150, 3] ;Hit up type anim
type = ChangeAnim
triggerall = prevstateno != 8200
trigger1 = Time = 0
trigger1 = (anim = [5111,5119]) || (anim = [5171,5179])
trigger1 = SelfAnimExist(5140 + (anim % 10))
value = 5140 + (anim % 10)

[State 5150, 4] ;Match over anim
type = ChangeAnim
persistent = 0
triggerall = prevstateno != 8200
;trigger1 = Time = 0
trigger1 = MatchOver = 1
trigger1 = Anim = [5140,5149]
trigger1 = SelfAnimExist(anim+10)
value = anim+10

[State 5150, 5] ;Switch to 5110 if liedead anim does not exist
type = ChangeAnim
triggerall = prevstateno != 8200
trigger1 = Time = 0
trigger1 = Anim != [5140,5159]
trigger1 = Anim != [5110,5119]
value = 5110

[State 5150, 6] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5150, 7] ;Friction
type = VelSet
trigger1 = Vel x < .05
persistent = 0
x = 0

[State 5150, 8]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


;---------------------------------------------------------------------------
; HIT_FALLRECOVER (still falling)
[Statedef 5200]
type    = A
movetype= H
physics = N

[State 5200, 1] ;Change anim if done with transition
type = ChangeAnim
trigger1 = Anim = 5035
trigger1 = AnimTime = 0
value = 5050

[State 5200, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5200, 3]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 10
value = 5201

;---------------------------------------------------------------------------
; HIT_FALLRECOVER (on the ground)
[Statedef 5201]
type    = S
movetype= I
physics = N
anim = 5200
ctrl = 0
velset = 0,0

[state 5201, 0]
type = posset
trigger1 = !time
y = 0

[State 5201, 1]
type = Width
trigger1 = 1
edge = 5,0

[State 5201, 2]
type = Playsnd
trigger1 = time = 1
value = s200,0
channel = 0
volume = 255

[State 5201, 3]
type = Playsnd
trigger1 = time = 1
value = 4000,15

[State 5201, 4]
type = VelSet
trigger1 = AnimElem = 1
x = -7

[State 5201, 5]
type = VelSet
trigger1 = AnimElem = 6
x = 0

[State 5201, 6]
type = HitBy
trigger1 = animelemtime(6) < 0
value = SCA, NT,ST,HT

[State 5201, 7]
type = PlayerPush
trigger1 = AnimElemTime(1) > 0
value = 0

[State 5201, 8]
type = Afterimage
trigger1 = AnimElem = 1
time = 15
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = .5,.5,.5
trans = add1

[State 5201, 9]
type = Changestate
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------

[Statedef 5205]
type= A
physics= N
movetype= H

[State 5205, End]; Sends character back to his own recovery states
type= selfstate
trigger1= 1
value= ifelse(pos y<-20, 5210, 5200)

;---------------------------------------------------------------------------
; HIT_AIRFALLRECOVER
[Statedef 5210]
type    = A
movetype= I
physics = N
anim = 5210
ctrl = 0

;[State 5210, 1] ;Blink white
;type = PalFX
;trigger1 = Time = 0
;time = 3
;add = 128,128,128 ;256,256,256

[State 5210, 0]
type = PlaySnd
trigger1 = animelem = 1
value = S1200,2
volume = 255
channel = 0

[State 5210, 1]
type = PosFreeze
trigger1 = Time = 0
value = 4

[State 5210, 2] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < -20

[State 5210, 1]
type = VelMul
trigger1 = Time = 4
x = .8
y = .8

[State 5210, 1]
type = VelAdd
trigger1 = Time = 4
y = -4.5

[State 5210, 1]
type = VelMul
trigger1 = Time = 4
trigger1 = Vel Y > 0
y = .5

[State 5210, 1]
type = VelAdd
trigger1 = Time = 4
trigger1 = Vel Y > -3
y = -2

[State 5210, 1]
type = VelAdd
trigger1 = Time = 4
trigger1 = Vel Y > -2
y = -1

[State 5210, 2] ;Go up
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdup"
y = -2

[State 5210, 2] ;Go down
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holddown"
y = 1.5

[State 5210, 2] ;Go fwd
type = VelMul
trigger1 = Time = 4
trigger1 = Command = "holdfwd"
x = 1

[State 5210, 2] ;Go back
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdback"
x = -1

[State 5210, 3]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 15

[State 5210, 4]
type = CtrlSet
trigger1 = Time = 20
value = 1

[State 5210, 5]
type = VelAdd;Gravity
trigger1 = Time >= 4
y = .35

[State 5210, 5] ;Land on ground
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;JUMP_LAND
ctrl = 1

;Vs Style KO fall
[Statedef 5090]
type    = A
movetype= H
physics = N
facep2 = 1

[State 5090, 1]
type = VelAdd
trigger1 = Time > 0
y = GetHitVar(yaccel)

[State 5090, 2a]
type = VelSet
trigger1 = Time = 0 && Roundstate = 2 && roundstate != 3
x = -(abs(GetHitVar(xvel)) + (Const720p(20)))
y = -(abs(GetHitVar(yvel)) + (Const720p(50))*(abs(GetHitVar(yvel) < Const720p(56))))


[State 5090, 2b]
type = VelSet
trigger1 = Time = 0 && Roundstate = 3
x = -(abs(GetHitVar(xvel)) + (Const720p(20)))
y = -(abs(GetHitVar(yvel)) + (Const720p(50))*(abs(GetHitVar(yvel) < Const720p(56))))

[State 5090, 3] ;Anim for HIT_BACK/HIT_DIAG_UP
type = ChangeAnim
trigger1 = Vel Y < Const720p(-16)
value = Cond(SelfAnimExist(5035), 5035, 5030)

[State 5090, 4]
type = NotHitBy
trigger1 = Vel Y > Const720p(-8)
value = SCA
time = 700

[State 5090, 4]
type = ChangeState
trigger1 = Vel Y > 0
value = 5050


;---------------------------------------------------------------------------
; Initialize (at the start of the round)
[Statedef 5900]
type = S

; Like in vs Series, you always start with 1 power stock...
[State 190, PowerAdd]
type = PowerSet
trigger1 = time = 0
value = 1000

[State 5900, 1] ;Clear all int variables
type = VarRangeSet
trigger1 = roundsexisted = 0
value = 0

[State 5900, 2] ;Clear all float variables
type = VarRangeSet
trigger1 = roundsexisted = 0
fvalue = 0

[State 5900, 3] ;Intro for round 1
type = ChangeState
trigger1 = roundno = 1
value = 190

[State 5900, 3]
type = ChangeState
trigger1 = roundno = [2,10]
value = 197


[State 5900, 3]
type = ChangeState
trigger1 =  TeamMode = Turns
value = 196
;---------------------------------------------------------------------------
; Round Pre-Walking (VS Series feature since MSH)
[Statedef 51100]
type    = S
physics = S
sprpriority = 1

[State 21, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 21, Width]
type = Width
trigger1 = 1
edge = 0,(0 - (const(size.ground.back)))

; Just to prevent strange behaviors...
[State 21, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 21, 1]
type = VelSet
triggerall = enemy, anim != [190, 199]
trigger1 = command = "holdfwd"
x = 1.0

[State 21, 2]
type = VelSet
triggerall = enemy, anim != [190, 199]
trigger1 = command = "holdback"
x = -1.0

[State 21, 3]
type = VelSet
triggerall = enemy, anim != [190, 199]
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
x = 0

[State 21, 4a]
type = ChangeAnim
triggerall = Vel X > 0
trigger1 = Anim != 20 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 20

[State 21, 4b]
type = ChangeAnim
triggerall = Vel X < 0
trigger1 = Anim != 21 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 21

[State 21, 4b]
type = ChangeAnim
triggerall = Vel X = 0
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 0


[State 21, 5]
type = ChangeState
trigger1 = ctrl
value = ifelse((command = "holdfwd") || (command = "holdback"), 20, 0)



;---------------------------------------------------------------------------
; Continue?
[Statedef 5500]
type = S
ctrl = 0
anim = 5300
velset = 0,0

[State 5500, 1] ;Use continue animation if available
type = ChangeAnim
trigger1 = time = 0
trigger1 = SelfAnimExist(5500)
value = 5500
;------------------------------------------------------------------------------------------------------------------------;
;------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------

[Statedef -2]



[State -2, AfterImagePersist]
type=afterimagetime
trigger1 = stateno = [3000,3999]
time=2

[State -2, Pre-walking state]
type = ChangeState
trigger1 = prevstateno = [190, 194]
trigger2 = RoundNo > 1
trigger2 = RoundState < 2
trigger2 = stateno = 0
value = 51100
ctrl = 0

[State -2, Remember the last Position (X)]
type = VarSet
trigger1 = RoundState < 2
fvar(20) = Pos X

[State -2, Set the actual Position when match begins]
type = PosSet
trigger1 = RoundState = 2
trigger1 = fvar(20) != 0
x = fvar(20)

[State -2, Reset PlaceHolder Var]
type = VarSet
trigger1 = RoundState = 2
fvar(20) = 0


[State -2, HSS End]
type = ChangeState
triggerall = stateno = 3000
triggerall = var(3)
triggerall = (BackEdgeDist < 0)
trigger1 = (NumEnemy > 1) && ((enemy(0), stateno = 6403) || (enemy(1), stateno = 6403))
trigger2 = (NumEnemy < 2) && (enemy, stateno = 6403)
value = 6500
ctrl = 0

[State -2, ScreenBound]
type = screenbound
trigger1 = stateno = 5150
value = 0
movecamera = 0,0

[State -2, AssertSpecial]
type = AssertSpecial
triggerall = roundno = 1
trigger1 = roundstate < 2
flag = NoMusic

[state 183, 3]
type = helper
trigger1 = enemynear, stateno = 328
trigger1 = numhelper(329) = 0
stateno = 329
id = 329
name = "crashlanding"
pos = 0,0
postype = p2
ownpal = 1

[State -2]
type = Helper
triggerall = WinKO
triggerall = NumHelper(101) = 0
trigger1 = StateNo = [1000,2999]
trigger2 = StateNo = [200,899]
name = "KO FX"
ID = 101
StateNo = 9070
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1

[State -2]
type = Helper
triggerall = WinKO
triggerall = NumHelper(101) = 0
trigger1 = StateNo = [3000,3099]
name = "Hyper Finish 01"
ID = 101
StateNo = 9071
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State -2]
type = Helper
triggerall = WinKO
triggerall = NumHelper(101) = 0
trigger1 = StateNo = [3100,3199]
name = "Hyper Finish 02"
ID = 101
StateNo = 9072
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State -2]
type = Helper
triggerall = WinKO
triggerall = NumHelper(101) = 0
trigger1 = StateNo = [3200,3299]
name = "Hyper Finish 03"
ID = 101
StateNo = 9073
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State -2]
type = Helper
triggerall = WinKO
triggerall = NumHelper(101) = 0
trigger1 = StateNo = [3300,3399]
name = "Hyper Finish 04"
ID = 101
StateNo = 9074
postype = p1
pos = 0, 0
ownpal = 1
ignorehitpause = 1
persistent = 0

;-----wall hit spark;;;;;;;;;;;;;;;;;;;;;;;

[state 5100,2]
type = explod
triggerall = var(42)
triggerall = enemy,stateno != [120,159]
trigger1 = numtarget
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist <= 15
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
anim = 6017
pos = (enemy,const(size.mid.pos.x))-20,(target,const(size.mid.pos.y))
postype = p2
sprpriority = 3
bindtime = 1
facing = -1
removetime = -2
id = 6016
shadow = -1
ownpal = 1
;removeongethit = 1
;ignorehitpause = 1
;vel = -2,0
;accel = -0.1,0

[state 5100,2]
type = explod
triggerall = var(42)
triggerall = enemy,stateno != [120,159]
triggerall = numtarget
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist < 15
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
anim = 6018
pos = (enemy,const(size.mid.pos.x))-20,(target,const(size.mid.pos.y))
postype = p2
sprpriority = -3
bindtime = 1
facing = -1
removetime = -2
id = 6016
shadow = -1
ownpal = 1
;removeongethit = 1
;ignorehitpause = 1
;vel = -2,0
;accel = -0.1,0

[state 5100,2]
type = playsnd
triggerall = var(42)
triggerall = numenemy
triggerall = enemy,stateno != [120,159]
triggerall = numtarget
trigger1 = stateno != 4003
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist < 15
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
persistent = 0
value = 0,29

[state 200, 3]
type = varset
triggerall = var(42)
triggerall = numenemy
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist < 15
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
v = 42
value = 0

[state 5100,2]
type = EnvShake
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist < 15
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
persistent = 0
time = 4
freq = 30
ampl = -5
phase = 40

[state -3, 2];combo hosei
type = varset
trigger1 = 1
v = 24
value = var(26)

[state -3, 2];combo hosei
type = varset
trigger1 = 1
v = 26
value = hitcount

;***************

[state -3, 2];combo
type = varset
trigger1 = var(26)>var(24)
v = 42
value = 1

[State -2, HSS End]
type = ChangeState
triggerall = stateno = 3000
triggerall = var(4)
triggerall = (BackEdgeDist < 0)
trigger1 = (NumEnemy > 1) && ((enemy(0), stateno = 6403) || (enemy(1), stateno = 6403))
trigger2 = (NumEnemy < 2) && (enemy, stateno = 6403)
value = 6500
ctrl = 0

[State -2, ScreenBound]
type = screenbound
trigger1 = stateno = 5150
value = 0
movecamera = 0,0

[State -2, Air Recovery]
type = PosAdd
trigger1 = Stateno = [5030, 5040]
trigger1 = (anim = 5040) && (AnimElem = 1, < 2)
y = -20
persistent = 0

[State -2, P2 Safe Fall]
type= targetstate
trigger1= numtarget=1; Just to prevent Simul mode shenanigans
trigger1= target,command="recovery"
trigger1= target,pos y>=-20 && target,vel y>0
trigger1= target,alive && target,hitfall && target,gethitvar(fall.recover)
trigger1= target,stateno=5030 || target,stateno=5035 || target,stateno=5050 || target,stateno=5071
value= 5205
ignorehitpause= 1

[State -2, Throws Disallowed]; Resets condition every tick to check again
type=varset
trigger1= 1
var(38)= 0

[State -2, Throws Disallowed]
type=varset
trigger1= (enemynear,stateno=[150,155])
trigger2= (enemynear,movetype=H && enemynear,statetype!=A)
trigger3= (enemynear,stateno=[5020,5040]) && !(enemynear,hitfall)
trigger4= ((enemynear,stateno=0) || (enemynear,stateno=52)) && (enemynear,prevstateno=[5000,5040]) && ((enemynear,time<=0) || !(enemynear,ctrl))
trigger5= (enemynear,stateno=0) && (enemynear,prevstateno=52) && ((enemynear,time<=0) || !(enemynear,ctrl))
trigger6= (enemynear,stateno=40) && (enemynear,time>=1 || enemynear,prevstateno=0 || enemynear,prevstateno=52)
var(38)= 1

; ===================== (Combo Limiters) ===================== 

[State -2, OTG Reset]
type = VarSet
trigger1 = p2movetype != H
fv = 1
value = 0
ignorehitpause = 1

[State -2, Wall Bounce Reset]
type = VarSet
trigger1 = p2movetype != H
fv = 2
value = 0
ignorehitpause = 1

[State -2, Ground Bounce Reset]
type = VarSet
trigger1 = p2movetype != H
fv = 3
value = 0
ignorehitpause = 1

[State -2, Air Exchange reset]
type = VarSet
trigger1 = p2movetype !=H
fv = 4
value = 0
ignorehitpause = 1

[State -2, Air Exchange limiter]
type = Varset
triggerall = numtarget
triggerall = fvar(4) != 1
trigger1 = target,stateno = [5102,5104]
fv = 4 
value = 1
ignorehitpause = 1


; ===================== (System Messages) =======================

[State -2, VS_Combo]
type = VarSet
triggerall = (var(31)!=10) || (var(31)=10 && movehit && statetype != A)
trigger1 = var(52) >= 3
trigger2 = var(52)=-1 && (movehit || p2movetype = H && p2stateno != [120,159]);p2stateno = [5000,5899])
var(31) = 1+(var(52)>4)+(var(52)>5)+(var(52)>7)+(var(52)>9)+(var(52)>19)+(var(52)>29)+(var(52)>39)-(var(52)=-1)
ignorehitpause = 1

[State -2, Danger]
type = VarSet
trigger1 = var(53) !=1 && roundstate=2 && life = [1,250]
var(31) = 9
ignorehitpause = 1

; sound First attack
[State -2, First Attack]
type = PlaySnd
trigger1 = var(52)=0 && var(31)!=0
trigger2 = var(52)=-1 && (movehit || p2movetype = H && p2stateno != [120,159]);p2stateno = 6300 ||p2movetype = H);p2stateno = [5000,5899])
triggerall = NumExplod(8701) = 0
persistent = 0
value = 230,0
channel = 14
volumescale=255
ignorehitpause = 1

; Telop sound
[State -2, Combo Sound]
type = PlaySnd
trigger1 = NumExplod(8701) = 0
trigger1 = var(52)=0 && var(31)!=0
persistent = 0;1
value = 230,var(31)
channel = 14
volumescale=255
ignorehitpause = 1

[State -2, Left]
type = explod
trigger1 = var(52)=0 && var(31)!=0
trigger2 = var(52)=-1 && (movehit || p2movetype = H && p2stateno != [120,159]);p2stateno = 6300 ||p2movetype = H);p2stateno = [5000,5899])
triggerall = TeamSide = 1 && NumExplod(8701) = 0
anim = (8550 + var(31))
ID = 8701
postype = left
pos = 3,80
ontop = 1
bindtime = -1
removetime = 60
ownpal = 1
supermovetime = 60
pausemovetime = 60
scale = 1,1
persistent = 0
ignorehitpause = 1

[State -2, Right]
type = explod
trigger1 = var(52)=0 && var(31)!=0
trigger2 = var(52)=-1 && (movehit || p2movetype = H && p2stateno != [120,159]);p2stateno = 6300 ||p2movetype = H);p2stateno = [5000,5899])
triggerall = TeamSide = 2 && NumExplod(8701) = 0
anim = (8650+ var(31));8011;8720;
ID = 8701
postype = right
pos = -135,80;130;82
ontop = 1
bindtime = -1
removetime = 60;90
ownpal = 1
supermovetime = 60;90
pausemovetime = 60;90
scale = 1,1
persistent = 0;1
ignorehitpause = 1

[State -2, VS_Combo]
type = VarAdd
trigger1 = enemynear, time = 0
trigger1 = enemynear, Hitshakeover = 0
trigger1 = (p2movetype = H && p2stateno != [120,159]);p2stateno = 6300 || p2movetype = H;p2stateno = [5000,5899]
trigger2 = var(52)=-1 && (movehit || p2movetype = H && p2stateno != [120,159]);p2stateno = 6300 || p2movetype = H);p2stateno = [5000,5899])
var(52) = 1 + (var(52)=-1)
ignorehitpause = 1

[State -2, VS_Combo]
type = VarSet
trigger1 = var(52)!=-1 && (p2movetype!=H || enemynear, ctrl)
trigger2 = var(52)=-1 && movetype = H;p2stateno = [5000,5899])
var(52) = 0 - (roundstate<2)
ignorehitpause = 1

[State -2, VS_Combo]
type = VarSet
triggerall = numexplod(8701)!=0
trigger1 = var(52)=0
var(31) = 0
ignorehitpause = 1

[State -2, Score]
type = Varadd
trigger1 = enemynear, time=0
trigger1 = enemynear, Hitshakeover=0
trigger1 = moveguarded || p2stateno = 6300 || p2movetype = H;p2stateno = [5000,5899])
trigger2 = var(52)=-1 && (movehit || p2stateno = 6300 || p2movetype = H);p2stateno = [5000,5899])
trigger3 = roundstate=4 && time=0 && stateno = [180,189]
var(22) = ceil(stateno/50)*var(52) + (life)*(roundstate=4) + (moveguarded)
ignorehitpause = 1

[State -2, Normalize Score]
type = Varset
triggerall = numpartner=1
trigger1 = var(22)< partner, var(22)
var(22) = partner, var(22)

[State -2, Is Danger]
type = VarSet
trigger2 = var(53) = 0 && life <= 250
trigger1 = var(53) = 1 && roundstate!=2
var(53) = (roundstate>1)
ignorehitpause = 1

[State -2, Is First Attack p3]
type = VarSet
triggerall = numpartner=1
trigger1 = partner, movehit
trigger1 = partner, var(52) != -1
var(52) = 0
ignorehitpause = 1

[State 620, ?G???A?????~?b?^?[???A]
type = VarSet
triggerall = numtarget
trigger1 = movehit = 1 && (target,gethitvar(chainid)&64)
trigger2 = projhit = 1 && (target,gethitvar(chainid)&64)
var(6) = 2

[State -2, ?G???A?????~?b?^?[???A]
type = VarSet
trigger1 = !numtarget
var(6) = 0

[State -2, ?G???A?????~?b?^?[???A]
type = VarSet
trigger1 = var(6)= 2 && ctrl && statetype != A
var(6) = 3


[State -2]
type = ChangeState
triggerall = hitshakeover
trigger1 = (stateno = 5000 || stateno = 5010 || stateno = 5020 || stateno = 5070 || stateno = 5080)
trigger1 = !Alive || !Life
value = 5090

[State -2, P2 Facing]
type= targetfacing
trigger1= movecontact=1 && numtarget=1
trigger1= !(target,hitshakeover) && !(target,hitfall) && (target,time<=1)
value= ifelse(p2dist x>=0, -1, 1)
ignorehitpause= 1

;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -3]

;This controller plays a sound everytime KFM lands from a jump, or
;from his back-dash.
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52 ;Jump land
trigger2 = stateno = 106 ;Run-back land
value = s8100, 0


[State -3, Prevent Undergound Juggles]
type= targetbind
trigger1= movehit=1
trigger1= numtarget=1 && numenemy
trigger1= (target,time<=1) && (target,ID=enemynear,ID); this is just to prevent Simul issues as usual
trigger1= !(target,hitshakeover) && (target, hitfall) && (target, pos y>0)
pos= ceil(p2dist x), ceil(-pos y); keeps P2 at the same horizontal distance, but resets his Y position
ignorehitpause= 1

[State -3, Variable Height]
type = PlayerPush
triggerall = StateType = A && NumEnemy
triggerall = P2Dist Y - Vel Y >= (EnemyNear(0), Const(Size.Height) - 52)
triggerall = (StateNo = [40,60]) || (StateNo = [600,650]) ;|| (StateNo = [other air states...] ...)
trigger1 = P2StateType = S
trigger1 = P2Dist Y - Vel Y >= (EnemyNear(0), Const(Size.Height) - -21)
trigger2 = P2StateType = C
trigger2 = P2Dist Y - Vel Y >= (floor(EnemyNear(0), Const(Size.Height)*0.825) - -21) ; 0.825 is chosen because it is a nice float (bitwise) and comes from Sagat's standing pushbox height to his crouching pushbox height.
trigger3 = P2StateType = C
trigger3 = P2Dist Y - Vel Y >= (12 - -21) ; This isn't really necessary since the chance of it triggering is low, but I pulled 12 from Sagat's CvS2 liedown hurt box height
value = 0

;--------;
;Dampener;
;--------;
[state -3, 1]
type = varadd
trigger1 =movehit=1
trigger2 =projhit=1
v = 18
value = 1

[state -3]
type = attackmulset
trigger1 = 1
value = fvar(0)
ignorehitpause = 1

[State -3, VarSet]
type = VarSet
trigger1 = enemynear,movetype!=H
var(18)=0

[state -3]
type = varset
trigger1 = var(18) = 0
fvar(0) = 1; + (.25 * (var(41) > 0))
ignorehitpause = 1

[state -3]
type = varset
trigger1 = var(18) > 0
trigger1 = var(18) <= 4
fvar(0) = .80; + (.25 * (var(41) > 0))
ignorehitpause = 1

[state -3]
type = varset
trigger1 = var(18) > 4
trigger1 = var(18) <= 11
fvar(0) = .60; + (.25 * (var(41) > 0))
ignorehitpause = 1

[state -3]
type = varset
trigger1 = var(18) > 11
trigger1 = var(18) <= 19
fvar(0) = .45; + (.25 * (var(41) > 0))
ignorehitpause = 1

[state -3]
type = varset
trigger1 = var(18) > 19
trigger1 = var(18) <= 26
fvar(0) = .3; + (.25 * (var(41) > 0))
ignorehitpause = 1

[state -3]
type = varset
trigger1 = var(18) > 26
trigger1 = var(18) <= 1000
fvar(0) = .2; + (.25 * (var(41) > 0))
ignorehitpause = 1

;Combo Limiters-------------------------------------------------------------

[State -3, Corner Push]; Reset
type= varset
trigger1= fvar(5)
trigger1= numtarget
trigger1= (target, hitover) || (target, gethitvar(hitshaketime) > 0 && target, time <= 0)
fvar(5)= 0

[State -3, Corner Push]; Get initial velocity
type= varset
trigger1= movecontact=1 && numtarget
fvar(5)= (target, gethitvar(xvel))
ignorehitpause= 1

[State -3, Corner Push]; Apply corner push
type= posadd
triggerall= fvar(5)
triggerall= (statetype = S || statetype = C) && numtarget
triggerall= !hitpausetime && (target, gethitvar(hitshaketime) <= 0)
triggerall= (target, statetype = S || target, statetype = C) && !(target, gethitvar(yvel)) && !(target, hitfall); See note below
trigger1= target, frontedgebodydist <= abs(target, vel x)
trigger1= (target, gethitvar(xvel) * target, facing) > 0
trigger2= target, backedgebodydist <= abs(target, vel x)
trigger2= (target, gethitvar(xvel) * target, facing) < 0
x= ifelse(target, frontedgebodydist <= 0, -1, 1) * (target, facing) * fvar(5)

[State -3, Corner Push]; Apply friction to the velocity
type= varset
trigger1= numtarget
trigger1= target, gethitvar(hitshaketime) <= 0
fvar(5)= fvar(5) * 0.75

;---------------------------------------------------------------------------------------;
;                               Super Jump Enemy Locator                                 ;
;----------------------------------------------------------------------------------------;

; Shows a simbol P1 (O)- own
[State -3, s1]
type = Explod
triggerall = enemynear, alive
trigger1 = enemynear, screenpos y < 0
trigger2 = enemynear, screenpos y > 220 - (const(size.head.pos.y))
trigger3 = P2bodyDist y > 200
anim = 10000 + 2*(!ishometeam)
id = 10000
pos = ceil(enemynear, screenpos x), 20 + (enemynear, screenpos y > 0) * 200
postype = left
ignorehitpause = 1
ontop = 1
bindtime = -1
persistent = 1
removetime = 1
scale = 1, 1
facing = (enemynear, facing)
ownpal =1
sprpriority = 9

; Shows a simbol P1 (>)- own
[State -3, s2]
type = Explod
triggerall = enemynear, alive
trigger1 = enemynear, screenpos y < 0
trigger2 = enemynear, screenpos y > 220 - (const(size.head.pos.y))
trigger3 = P2bodyDist y > 200
anim = 10001 + 2*(!ishometeam)
id = 10001
pos = ceil(enemynear, screenpos x), 20 + (enemynear, screenpos y > 0) * 155
postype = left
ignorehitpause = 1
ontop = 1
bindtime = -1
persistent = 1
removetime = 1
scale = 1, 1
ownpal =1
sprpriority = 9

[state 3000,A]
type = playsnd
trigger1 = var(22) = 3
value = s5544,3
channel = 3
ignorehitpause = 1

[state 163, Destroyself]
type = varset
trigger1 = var(22) != 0
v = 22
value = 0
ignorehitpause = 1

[State -3]
type = PlaySnd
triggerall = Alive
triggerall = Time = 0
triggerall = Var(0) = [0,50]
trigger1 = Stateno = 5000
trigger2 = Stateno = 5010
value = 5000,0+random%9
persistent = 0
volumescale = 255
channel = 0

[State -3, Hit2]
type = PlaySnd
triggerall = Alive
triggerall = Time = 0
triggerall = Var(0) = [0,100]
trigger1 = stateno = 5020
value = 5000,0+random%9
persistent = 0
volumescale =255
channel = 0

[state 1110, 5]
type = playsnd
trigger1 = projhit1100 = 1
trigger2 = projhit3100 = 1
value = s5545,6
channel = 1

[state 1110, 5]
type = playsnd
trigger1 = projguarded1100 = 1
trigger2 = projguarded3100 = 1
value = s5546,0
channel = 1

[State 0, EnvColor]
type = EnvColor
trigger1 = projhit1100 = 1
trigger2 = projhit3100 = 1
value = 255,255,255
time = 1

[state 0, ]
type = null
trigger1 = projhit1100 = 1
trigger2 = projhit3100 = 1
value = 255,255,255
time = 1
ignorehitpause = 1

[state 1110, 5]
type = playsnd
trigger1 = projhit1200 = 1
value = s5544,4
channel = 1

[state 1110, 5]
type = playsnd
trigger1 = projguarded1200 = 1
value = s5546,0
channel = 1

[State 0, EnvColor]
type = EnvColor
trigger1 = projhit1200 = 1
value = 255,255,255
time = 1
persistent = 0

[state 0, ]
type = null
trigger1 = projhit1200 = 1
value = 255,255,255
time = 1
ignorehitpause = 1

[State 5900, 3] ;Change palette
type = RemapPal
trigger1 = 1
source = 1,1
dest = 1,palno
